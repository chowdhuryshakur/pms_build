(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[193],{2054:function(e,t,a){"use strict";a.r(t);var n=a(21),i=a(1),c=a(10),s=a(0),l=a(1108),o=a(1177),r=a(1135),u=a(1075),b=a(1049),m=a(471),d=a(476),j=a(475),O=a(472),g=a(474),p=a(473),f=(a(487),a(492)),h=a(496),x=a(497),C=a(508),v=a.n(C),y=a(509),k=a.n(y),w=a(523),N=a(573),_=a(592),S=a(562),L=a(499),E=a(1017),B=a(494),A=a(1044),D=a(1042),M=a(1043),T=a(861),z=a(463),P=a(517),I=a(6),W=function(e){var t=e.modal,a=e.toggleModal,l=e.ManagerInfo,o=e.setManagerInfo,r=e.resetData,u=e.setReset,b=Object(s.useState)(!1),m=Object(c.a)(b,2),d=m[0],j=m[1],O=Object(s.useState)({email:!1,mobile:!1}),g=Object(c.a)(O,2),C=g[0],v=g[1],y=function(e){var t=/\S+@\S+\.\S+/.test(e.target.value);if("email"===e.target.name&&t&&v(Object(i.a)(Object(i.a)({},C),{},{email:!1})),"email"!==e.target.name||t||v(Object(i.a)(Object(i.a)({},C),{},{email:!0})),"mobile"===e.target.name){if("0"===e.target.value[0])return v(Object(i.a)(Object(i.a)({},C),{},{mobile:!0})),0;if(v(Object(i.a)(Object(i.a)({},C),{},{mobile:!1})),!/^[0-9]*$/.test(e.target.value))return 0}o(Object(i.a)(Object(i.a)({},l),{},Object(n.a)({},e.target.name,e.target.value)))};return Object(I.jsxs)(N.a,{isOpen:t,toggle:a,className:"modal-dialog-centered",children:[Object(I.jsx)(_.a,{toggle:a,children:"Edit Estate Admin Info"}),Object(I.jsx)(S.a,{children:Object(I.jsxs)(L.a,{className:"row",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log(l);var t=l.user_id,n=l.mobile,c=l.email,s=l.full_name,o=l.address;if(!/\S+@\S+\.\S+/.test(c))return v(Object(i.a)(Object(i.a)({},C),{},{email:!0})),0;j(!0),f.a.editEstateManager({estate_manager_id:t,mobile:n,email:c,full_name:s,address:o}).then((function(e){console.log(e),Object(x.b)(e),j(!1),a(),u(!r)})).catch((function(e){Object(x.a)(e),j(!1)}))},autoComplete:"off",children:[Object(I.jsx)(p.a,{md:"12",children:Object(I.jsxs)(E.a,{children:[Object(I.jsx)(B.a,{for:"full_name",children:"Full Name"}),Object(I.jsx)(A.a,{type:"text",id:"full_name",name:"full_name",placeholder:"manager name",value:l.full_name,onChange:y})]})}),Object(I.jsx)(p.a,{md:"12",children:Object(I.jsxs)(E.a,{children:[Object(I.jsx)(B.a,{className:"form-label",for:"mobile",children:"Mobile Number"}),Object(I.jsxs)(D.a,{className:"input-group-merge w-100 mb-1",children:[Object(I.jsx)(M.a,{addonType:"prepend",children:Object(I.jsx)(T.a,{children:h.e})}),Object(I.jsx)(A.a,{autoFocus:!0,type:"text",minLength:10,maxLength:10,id:"mobile",name:"mobile",value:l.mobile,onChange:y,placeholder:"123-456-7899"})]}),C.mobile&&Object(I.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"First digit 0 not allow"})]})}),Object(I.jsx)(p.a,{md:"12",children:Object(I.jsxs)(E.a,{children:[Object(I.jsx)(B.a,{for:"email",children:"Email"}),Object(I.jsx)(A.a,{type:"email",id:"email",name:"email",placeholder:"example@gmail.com",value:l.email,onChange:y}),C.email&&l.email&&Object(I.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Please Enter a valid Email"})]})}),Object(I.jsxs)(p.a,{md:"12",children:[Object(I.jsx)(B.a,{children:"address"}),Object(I.jsx)(A.a,{type:"text",id:"address",name:"address",placeholder:"address",value:l.address,onChange:y})]}),Object(I.jsx)(p.a,{md:"12 text-center",children:Object(I.jsx)(z.a.Ripple,{className:"mt-2",color:"primary",type:"submit",disabled:d,children:d?Object(I.jsx)(P.a,{size:"sm"}):"Update"})})]})})]})},F=k()(v.a);t.default=function(){var e=Object(s.useState)(!0),t=Object(c.a)(e,2),a=t[0],h=t[1],C=Object(s.useState)(!0),y=Object(c.a)(C,2),k=y[0],N=y[1],_=Object(s.useState)([]),S=Object(c.a)(_,2),L=S[0],E=S[1],B=Object(s.useState)({}),A=Object(c.a)(B,2),D=A[0],M=A[1],T=Object(s.useState)(!1),z=Object(c.a)(T,2),P=z[0],R=z[1];Object(s.useEffect)((function(){f.a.EstateAdminsList().then((function(e){console.log(e.data.payload),E(e.data.payload),h(!1)})).catch((function(e){Object(x.a)(e),console.log(e),h(!1)}))}),[k]);var Y=[{name:"Name",minWidth:"100px",sortable:!0,selector:"full_name"},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"Mobile",minWidth:"100px",sortable:!0,selector:"mobile"},{name:"Address",minWidth:"100px",selector:"address"},{name:"Status",minWidth:"100px",selector:function(e){var t={0:{title:"Blocked",color:"light-danger"},1:{title:"Active",color:"light-success"}};return Object(I.jsx)(b.a,{color:t[e.status].color,pill:!0,className:"px-1",children:t[e.status].title})}},{name:"Action",minWidth:"100px",selector:function(e){return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)("span",{title:"Edit",children:Object(I.jsx)(l.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(t){M(e),R(!0)}})}),"\xa0\xa0",Object(I.jsx)("span",{title:"Delete",children:Object(I.jsx)(o.a,{size:15,color:"crimson",style:{cursor:"pointer"},onClick:function(t){return a=e.user_id,F.fire(Object(n.a)({title:"Are you sure to delete?",text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){return f.a.deleteEstateAdmin({estate_manager_id:a}).then((function(e){console.log(e),E(L.filter((function(e){return e.user_id!==a})))})).catch((function(e){Object(x.a)(e),console.log(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!v.a.isLoading()}))).then((function(e){e.isConfirmed}));var a}})}),"\xa0\xa0",e.status?Object(I.jsx)("span",{title:"Block",children:Object(I.jsx)(r.a,{size:15,color:"black",style:{cursor:"pointer"},onClick:function(t){return a=e.user_id,F.fire(Object(n.a)({title:"Are you sure to block?",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){return f.a.blockEstateManager({estate_manager_id:a}).then((function(e){console.log(e),E(L.map((function(e){return e.user_id===a?Object(i.a)(Object(i.a)({},e),{},{status:0}):e})))})).catch((function(e){Object(x.a)(e),console.log(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!v.a.isLoading()}))).then((function(e){e.isConfirmed}));var a}})}):Object(I.jsx)("span",{title:"Activate",children:Object(I.jsx)(u.a,{size:15,color:"dodgerblue",style:{cursor:"pointer"},onClick:function(t){return a=e.user_id,F.fire(Object(n.a)({title:"Are you sure to activate?",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){return f.a.activateEstateManager({estate_manager_id:a}).then((function(e){console.log(e),E(L.map((function(e){return e.user_id===a?Object(i.a)(Object(i.a)({},e),{},{status:1}):e})))})).catch((function(e){Object(x.a)(e),console.log(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!v.a.isLoading()}))).then((function(e){e.isConfirmed}));var a}})})]})}}];return Object(I.jsxs)(m.a,{children:[Object(I.jsx)(d.a,{className:"border-bottom",children:Object(I.jsx)(j.a,{tag:"h4",children:"Estate Admin List"})}),Object(I.jsxs)(O.a,{children:[Object(I.jsx)(g.a,{children:Object(I.jsx)(p.a,{md:"12",children:Object(I.jsx)(w.a,{column:Y,TableData:L,TableDataLoading:a})})}),Object(I.jsx)(W,{toggleModal:function(){return R(!P)},modal:P,resetData:k,setReset:N,setManagerInfo:M,ManagerInfo:D})]})]})}},523:function(e,t,a){"use strict";var n=a(21),i=a(10),c=a(0),s=a(1078),l=a(517),o=a(495),r=a.n(o),u=a(518),b=a.n(u),m=a(6);t.a=function(e){var t=e.column,a=e.TableData,o=e.TableDataLoading,u=Object(c.useState)(0),d=Object(i.a)(u,2),j=d[0],O=d[1];return Object(m.jsx)(c.Fragment,{children:Object(m.jsx)(b.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:15,className:"react-dataTable",sortIcon:Object(m.jsx)(s.a,{size:10}),paginationDefaultPage:j+1,paginationComponent:function(){var e;return Object(m.jsx)(r.a,(e={previousLabel:"",nextLabel:"",forcePage:j,onPageChange:function(e){return function(e){O(e.selected)}(e)},pageCount:a.length?a.length/15:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:o,progressComponent:Object(m.jsx)(l.a,{color:"primary"}),responsive:!0})})}}}]);
//# sourceMappingURL=193.8faceb3e.chunk.js.map