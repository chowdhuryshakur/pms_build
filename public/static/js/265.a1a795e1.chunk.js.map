{"version":3,"sources":["views/tables/data-tables/cashier/DirectDebit/DirectDebitInfoPrinter.js","views/tables/data-tables/cashier/DirectDebit/DDSConfirmation.js","views/tables/data-tables/cashier/DirectDebit/DDSDetails.js","views/tables/data-tables/cashier/DirectDebit/DDSForm.js","assets/images/logo/DirectDebitLogo.png","views/tables/data-tables/cashier/DirectDebit/DirectDebitSet.js","views/viewhelper.js"],"names":["ComponentToPrint","style","width","display","padding","flexWrap","this","props","userinput","firstname","type","defaultValue","lastname","companyname","holderName","isibn","sortCode","accountnumber","email","postcode","address","country","city","React","PureComponent","DDSConfirmation","withReactContent","Swal","setConditionalRendering","setuserinput","setAccountList","setBusiness","setSearchValue","setcontinueBtn","setShowAccountSelect","Button","Ripple","className","color","onClick","isnewaccount","customerid","isneedmorethenonepersontoauth","showDDSForm","showDDSDetails","showDDSConfirmation","size","Card","Media","icon","body","DDSDetails","merchantData","ConditionalRendering","useState","loader","setLoader","CardHeader","CardTitle","tag","Row","Col","md","creditor","merchent_information","merchent_name","merchent_phone_no","merchent_email","Form","autoComplete","marginTop","disabled","Spinner","addpaymentid","idx","businessid","console","log","given_name","family_name","company_name","address_line1","postal_code","account_number","branch_code","account_holder_name","useJwt","setgocardlessdirectdebit","then","res","data","payload","catch","err","Error","DDSForm","errors","setErrors","showCompanyName","setshowCompanyName","continueBtn","isloading","showCustomPostCode","setshowCustomPostCode","CustomPostCode","setCustomPostCode","PostCodeError","setPostCodeError","postcodefetching","setpostcodefetching","businessaddress","setbusinessaddress","tempaddress","settempaddress","onChange","e","target","name","chkLength","test","value","chkEmail","length","accountNumber","componentRef","useRef","ref","onSubmit","preventDefault","IBAN","IBANsortCode","Label","Input","required","placeholder","cursor","userSelect","FormGroup","for","InputGroup","InputGroupAddon","addonType","InputGroupText","id","paddingBottom","outline","postCodeSearch","addresses","map","item","index","label","formatted_address","filter","splice","toString","CustomInput","checked","inline","sm","styles","control","base","state","borderColor","theme","selectThemeColors","classNamePrefix","index1","town_or_city","options","isClearable","trigger","content","current","src","alt","href","DirectDebitSet","setIBAN","setMerchantData","setisloading","business","AllBusinessList","setAllBusinessList","showAccountSelect","ALLaccountlist","setALLAccountList","SearchValue","currentPage","setCurrentPage","isDataTableloading","TableData","setTableData","useEffect","getMerchantDetails","columns","selector","row","accountholdername","minWidth","sortable","String","replace","m","repeat","allowOverflow","cell","AcNo","data44","x","sortcode","handleAccountNumber","customerbusinesslistbycustomerid","customer_id","businesslist","data55","data66","customer_info","businessname","modifyArray","option","action","data11","Number","split","customerpaymentinfolistbybusinessid","business_id","data22","isLoading","noHeader","pagination","paginationPerPage","sortIcon","paginationDefaultPage","paginationComponent","previousLabel","nextLabel","forcePage","onPageChange","page","selected","handlePagination","pageCount","breakLabel","pageRangeDisplayed","marginPagesDisplayed","activeClassName","pageClassName","breakClassName","breakLinkClassName","nextLinkClassName","nextClassName","previousClassName","previousLinkClassName","pageLinkClassName","progressPending","progressComponent","responsive","CardBody","paddingTop","response","status","toast","error","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","ErrorMessage","Object","keys","Success","success"],"mappings":"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","file":"static/js/265.a1a795e1.chunk.js","sourcesContent":["import React from 'react'\r\nimport {\r\n  Card, CardHeader, CardTitle, Button, UncontrolledButtonDropdown, DropdownToggle, DropdownMenu,\r\n  DropdownItem, Input, Label, Row, Col, Badge, Form, FormGroup, UncontrolledDropdown, Spinner,\r\n  CardBody, Modal, ModalHeader, ModalBody, ModalFooter, CustomInput, InputGroup, InputGroupAddon, InputGroupText\r\n} from 'reactstrap'\r\n\r\n\r\nclass ComponentToPrint extends React.PureComponent {\r\n  render() {\r\n    return (\r\n      <div style={{ width: '100%', display: 'flex', padding: '10px', flexWrap: 'wrap' }}>\r\n        <div style={{ width: '100%' }}>\r\n          <h1>Fill in the Information</h1>\r\n        </div>\r\n        {this.props.userinput.firstname ? <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Firstname</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.firstname} style={{ width: '100%', padding: '10px' }} />\r\n        </div> : ''}\r\n        {this.props.userinput.lastname ? <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Lastname</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.lastname} style={{ width: '100%', padding: '10px' }} />\r\n        </div> : ''}\r\n        {this.props.userinput.companyname ? <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Company Name</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.companyname} style={{ width: '100%', padding: '10px' }} />\r\n        </div> : ''}\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Account Holder Name</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.holderName} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >{this.props.userinput.isibn && 'IBAN'} Sort Code</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.sortCode} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >{this.props.userinput.isibn ? 'IBAN' : 'Account Number'}</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.accountnumber} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Email</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.email} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Post Code</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.postcode} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Address</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.address} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >Country</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.country} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '50%', padding: '10px' }}>\r\n          <label >City</label>\r\n          <input type=\"text\" defaultValue={this.props.userinput.city} style={{ width: '100%', padding: '10px' }} />\r\n        </div>\r\n        <div style={{ width: '100%', padding: '10px' }}>\r\n          <small>You may cancel this Direct Debit at any time by contacting TukiTaki or your bank</small>\r\n        </div>\r\n      </div>\r\n      // <Card>\r\n      //   <CardHeader className='border-bottom'>\r\n      //     <CardTitle tag='h3'>Fill in the information</CardTitle>\r\n      //   </CardHeader>\r\n\r\n      //   <Form className=\"p-2\" style={{ width: '100%' }} autoComplete=\"off\">\r\n      //     <Row>\r\n      //       {this.props.userinput.firstname ? <Col md='6' className=\"mb-1\">\r\n      //         <Label >Firstname</Label>\r\n      //         <Input type='text' defaultValue={this.props.userinput.firstname} />\r\n      //       </Col> : ''}\r\n\r\n      //       {this.props.userinput.lastname ? <Col md='6' className=\"mb-1\">\r\n      //         <Label >Lastname</Label>\r\n      //         <Input type='text' defaultValue={this.props.userinput.lastname} />\r\n      //       </Col> : ''}\r\n\r\n      //       {this.props.userinput.companyname ? <Col md='6' className=\"mb-1\">\r\n      //         <Label >Company Name</Label>\r\n      //         <Input type='text' defaultValue={this.props.userinput.companyname} />\r\n      //       </Col> : ''}\r\n\r\n      //       <Col md='6' className=\"mb-1\">\r\n      //         <Label >Account Holder Name</Label>\r\n      //         <Input type='text' defaultValue={this.props.userinput.holderName} />\r\n      //       </Col>\r\n\r\n      //       <Col md='6' className=\"mb-1\">\r\n      //         <Label >{this.props.userinput.isibn && 'IBAN'} Sort Code</Label>\r\n      //         <Input type='number' defaultValue={this.props.userinput.sortCode} />\r\n      //       </Col>\r\n\r\n      //       <Col md='6' className=\"mb-1\">\r\n      //         <Label >{this.props.userinput.isibn ? 'IBAN' : 'Account Number'} </Label>\r\n      //         <Input type='number' defaultValue={this.props.userinput.accountnumber} />\r\n\r\n      //       </Col>\r\n\r\n      //       <Col md='6' className=\"mb-1\">\r\n      //         <Label >Email</Label>\r\n      //         <Input type='email' defaultValue={this.props.userinput.email} />\r\n      //       </Col>\r\n\r\n      //       <Col md='12'>\r\n      //         <hr />\r\n      //         <Card>\r\n      //           <Row>\r\n      //             <Col md='3'>\r\n      //               <FormGroup>\r\n      //                 <Label for='postcode'>Post Code</Label>\r\n      //                 <Input type='text' defaultValue={this.props.userinput.postcode} />\r\n      //               </FormGroup>\r\n      //             </Col>\r\n\r\n      //             <Col md='3' sm='12'>\r\n      //               <FormGroup>\r\n      //                 <Label for='address'>Address</Label>\r\n      //                 <Input type='text' defaultValue={this.props.userinput.address} />\r\n      //               </FormGroup>\r\n      //             </Col>\r\n\r\n      //             <Col md='3' sm='12'>\r\n      //               <FormGroup>\r\n      //                 <Label for='country'>Country</Label>\r\n      //                 <Input type='text' defaultValue={this.props.userinput.country} />\r\n      //               </FormGroup>\r\n      //             </Col>\r\n\r\n      //             <Col md='3' sm='12'>\r\n      //               <FormGroup>\r\n      //                 <Label for='city'>City</Label>\r\n      //                 <Input type='text' defaultValue={this.props.userinput.city} />\r\n      //               </FormGroup>\r\n      //             </Col>\r\n      //           </Row>\r\n      //         </Card>\r\n      //       </Col>\r\n\r\n      //       <Col md='12' >\r\n      //         <small>You may cancel this Direct Debit at any time by contacting TukiTaki or your bank</small>\r\n      //       </Col>\r\n\r\n      //     </Row>\r\n      //   </Form>\r\n      // </Card>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default ComponentToPrint","import { useState, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {\r\n    ChevronDown, Share, Printer, FileText, File, Grid, Copy, Plus, MoreVertical,\r\n    Edit, Archive, Trash, Search, Eye, Check, ChevronLeft\r\n} from 'react-feather'\r\nimport Select from 'react-select'\r\nimport { selectThemeColors, transformInToFormObject } from '@utils'\r\nimport {\r\n    Card, CardHeader, CardTitle, Button, UncontrolledButtonDropdown, DropdownToggle, DropdownMenu,\r\n    DropdownItem, Input, Label, Row, Col, Badge, Form, FormGroup, UncontrolledDropdown, Spinner,\r\n    CardBody, Modal, ModalHeader, ModalBody, ModalFooter, Media\r\n} from 'reactstrap'\r\nimport Avatar from '@components/avatar'\r\n\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\n\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\n\r\nconst DDSConfirmation = ({ setConditionalRendering, setuserinput, setAccountList, setBusiness, setSearchValue, setcontinueBtn, setShowAccountSelect }) => {\r\n    const handleReset = () => {\r\n        setuserinput({\r\n            isnewaccount: false,\r\n            isibn: false,\r\n            accountnumber: \"\",\r\n            address: \"\",\r\n            city: \"\",\r\n            companyname: \"\",\r\n            country: \"\",\r\n            email: \"\",\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            postcode: \"\",\r\n            sortCode: \"\",\r\n            holderName: \"\",\r\n            customerid: \"\",\r\n            isneedmorethenonepersontoauth: false\r\n        })\r\n        setConditionalRendering({\r\n            showDDSForm: false,\r\n            showDDSDetails: false,\r\n            showDDSConfirmation: false\r\n        })\r\n        setSearchValue('')\r\n        setAccountList([])\r\n        setShowAccountSelect(false)\r\n        setBusiness([])\r\n        setcontinueBtn(true)\r\n    }\r\n    return (\r\n        <>\r\n            <Button.Ripple className='ml-2 mb-2' color='primary' onClick={handleReset}>\r\n                <ChevronLeft size={15} />\r\n                <span className='align-middle ml-50'>Back to Direct Debit</span>\r\n            </Button.Ripple>\r\n            <Card>\r\n                <div className=\"d-flex justify-content-center pt-1 w-100\">\r\n                    <Media>\r\n                        <Avatar color={'light-success'} icon={<Check size={20} />} className='mr-2' style={{ padding: '7px' }} />\r\n                        <Media className='my-auto' body>\r\n                            <h4 className='font-weight-bolder mb-0'>Direct Debit set up successfully</h4>\r\n                        </Media>\r\n                    </Media>\r\n                </div>\r\n                <hr />\r\n                <div className=\"p-2\">\r\n                    <p>TukiTaki Ltd will appear on your bank statement when payments are taken against this Direct Debit. <br />\r\n                        You will receive notification via email or post within <b className='text-info'>3 business days</b> confirming that the mandate has been set up.\r\n                    </p>\r\n                </div>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DDSConfirmation","import { useState, useEffect } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {\r\n    ChevronDown, Share, Printer, FileText, File, Grid, Copy, Plus, MoreVertical,\r\n    Edit, Archive, Trash, Search, Eye, ChevronRight, Send\r\n} from 'react-feather'\r\nimport Select from 'react-select'\r\nimport { selectThemeColors, transformInToFormObject } from '@utils'\r\nimport {\r\n    Card, CardHeader, CardTitle, Button, UncontrolledButtonDropdown, DropdownToggle, DropdownMenu,\r\n    DropdownItem, Input, Label, Row, Col, Badge, Form, FormGroup, UncontrolledDropdown, Spinner,\r\n    CardBody, Modal, ModalHeader, ModalBody, ModalFooter, CustomInput\r\n} from 'reactstrap'\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\nimport { Error } from '../../../../viewhelper'\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\n\r\nconst DDSDetails = ({ merchantData, userinput, setuserinput, ConditionalRendering, setConditionalRendering }) => {\r\n    const [loader, setLoader] = useState(false)\r\n\r\n    const handleEdit = () => {\r\n        setConditionalRendering({\r\n            showDDSForm: true,\r\n            showDDSDetails: false,\r\n            showDDSConfirmation: false\r\n        })\r\n    }\r\n    const handleSubmit = () => {\r\n        setLoader(true)\r\n        const { isibn, accountnumber, addpaymentid = 0, idx = 0, businessid = 0, address, city, companyname, country, email, firstname, lastname, postcode, sortCode, holderName, customerid, isneedmorethenonepersontoauth, isnewaccount } = userinput\r\n        console.log({\r\n            isnewaccount: isnewaccount ? isnewaccount : false,\r\n            email,\r\n            isibn: isibn ? isibn : false,\r\n            given_name: firstname ? firstname : null,\r\n            family_name: lastname ? lastname : null,\r\n            company_name: companyname ? companyname : null,\r\n            address_line1: address,\r\n            city,\r\n            country,\r\n            postal_code: postcode,\r\n            account_number: accountnumber,\r\n            // account_number: \"55779911\",\r\n            branch_code: sortCode,\r\n            // branch_code: \"200000\",\r\n            account_holder_name: holderName,\r\n            isneedmorethenonepersontoauth: isneedmorethenonepersontoauth ? isneedmorethenonepersontoauth : false,\r\n            customerid,\r\n            businessid,\r\n            idx,\r\n            addpaymentid\r\n        })\r\n        useJwt.setgocardlessdirectdebit({\r\n            isnewaccount: isnewaccount ? isnewaccount : false,\r\n            email,\r\n            isibn: isibn ? isibn : false,\r\n            given_name: firstname ? firstname : null,\r\n            family_name: lastname ? lastname : null,\r\n            company_name: companyname ? companyname : null,\r\n            address_line1: address,\r\n            city,\r\n            country,\r\n            postal_code: postcode,\r\n            account_number: accountnumber,\r\n            // account_number: \"55779911\",\r\n            branch_code: sortCode,\r\n            // branch_code: \"200000\",\r\n            account_holder_name: holderName,\r\n            isneedmorethenonepersontoauth: isneedmorethenonepersontoauth ? isneedmorethenonepersontoauth : false,\r\n            customerid,\r\n            businessid,\r\n            idx,\r\n            addpaymentid\r\n        }).then(res => {\r\n            setLoader(false)\r\n            console.log(res.data.payload)\r\n            setConditionalRendering({\r\n                showDDSForm: false,\r\n                showDDSDetails: false,\r\n                showDDSConfirmation: true\r\n            })\r\n        }).catch(err => {\r\n            setLoader(false)\r\n            console.log(err)\r\n            Error(err)\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <Card>\r\n                <CardHeader className='border-bottom'>\r\n                    <CardTitle tag='h3'>Check your details are correct</CardTitle>\r\n                </CardHeader>\r\n                <Row className=\"p-2\">\r\n                    <Col md='12'>\r\n                        <div className=\"bg-light w-100 p-2\">\r\n                            <Row>\r\n                                <Col md='4'>\r\n                                    <p>Account Name</p>\r\n                                    <p><b>{`${userinput.firstname} ${userinput.lastname}` || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4'>\r\n                                    <p>Company Name</p>\r\n                                    <p><b>{userinput.companyname || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4'>\r\n                                    <p>Email</p>\r\n                                    <p><b>{userinput.email || \"-\"}</b></p>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                        {/* <div className=\"bg-light w-100 p-2 mt-1\">\r\n                            <Row>\r\n                                <Col md='3'>\r\n                                    <p>Post Code</p>\r\n                                    <p><b>{userinput.postcode || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='3'>\r\n                                    <p>Address</p>\r\n                                    <p><b>{userinput.address || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='3'>\r\n                                    <p>Country</p>\r\n                                    <p><b>{userinput.country || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='3'>\r\n                                    <p>City</p>\r\n                                    <p><b>{userinput.city || \"-\"}</b></p>\r\n                                </Col>\r\n                            </Row>\r\n                        </div> */}\r\n                        <div className=\"bg-light w-100 p-2 mt-1\">\r\n                            <Row>\r\n                                <Col md='4'>\r\n                                    <p>Account Holder Name</p>\r\n                                    <p><b>{userinput.holderName || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4'>\r\n                                    <p>Account Number</p>\r\n                                    <p><b>{userinput.accountnumber || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4'>\r\n                                    <p>Sort Code</p>\r\n                                    <p><b>{userinput.sortCode || \"-\"}</b></p>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                        <div className=\"bg-light w-100 p-2 mt-1\">\r\n                            <Row>\r\n                                <Col md='4' className=\"mb-2\">\r\n                                    <p>Creditor</p>\r\n                                    <p><b>{merchantData.creditor || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4' className=\"mb-2\">\r\n                                    <p>Merchant Information</p>\r\n                                    <p><b>{merchantData.merchent_information || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4' className=\"mb-2\"></Col>\r\n                                <Col md='4' className=\"mb-2\">\r\n                                    <p>Merchant Name</p>\r\n                                    <p><b>{merchantData.merchent_name || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4' className=\"mb-2\">\r\n                                    <p>Merchant's Phone Number</p>\r\n                                    <p><b>{merchantData.merchent_phone_no || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='4' className=\"mb-2\">\r\n                                    <p>Merchant Email</p>\r\n                                    <p><b>{merchantData.merchent_email || \"-\"}</b></p>\r\n                                </Col>\r\n                                <Col md='12'>\r\n                                    <p>Name that will appear on payers' bank statements</p>\r\n                                    <p><b>{merchantData.merchent_name || \"-\"}</b></p>\r\n                                </Col>\r\n                            </Row>\r\n                        </div>\r\n                    </Col>\r\n                </Row>\r\n\r\n                <Form className=\"p-2\" style={{ width: '100%' }} autoComplete=\"off\">\r\n                    <Row>\r\n                        <Col md='12'>\r\n                            {/* <CustomInput\r\n                                type='checkbox'\r\n                                disabled\r\n                                checked={userinput.isneedmorethenonepersontoauth}\r\n                                inline\r\n                                label='More than one person is required to authorise Direct Debits' /> <br /> */}\r\n                            <small>You may cancel this Direct Debit at any time by contacting TukiTaki or your bank</small>\r\n                        </Col>\r\n                        <Col md='12' className='text-center'>\r\n                            <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }} onClick={handleEdit}>\r\n                                <Edit size={15} />\r\n                                <span className='align-middle ml-50'>Change</span>\r\n                            </Button.Ripple>\r\n                            {loader ? <Button.Ripple className='ml-2' color='primary' disabled style={{ marginTop: '22px' }}>\r\n                                <Spinner size='sm' />\r\n                                <span className='align-middle ml-50'>Loading...</span>\r\n                            </Button.Ripple> : <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }} onClick={handleSubmit}>\r\n                                <Send size={15} />\r\n                                <span className='align-middle ml-50'>Submit</span>\r\n                            </Button.Ripple>}\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DDSDetails","import React, { useState, useRef } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {\r\n    ChevronDown, Share, Printer, FileText, File, Search, Copy, Plus, MoreVertical, Edit, Archive, Trash, Send, Eye, ChevronRight\r\n} from 'react-feather'\r\nimport Select from 'react-select'\r\nimport { selectThemeColors, transformInToFormObject } from '@utils'\r\nimport {\r\n    Card, CardHeader, CardTitle, Button, UncontrolledButtonDropdown, DropdownToggle, DropdownMenu,\r\n    DropdownItem, Input, Label, Row, Col, Badge, Form, FormGroup, UncontrolledDropdown, Spinner,\r\n    CardBody, Modal, ModalHeader, ModalBody, ModalFooter, CustomInput, InputGroup, InputGroupAddon, InputGroupText\r\n} from 'reactstrap'\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\nimport ReactToPrint from 'react-to-print'\r\nimport ComponentToPrint from './DirectDebitInfoPrinter'\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\nimport DirectDebitLogo from '../../../../../assets/images/logo/DirectDebitLogo.png'\r\n\r\nconst DDSForm = (props) => {\r\n    const { errors, setErrors, userinput, setuserinput, setConditionalRendering, showCompanyName, setshowCompanyName, continueBtn, setcontinueBtn } = props\r\n    const [isloading, setisloading] = useState(false)\r\n    const [showCustomPostCode, setshowCustomPostCode] = useState(false)\r\n    const [CustomPostCode, setCustomPostCode] = useState(true)\r\n    const [PostCodeError, setPostCodeError] = useState(false)\r\n    const [postcodefetching, setpostcodefetching] = useState(false)\r\n    const [businessaddress, setbusinessaddress] = useState([])\r\n    const [tempaddress, settempaddress] = useState([])\r\n\r\n    const onChange = (e) => {\r\n        if (e.target.name === 'postcode') {\r\n            const chkLength = /^.{6,8}$/.test(e.target.value)\r\n            if (chkLength) {\r\n                setPostCodeError(false)\r\n            } else { setPostCodeError(true) }\r\n            // console.log(chkLength)\r\n        }\r\n        if (e.target.name === 'email') {\r\n            const chkEmail = /\\S+@\\S+\\.\\S+/.test(e.target.value)\r\n            const err = { ...errors }\r\n            !chkEmail ? err.email = true : err.email = false\r\n            setErrors({ ...err })\r\n        }\r\n        if (e.target.name === 'sortCode') {\r\n            const err = { ...errors }\r\n            e.target.value.length !== 6 ? err.sortCode = true : err.sortCode = false\r\n            setErrors({ ...err })\r\n        }\r\n        if (e.target.name === 'accountnumber') {\r\n            const err = { ...errors }\r\n            e.target.value.length !== 8 ? err.accountNumber = true : err.accountNumber = false\r\n            setErrors({ ...err })\r\n        }\r\n        setuserinput({ ...userinput, [e.target.name]: e.target.value })\r\n    }\r\n\r\n\r\n    const addressChange = (item) => {\r\n        const index1 = +item.value\r\n        setuserinput({ ...userinput, address: item.label, country: tempaddress[index1].country, city: tempaddress[index1].town_or_city })\r\n    }\r\n\r\n    const handleCustomPostCode = (e) => {\r\n        setuserinput({ ...userinput, country: '', address: '', city: '' })\r\n        if (e.target.checked) {\r\n            setCustomPostCode(false)\r\n        } else {\r\n            setCustomPostCode(true)\r\n        }\r\n    }\r\n\r\n    const hanldeAuthPerson = (e) => {\r\n        if (e.target.checked) {\r\n            setuserinput({ ...userinput, isneedmorethenonepersontoauth: true })\r\n        } else {\r\n            setuserinput({ ...userinput, isneedmorethenonepersontoauth: false })\r\n        }\r\n    }\r\n\r\n    const searchPostcode = () => {\r\n        if (userinput.postcode && (userinput.postcode.length > 5 && userinput.postcode.length < 9)) {\r\n            setpostcodefetching(true)\r\n            setbusinessaddress([])\r\n            setuserinput({ ...userinput, address: '', country: '', city: '' })\r\n            useJwt.postCodeSearch({ postcode: userinput.postcode }).then(res => {\r\n                const { addresses } = res.data.payload\r\n                console.log(addresses)\r\n                if (!addresses.length) {\r\n                    setshowCustomPostCode(true)\r\n                } else { setshowCustomPostCode(false) }\r\n                setCustomPostCode(true)\r\n                const data = addresses.map((item, index) => {\r\n                    const format = item.formatted_address.filter(item => item).splice(0, 1).toString()\r\n                    return { value: index, label: format }\r\n                })  //convert to string\r\n                setpostcodefetching(false)\r\n                setbusinessaddress(data)\r\n                settempaddress(addresses)\r\n                // setuserinput({ ...userinput })\r\n            })\r\n                .catch(err => {\r\n                    setpostcodefetching(false)\r\n                    Error(err)\r\n                    setshowCustomPostCode(true)\r\n                })\r\n        }\r\n    }\r\n\r\n    const handleContinue = () => {\r\n        setConditionalRendering({\r\n            showDDSForm: false,\r\n            showDDSDetails: true,\r\n            showDDSConfirmation: false\r\n        })\r\n    }\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        setcontinueBtn(true)\r\n        const { IBAN, IBANsortCode, accountnumber, address, city, companyname, country, email, firstname, lastname, postcode, sortCode, holderName, customerid, isneedmorethenonepersontoauth } = userinput\r\n\r\n        const err = { ...errors }\r\n        !address ? err.address = true : err.address = false\r\n        setErrors({ ...err })\r\n\r\n        if (!address || errors.email || errors.sortCode || errors.accountNumber) {\r\n            return\r\n        }\r\n        setConditionalRendering({\r\n            showDDSForm: false,\r\n            showDDSDetails: true,\r\n            showDDSConfirmation: false\r\n        })\r\n        console.log(userinput)\r\n        setcontinueBtn(false)\r\n    }\r\n    const componentRef = useRef()\r\n    return (\r\n        <>\r\n            <Card>\r\n                <CardHeader className='border-bottom'>\r\n                    <CardTitle tag='h3'>Fill in the information</CardTitle>\r\n                    <div>\r\n                        {/* <ReactToPrint\r\n                            trigger={() => <button>Print this out!</button>}\r\n                            content={() => componentRef.current}\r\n                        /> */}\r\n                        <div style={{ display: 'none' }}>\r\n                            <ComponentToPrint ref={componentRef} userinput={userinput} />\r\n                        </div>\r\n                    </div>\r\n                </CardHeader>\r\n                <Form className=\"p-2\" style={{ width: '100%' }} onSubmit={onSubmit} autoComplete=\"off\">\r\n                    <Row>\r\n                        <Col md='6' className=\"mb-1\">\r\n                            <Label >{showCompanyName ? 'Company name' : 'First Name'}</Label>\r\n                            {!showCompanyName ? <Input\r\n                                required\r\n                                placeholder=\"Firstname\"\r\n                                type='text'\r\n                                name='firstname'\r\n                                value={userinput.firstname}\r\n                                onChange={onChange}\r\n                            /> : <Input\r\n                                required\r\n                                placeholder=\"Your Company Name\"\r\n                                type='text'\r\n                                name='companyname'\r\n                                value={userinput.companyname}\r\n                                onChange={onChange}\r\n                            />}\r\n                            <p style={{ cursor: 'pointer', userSelect: 'none' }}\r\n                                className=\"text-primary p-0 mt-1 m-0\"\r\n                                onClick={() => {\r\n                                    setshowCompanyName(!showCompanyName)\r\n                                }}>Click here to enter your {!showCompanyName ? 'company' : 'full'} name</p>\r\n                        </Col>\r\n\r\n                        {!showCompanyName && <Col md='6' className=\"mb-1\">\r\n                            <Label >Last Name</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder=\"Lastname\"\r\n                                type='text'\r\n                                name='lastname'\r\n                                value={userinput.lastname}\r\n                                onChange={onChange}\r\n                            />\r\n                        </Col>}\r\n                        <Col md='6' className=\"mb-1\">\r\n                            <Label >Account Holder Name</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder=\"Account Holder Name\"\r\n                                type='text'\r\n                                name='holderName'\r\n                                value={userinput.holderName}\r\n                                onChange={onChange}\r\n                                disabled={!userinput.isnewaccount}\r\n                            />\r\n                        </Col>\r\n                        {/* <Col md='6' className=\"mb-1\">\r\n                            <Label >TukiTaki Customer ID</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder=\"Customer Id\"\r\n                                type='number'\r\n                                name='customerid'\r\n                                value={userinput.customerid}\r\n                                onChange={onChange}\r\n                            />\r\n                        </Col> */}\r\n\r\n                        <Col md='6' className=\"mb-1\">\r\n                            <Label >{userinput.isibn && 'IBAN'} Sort Code</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder='Sort Code'\r\n                                type='number'\r\n                                name='sortCode'\r\n                                value={userinput.sortCode}\r\n                                onChange={onChange}\r\n                                disabled={!userinput.isnewaccount}\r\n                            />\r\n                            {errors.sortCode && <small style={{ color: 'red' }}>must be 6 character</small>}\r\n                        </Col>\r\n\r\n                        <Col md='6' className=\"mb-1\">\r\n                            <Label >{userinput.isibn ? 'IBAN' : 'Account Number'} </Label>\r\n                            <Input\r\n                                required\r\n                                placeholder='Account Number'\r\n                                type='number'\r\n                                name='accountnumber'\r\n                                value={userinput.accountnumber}\r\n                                onChange={onChange}\r\n                                disabled={!userinput.isnewaccount}\r\n                            />\r\n                            {errors.accountNumber && <small style={{ color: 'red' }}>must be 8 character</small>}\r\n                            <p style={{ cursor: 'pointer', userSelect: 'none' }}\r\n                                className=\"text-primary p-0 mt-1 m-0\"\r\n                                onClick={() => {\r\n                                    setuserinput({ ...userinput, isibn: !userinput.isibn })\r\n                                }}>Click here to enter {userinput.isibn ? 'account number' : 'IBAN'}</p>\r\n                        </Col>\r\n\r\n                        <Col md='6' className=\"mb-1\">\r\n                            <Label >Email</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder=\"Your Email\"\r\n                                type='email'\r\n                                name='email'\r\n                                value={userinput.email}\r\n                                onChange={onChange}\r\n                            />\r\n                            {errors.email && <small style={{ color: 'red' }}>Please enter a valid email</small>}\r\n                        </Col>\r\n                        <Col md='12'>\r\n                            <hr />\r\n                            <Card>\r\n                                <Row>\r\n                                    <Col md='4'>\r\n                                        <FormGroup>\r\n                                            <Label for='postcode'>Post Code<span style={{ color: 'red' }}>*</span></Label>\r\n                                            <InputGroup className='input-group-merge mb-1'>\r\n                                                <InputGroupAddon addonType='prepend'>\r\n                                                    <InputGroupText>\r\n                                                        <Search size={14} />\r\n                                                    </InputGroupText>\r\n                                                </InputGroupAddon>\r\n                                                <Input type='text'\r\n                                                    name='postcode'\r\n                                                    id='postcode'\r\n                                                    placeholder='Post Code'\r\n                                                    value={userinput.postcode}\r\n                                                    onChange={onChange}\r\n                                                    required\r\n                                                />\r\n                                                <InputGroupAddon addonType='append'>\r\n                                                    {postcodefetching ? <Button style={{ paddingBottom: '9px' }} color='primary' outline disabled>\r\n                                                        <Spinner color='primary' size='sm' />\r\n                                                    </Button> : <Button color='primary' outline onClick={searchPostcode}>\r\n                                                        Search\r\n                                                    </Button>\r\n                                                    }\r\n                                                </InputGroupAddon>\r\n                                                <div className=\"p-0 m-0 w-100\">\r\n                                                    {showCustomPostCode && !PostCodeError && <small style={{ color: 'red' }}> postcode notfound</small>}\r\n                                                </div>\r\n                                                <div className=\"p-0 m-0 w-100\">\r\n                                                    {PostCodeError && <small style={{ color: 'red' }}> postcode must be 6 to 8 character</small>}\r\n                                                </div>\r\n                                                {/* {errors && errors.postcode && <FormFeedback>{errors.postcode.message}</FormFeedback>} */}\r\n                                            </InputGroup>\r\n                                            {showCustomPostCode && <CustomInput type='checkbox' id={'postcode1'} value={'CPC'} onChange={handleCustomPostCode} inline label='Click here to enter your address manually' />}\r\n                                        </FormGroup>\r\n                                    </Col>\r\n                                    <Col md='3' sm='12'>\r\n                                        <FormGroup>\r\n                                            <Label for='address'>Address <span style={{ color: 'red' }}>*</span></Label>\r\n                                            {\r\n                                                businessaddress.length ? <Select\r\n                                                    styles={{\r\n                                                        control: (base, state) => ({\r\n                                                            ...base,\r\n                                                            borderColor: '#7367f0'\r\n                                                        })\r\n                                                    }}\r\n                                                    theme={selectThemeColors}\r\n                                                    className='react-select'\r\n                                                    classNamePrefix='select'\r\n                                                    name=\"address\"\r\n                                                    required\r\n                                                    onChange={addressChange}\r\n                                                    // defaultValue={businessaddress[0]}\r\n                                                    options={businessaddress}\r\n                                                    isClearable={false}\r\n                                                /> : <Input\r\n                                                    type='text'\r\n                                                    required\r\n                                                    onChange={onChange}\r\n                                                    value={userinput.address}\r\n                                                    disabled={CustomPostCode}\r\n                                                    name='address'\r\n                                                    placeholder='Address' />\r\n                                            }\r\n                                            {errors.address && !userinput.address && <small style={{ color: 'red' }}>Address is required</small>}\r\n                                        </FormGroup>\r\n                                    </Col>\r\n                                    <Col md='3' sm='12'>\r\n                                        <FormGroup>\r\n                                            <Label for='country'>Country <span style={{ color: 'red' }}>*</span></Label>\r\n                                            <Input onChange={onChange} type='text' required name='country' value={userinput.country} disabled={CustomPostCode} id='country' placeholder='Country' />\r\n                                        </FormGroup>\r\n                                    </Col>\r\n\r\n                                    <Col md='2' sm='12'>\r\n                                        <FormGroup>\r\n                                            <Label for='city'>City <span style={{ color: 'red' }}>*</span></Label>\r\n                                            <Input onChange={onChange} type='text' required name='city' value={userinput.city} disabled={CustomPostCode} id='city' placeholder='City' />\r\n                                        </FormGroup>\r\n                                    </Col>\r\n                                </Row>\r\n                            </Card>\r\n                        </Col>\r\n\r\n                        <Col md='12' >\r\n                            {/* <CustomInput\r\n                                type='checkbox'\r\n                                id={'AuthMoreThanOne'}\r\n                                // value={'AuthMoreThanOne'}\r\n                                checked={userinput.isneedmorethenonepersontoauth}\r\n                                onChange={hanldeAuthPerson}\r\n                                inline\r\n                                label='More than one person is required to authorise Direct Debits' /> */}\r\n                            <small>You may cancel this Direct Debit at any time by contacting TukiTaki or your bank</small>\r\n                        </Col>\r\n\r\n                        <Col md='12' className='text-center'>\r\n                            <ReactToPrint\r\n                                trigger={() => <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }}>\r\n                                    <Printer size={15} />\r\n                                    <span className='align-middle ml-50'>Print</span>\r\n                                </Button.Ripple>}\r\n                                content={() => componentRef.current}\r\n                            />\r\n\r\n                            {isloading ? <Button.Ripple className='ml-1' color='primary' disabled={true} style={{ marginTop: '22px' }}>\r\n                                <Spinner color='white' size='sm' />\r\n                                <small className='ml-50'>Loading...</small>\r\n                            </Button.Ripple> : <Button.Ripple className='ml-2' color='primary' style={{ marginTop: '22px' }} type=\"submit\">\r\n                                <span className='align-middle ml-50'>Continue</span>\r\n                                <ChevronRight size={15} />\r\n                            </Button.Ripple>\r\n                            }\r\n\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Card>\r\n            <Card>\r\n                <CardHeader className='border-bottom'>\r\n                    <CardTitle tag='h5'>Direct Debit Guarantee</CardTitle>\r\n                    <img src={DirectDebitLogo} alt=\"\" />\r\n                </CardHeader>\r\n                <div className=\"w-100 bg-light p-2\">\r\n                    <ul>\r\n                        <li>This Guarantee is offerd by all banks and building societies that accept instructions to pay Direct Debits.</li>\r\n                        <br />\r\n                        <li>If there any changes to the amount, date or interval of your Direct Debit GC re TukiTaki will notify you 3 working days in advance of your account being debited or as otherwise agreed. If you request GC re TukiTaki to collect a payment, confirmation of the amount and date will be given to you at the time of the request. </li><br />\r\n\r\n                        <li>If an error is made in the payment of your Direct Debit, by GC re TukiTaki or your bank or building society, you are entitled to a full and immmediate refund of the amount paid from your bank or building society-if you receive a refund you are not entitled to , you must pay it back GC re TukiTaki asks you to.</li><br />\r\n\r\n                        <li>You can cancel a Direct Debit at any time by simply contacting your bank or building society. Written confirmation may be required. Please also notify us.</li>\r\n                    </ul>\r\n                    <hr />\r\n                    <p><small>\r\n                        We use  GoCardless to precess your Direct Debit payments. More information on how GoCardless process your personal data and your data protection rights, including your right to object, is available at <a href=\"https://gocardless.com/privacy\" target=\"_blank\">gocardless.com/legal/privacy/</a> <br /> Your payment is protected by the  <a href=\"https://gocardless.com/direct-debit/guarantee/\" target=\"_blank\">Direct Debit Guarantee</a>\r\n                    </small></p>\r\n                </div>\r\n            </Card>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DDSForm","export default \"data:image/png;base64,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\"","import { useState, useEffect, useRef, Fragment } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {\r\n    ChevronDown, Share, Printer, FileText, File, Search, Copy, Plus, MoreVertical, Edit, Archive, Trash, Send, Eye, ChevronRight\r\n} from 'react-feather'\r\n// ** Third Party Components\r\nimport ReactPaginate from 'react-paginate'\r\nimport DataTable from 'react-data-table-component'\r\nimport Select from 'react-select'\r\nimport { selectThemeColors, transformInToFormObject } from '@utils'\r\nimport {\r\n    Card, CardHeader, CardTitle, Button, UncontrolledButtonDropdown, DropdownToggle, DropdownMenu,\r\n    DropdownItem, Input, Label, Row, Col, Badge, Form, FormGroup, UncontrolledDropdown, Spinner,\r\n    CardBody, Modal, ModalHeader, ModalBody, ModalFooter, CustomInput, InputGroup, InputGroupAddon, InputGroupText\r\n} from 'reactstrap'\r\nimport useJwt from '@src/auth/jwt/useJwt'\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nconst MySwal = withReactContent(Swal)\r\nimport ReactToPrint from 'react-to-print'\r\nimport ComponentToPrint from './DirectDebitInfoPrinter'\r\nimport DDSConfirmation from './DDSConfirmation'\r\nimport DDSDetails from './DDSDetails'\r\nimport DDSForm from './DDSForm'\r\nimport { Error } from '../../../../viewhelper'\r\n\r\nconst DirectDebitSet = () => {\r\n    const [IBAN, setIBAN] = useState(false)\r\n    const [showCompanyName, setshowCompanyName] = useState(false)\r\n    const [merchantData, setMerchantData] = useState([])\r\n    const [isloading, setisloading] = useState(false)\r\n    const [business, setBusiness] = useState([])\r\n    const [AllBusinessList, setAllBusinessList] = useState([])\r\n    const [accountlist, setAccountList] = useState([])\r\n    const [showAccountSelect, setShowAccountSelect] = useState(false)\r\n    const [ALLaccountlist, setALLAccountList] = useState([])\r\n    const [SearchValue, setSearchValue] = useState('')\r\n    const [continueBtn, setcontinueBtn] = useState(true)\r\n    const [currentPage, setCurrentPage] = useState(0)\r\n    const [isDataTableloading, setDataTableloading] = useState(false)\r\n    const [TableData, setTableData] = useState([])\r\n\r\n    const [errors, setErrors] = useState({\r\n        email: false,\r\n        address: false,\r\n        accountNumber: false,\r\n        sortCode: false\r\n    })\r\n\r\n    const [ConditionalRendering, setConditionalRendering] = useState({\r\n        showDDSForm: false,\r\n        showDDSDetails: false,\r\n        showDDSConfirmation: false\r\n    })\r\n    const [userinput, setuserinput] = useState({\r\n        isnewaccount: false,\r\n        isibn: false,\r\n        accountnumber: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        companyname: \"\",\r\n        country: \"\",\r\n        email: \"\",\r\n        firstname: \"\",\r\n        lastname: \"\",\r\n        postcode: \"\",\r\n        sortCode: \"\",\r\n        holderName: \"\",\r\n        customerid: \"\",\r\n        isneedmorethenonepersontoauth: false,\r\n        addpaymentid:0\r\n    })\r\n\r\n    useEffect(() => {\r\n        useJwt.getMerchantDetails().then(res => {\r\n            // console.log(res.data.payload)\r\n            setMerchantData(res.data.payload)\r\n        }).catch(err => {\r\n            console.log(err)\r\n            Error(err)\r\n        })\r\n    }, [])\r\n\r\n    const componentRef = useRef()\r\n\r\n    const onChange = (e) => {\r\n        setSearchValue(e.target.value)\r\n    }\r\n    const handleSearchByBusinessID = (option, { action }) => {\r\n        setisloading(true)\r\n        if (action === 'clear') {\r\n            console.log('cleared')\r\n        } else {\r\n            setAccountList([])\r\n            setShowAccountSelect(false)\r\n            const filterArray = AllBusinessList.filter(x => Number(x.id) === Number(option.value))\r\n            const data11 = filterArray[0]\r\n\r\n            setConditionalRendering({\r\n                showDDSForm: false,\r\n                showDDSDetails: false,\r\n                showDDSConfirmation: false\r\n            })\r\n            // console.log(data11.address.split(\",\", 2).toString())\r\n            setuserinput({\r\n                ...userinput,\r\n                address: data11.address.split(\",\", 2).toString(),\r\n                city: data11.city,\r\n                companyname: data11.businessname,\r\n                country: data11.country,\r\n                email: data11.email,\r\n                postcode: data11.postcode,\r\n                businessid:data11.id,\r\n                accountnumber: '',\r\n                sortCode: '',\r\n                holderName: ''\r\n            })\r\n            useJwt.customerpaymentinfolistbybusinessid({ business_id: option.value }).then(res => {\r\n                console.log(res.data.payload)\r\n                const data22 = (res.data.payload)\r\n                setTableData(res.data.payload)\r\n                setALLAccountList(data22)\r\n                const modifyArray = data22.map(x => {\r\n                    return { value: x.accountnumber, label: x.accountnumber }\r\n                })\r\n                setAccountList(modifyArray)\r\n                setisloading(false)\r\n                setShowAccountSelect(true)\r\n            }).catch(err => {\r\n                console.log(err)\r\n                Error(err)\r\n                setisloading(false)\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleAccountNumber = (AcNo) => {\r\n        const filteredArray = ALLaccountlist.filter(x => x.accountnumber === AcNo)\r\n        const data44 = filteredArray[0]\r\n        setuserinput({\r\n            ...userinput,\r\n            isnewaccount: false,\r\n            accountnumber: data44.accountnumber,\r\n            sortCode: data44.sortcode,\r\n            holderName: data44.accountholdername,\r\n            addpaymentid:data44.id\r\n        })\r\n        setConditionalRendering({\r\n            showDDSForm: true,\r\n            showDDSDetails: false,\r\n            showDDSConfirmation: false\r\n        })\r\n        setErrors({\r\n            ...errors,\r\n            accountNumber: false,\r\n            sortCode: false\r\n        })\r\n    }\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault()\r\n        setisloading(true)\r\n        setAccountList([])\r\n        setShowAccountSelect(false)\r\n        setBusiness([])\r\n        setConditionalRendering({\r\n            showDDSForm: false,\r\n            showDDSDetails: false,\r\n            showDDSConfirmation: false\r\n        })\r\n\r\n        useJwt.customerbusinesslistbycustomerid({ customer_id: SearchValue }).then(res => {\r\n            console.log(res.data.payload)\r\n            setAllBusinessList(res.data.payload.businesslist)\r\n            const data55 = (res.data.payload.businesslist[0])\r\n            const data66 = res.data.payload.customer_info\r\n            setuserinput({\r\n                ...userinput,\r\n                accountnumber: data55.accountnumber,\r\n                address: data55.address,\r\n                city: data55.city,\r\n                companyname: data55.businessname,\r\n                country: data55.country,\r\n                email: data55.email,\r\n                firstname: data66.firstname,\r\n                lastname: data66.lastname,\r\n                postcode: data55.postcode,\r\n                sortCode: data55.sortcode,\r\n                holderName: data55.accountholdername,\r\n                customerid: SearchValue,\r\n                idx:data66.idx\r\n            })\r\n            const modifyArray = res.data.payload.businesslist.map(x => {\r\n                return { value: x.id, label: x.businessname }\r\n            })\r\n            setBusiness(modifyArray)\r\n            setisloading(false)\r\n        }).catch(err => {\r\n            setisloading(false)\r\n            console.log(err)\r\n            Error(err)\r\n        })\r\n    }\r\n    const handleAddNewAccount = () => {\r\n        setuserinput({\r\n            ...userinput,\r\n            isnewaccount: true,\r\n            accountnumber: '',\r\n            sortCode: '',\r\n            holderName: ''\r\n        })\r\n        setErrors({\r\n            ...errors,\r\n            accountNumber: false,\r\n            sortCode: false\r\n        })\r\n        setConditionalRendering({\r\n            showDDSForm: true,\r\n            showDDSDetails: false,\r\n            showDDSConfirmation: false\r\n        })\r\n    }\r\n    const columns = [\r\n        {\r\n            name: 'Acc. Holder Name',\r\n            selector: (row, index) => row.accountholdername,\r\n            minWidth: '100px',\r\n            sortable: false\r\n        },\r\n        {\r\n            name: 'Acc. Number',\r\n            selector: (row, index) => String(row.accountnumber).replace(/.{1,5}/, (m) => \"*\".repeat(m.length)),\r\n            minWidth: '100px',\r\n            sortable: false\r\n        },\r\n        {\r\n            name: 'Sort Code',\r\n            selector: 'sortcode',\r\n            minWidth: '100px',\r\n            sortable: false\r\n        },\r\n        {\r\n            name: 'Actions',\r\n            minWidth: '200px',\r\n            allowOverflow: true,\r\n            cell: (row) => {\r\n                return (\r\n                    <Button.Ripple style={{ cursor: 'pointer' }} color='primary' onClick={() => handleAccountNumber(row.accountnumber)}>\r\n                        <span className='align-middle ml-50'>Proceed DD Setup</span>\r\n                    </Button.Ripple>\r\n                )\r\n            }\r\n        }\r\n    ]\r\n    // ** Function to handle Pagination\r\n    const handlePagination = page => {\r\n        setCurrentPage(page.selected)\r\n    }\r\n    // ** Custom Pagination\r\n    const CustomPagination = () => (\r\n        <ReactPaginate\r\n            previousLabel=''\r\n            nextLabel=''\r\n            forcePage={currentPage}\r\n            onPageChange={page => handlePagination(page)}\r\n            pageCount={TableData.length ? TableData.length / 5 : 1}\r\n            breakLabel='...'\r\n            pageRangeDisplayed={2}\r\n            marginPagesDisplayed={2}\r\n            activeClassName='active'\r\n            pageClassName='page-item'\r\n            breakClassName='page-item'\r\n            breakLinkClassName='page-link'\r\n            nextLinkClassName='page-link'\r\n            nextClassName='page-item next'\r\n            previousClassName='page-item prev'\r\n            previousLinkClassName='page-link'\r\n            pageLinkClassName='page-link'\r\n            breakClassName='page-item'\r\n            breakLinkClassName='page-link'\r\n            containerClassName='pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1'\r\n        />\r\n    )\r\n    return (\r\n        <Fragment>\r\n            {!ConditionalRendering.showDDSDetails && !ConditionalRendering.showDDSConfirmation && <Card>\r\n                <Form className=\"py-2 px-1 \" style={{ width: '100%' }} onSubmit={onSubmit} autoComplete=\"off\">\r\n                    <Row>\r\n                        <Col md='6'>\r\n                            <Label>TukiTaki Customer ID</Label>\r\n                            <Input\r\n                                required\r\n                                placeholder=\"e.g. 613837\"\r\n                                id='search-input'\r\n                                type='number'\r\n                                value={SearchValue}\r\n                                onChange={onChange}\r\n                            />\r\n                        </Col>\r\n                        {business.length ? <Col md='3'>\r\n                            <Label for=\"Searchby\">Select a Business</Label>\r\n                            <Select\r\n                                style={{ width: '100%' }}\r\n                                styles={{\r\n                                    control: (base, state) => ({\r\n                                        ...base,\r\n                                        borderColor: '#7367f0'\r\n                                    })\r\n                                }}\r\n                                theme={selectThemeColors}\r\n                                className='react-select'\r\n                                classNamePrefix='select'\r\n                                // name=\"Searchby\"\r\n                                onChange={handleSearchByBusinessID}\r\n                                // defaultValue={business[0]}\r\n                                options={business}\r\n                                isClearable={false}\r\n                                isLoading={false}\r\n                            />\r\n                        </Col> : ''}\r\n                        {/* {accountlist.length ? <Col md='3'>\r\n                            <Label for=\"Searchby\">Select an Account</Label>\r\n                            <Select\r\n                                style={{ width: '100%' }}\r\n                                styles={{\r\n                                    control: (base, state) => ({\r\n                                        ...base,\r\n                                        borderColor: '#7367f0'\r\n                                    })\r\n                                }}\r\n                                theme={selectThemeColors}\r\n                                className='react-select'\r\n                                classNamePrefix='select'\r\n                                // name=\"Searchby\"\r\n                                onChange={handleAccountNumber}\r\n                                // defaultValue={accountlist[0]}\r\n                                options={accountlist}\r\n                                isClearable={false}\r\n                                isLoading={false}\r\n                            />\r\n                        </Col> : ''} */}\r\n                        <Col md='3'>\r\n                            {isloading ? <Button.Ripple className='ml-1' color='primary' disabled={true} style={{ marginTop: '22px' }}>\r\n                                <Spinner color='white' size='sm' />\r\n                                <small className='ml-50'>Loading...</small>\r\n                            </Button.Ripple> : <Button.Ripple className='ml-1' color='primary' type=\"submit\" style={{ marginTop: '22px' }}>\r\n                                <Search size={15} />\r\n                                <span className='align-middle ml-50'>Search</span>\r\n                            </Button.Ripple>\r\n                            }\r\n                        </Col>\r\n                    </Row>\r\n                </Form>\r\n            </Card>}\r\n\r\n            {!ConditionalRendering.showDDSDetails && !ConditionalRendering.showDDSConfirmation && showAccountSelect ? <Card>\r\n                <CardHeader className='border-bottom'>\r\n                    <CardTitle tag='h4'>Select an Account</CardTitle>\r\n                    <Button.Ripple className='ml-1' color='primary' onClick={handleAddNewAccount}>\r\n                        <Plus size={15} />\r\n                        <span className='align-middle ml-50'>Add new</span>\r\n                    </Button.Ripple>\r\n                </CardHeader>\r\n                <DataTable\r\n                    noHeader\r\n                    pagination\r\n                    columns={columns}\r\n                    paginationPerPage={5}\r\n                    className='react-dataTable'\r\n                    sortIcon={<ChevronDown size={10} />}\r\n                    paginationDefaultPage={currentPage + 1}\r\n                    paginationComponent={CustomPagination}\r\n                    data={TableData}\r\n                    progressPending={isDataTableloading}\r\n                    progressComponent={<Spinner color='primary' />}\r\n                    responsive={true}\r\n                />\r\n                <CardBody style={{ paddingTop: '15px' }}>\r\n                </CardBody>\r\n            </Card> : ''}\r\n\r\n            {/* <div>\r\n                <ReactToPrint\r\n                    trigger={() => <button>Print this out!</button>}\r\n                    content={() => componentRef.current}\r\n                />\r\n                <div style={{ display: 'none' }}>\r\n                    <ComponentToPrint ref={componentRef} userinput={userinput}/>\r\n                </div>\r\n            </div> */}\r\n\r\n            {ConditionalRendering.showDDSForm && <DDSForm\r\n                continueBtn={continueBtn}\r\n                setcontinueBtn={setcontinueBtn}\r\n                IBAN={IBAN}\r\n                setIBAN={setIBAN}\r\n                showCompanyName={showCompanyName}\r\n                setshowCompanyName={setshowCompanyName}\r\n                userinput={userinput}\r\n                errors={errors}\r\n                 setErrors={setErrors}\r\n                setuserinput={setuserinput}\r\n                ConditionalRendering={ConditionalRendering}\r\n                setConditionalRendering={setConditionalRendering} />}\r\n\r\n            {ConditionalRendering.showDDSDetails && <DDSDetails\r\n                merchantData={merchantData}\r\n                userinput={userinput}\r\n                setuserinput={setuserinput}\r\n                ConditionalRendering={ConditionalRendering}\r\n                setConditionalRendering={setConditionalRendering} />}\r\n\r\n\r\n            {ConditionalRendering.showDDSConfirmation && <DDSConfirmation\r\n                setcontinueBtn={setcontinueBtn}\r\n                setSearchValue={setSearchValue}\r\n                setAccountList={setAccountList}\r\n                setShowAccountSelect={setShowAccountSelect}\r\n                setBusiness={setBusiness}\r\n                setConditionalRendering={setConditionalRendering}\r\n                setuserinput={setuserinput} />}\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default DirectDebitSet","import { Fragment, useState } from 'react'\r\nimport { toast, Slide } from 'react-toastify'\r\n\r\n    export const Error = (err) => {\r\n        try {\r\n            const e = err.response\r\n            if (e.status === 404 || e.status === 401 || e.status === 400 || e.status === 500) {\r\n                toast.error(e.data.message, {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined\r\n                })  \r\n            } else  {\r\n                toast.error('The server is under maintenance', {\r\n                    position: \"top-right\",\r\n                    autoClose: 5000,\r\n                    hideProgressBar: false,\r\n                    closeOnClick: true,\r\n                    pauseOnHover: true,\r\n                    draggable: true,\r\n                    progress: undefined\r\n                    }) \r\n            }\r\n        } catch (e) {\r\n            toast.error('Please check your connection', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined\r\n                })  \r\n        }\r\n \r\n    }\r\n\r\n    export const ErrorMessage = (err) => {\r\n        try {\r\n        const e = err.response\r\n        if (e.status === 404 || e.status === 401 || e.status === 400) {\r\n            toast.error(e.data.errors ? e.data.errors[Object.keys(e.data.errors)[0]] : e.data.message, {\r\n            position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined\r\n            })  \r\n         }\r\n        } catch (e) {\r\n            toast.error('Please check your connection', {\r\n                position: \"top-right\",\r\n                autoClose: 5000,\r\n                hideProgressBar: false,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined\r\n                })  \r\n        } \r\n    }\r\n    export const Success = (response) => {\r\n        const message = response.data.message || 'success'\r\n        toast.success(message, {\r\n            position: \"top-right\",\r\n            autoClose: 5000,\r\n            hideProgressBar: false,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined\r\n            })  \r\n    }\r\n\r\n"],"sourceRoot":""}