(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[252],{1011:function(e,t,s){},2277:function(e,t,s){"use strict";s.r(t);var c=s(21),a=s(120),n=s(1),i=s(15),o=s(0),l=s(651),r=(s(487),s(493),s(1404)),d=s(1504),j=s(1406),u=s(1506),m=s(1505),b=(s(471),s(127)),p=s(477),O=s(446),h=s(623),x=s(1338),f=s(1375),g=s(465),y=s(467),N=s(472),_=s(1371),w=s(484),v=s(475),C=s(1341),S=s(479),R=s(1368),F=s(562),k=s(565),B=s(557),Y=s(476),z=s(466),U=(s(1011),s(481)),L=s.n(U),E=s(482),A=s.n(E),P=s(456),I=s(535),M=s.n(I),T={1:{title:"Active",color:"light-success "},0:{title:"Pending",color:"light-primary"},5:{title:"Stopped",color:"light-danger"},11:{title:"Unpaid",color:"light-primary"}},D=function(e){return T[e]||{title:"No Status",color:"light-danger"}},H=s(1873),J=s.n(H),q=s(1874),K=s.n(q),G=s(964),Q=s.n(G),V=s(6),W=A()(L.a),X={chart:{toolbar:{show:!1}},dataLabels:{enabled:!1},legend:{show:!0},labels:["Used","Remaining"],stroke:{width:0},colors:["#28c76f66","#28c76f"],grid:{padding:{right:-20,bottom:-8,left:-20}},plotOptions:{pie:{startAngle:0,donut:{labels:{show:!0,name:{offsetY:15},value:{offsetY:-15,formatter:function(e){return"".concat(parseFloat(e)," %")}},total:{show:!0,offsetY:15,label:"IOU",formatter:function(e){return" "}}}}}}};t.default=function(){var e=Object(l.i)().payID,t=Object(l.g)(),s=(Object(o.useRef)(0),Object(o.useState)(!1)),U=Object(i.a)(s,2),E=U[0],A=U[1],I=Object(o.useState)([]),T=Object(i.a)(I,2),H=T[0],q=T[1],G=Object(o.useState)([100,0]),Z=Object(i.a)(G,2),$=Z[0],ee=Z[1],te=Object(o.useState)(-1),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=(Object(o.useContext)(b.a).colors,Object(o.useState)({})),ie=Object(i.a)(ne,2),oe=ie[0],le=ie[1],re=Object(o.useState)({}),de=Object(i.a)(re,2),je=de[0],ue=de[1],me=Object(o.useState)([]),be=Object(i.a)(me,2),pe=be[0],Oe=be[1],he=Object(o.useState)([]),xe=Object(i.a)(he,2),fe=xe[0],ge=xe[1],ye=Object(o.useState)([]),Ne=Object(i.a)(ye,2),_e=Ne[0],we=Ne[1],ve=Object(o.useState)(!0),Ce=Object(i.a)(ve,2),Se=Ce[0],Re=Ce[1],Fe=Object(o.useState)(0),ke=Object(i.a)(Fe,2),Be=ke[0],Ye=ke[1],ze=Object(o.useState)(!0),Ue=Object(i.a)(ze,2),Le=Ue[0],Ee=Ue[1],Ae=Object(o.useState)(""),Pe=Object(i.a)(Ae,2),Ie=Pe[0],Me=Pe[1],Te=Object(o.useState)(0),De=Object(i.a)(Te,2),He=De[0],Je=De[1],qe=Object(o.useState)(!1),Ke=Object(i.a)(qe,2),Ge=Ke[0],Qe=Ke[1],Ve=Object(o.useState)(!1),We=Object(i.a)(Ve,2),Xe=We[0],Ze=We[1],$e=Object(o.useState)([]),et=Object(i.a)($e,2),tt=et[0],st=et[1],ct=Object(o.useState)(!1),at=Object(i.a)(ct,2),nt=at[0],it=at[1],ot=Object(o.useState)(!1),lt=Object(i.a)(ot,2),rt=lt[0],dt=lt[1],jt=Object(o.useState)(""),ut=Object(i.a)(jt,2),mt=ut[0],bt=ut[1],pt=Object(o.useState)(""),Ot=Object(i.a)(pt,2),ht=Ot[0],xt=Ot[1],ft=Object(o.useState)(0),gt=Object(i.a)(ft,2),yt=(gt[0],gt[1],Object(o.useState)(!1)),Nt=Object(i.a)(yt,2),_t=Nt[0],wt=Nt[1],vt=Object(o.useState)(!1),Ct=Object(i.a)(vt,2),St=Ct[0],Rt=Ct[1],Ft=Object(o.useState)(!1),kt=Object(i.a)(Ft,2),Bt=kt[0],Yt=kt[1],zt=Object(o.useState)(!1),Ut=Object(i.a)(zt,2),Lt=Ut[0],Et=Ut[1],At=Object(o.useState)([]),Pt=Object(i.a)(At,2),It=(Pt[0],Pt[1]),Mt=Object(o.useState)(!0),Tt=Object(i.a)(Mt,2),Dt=Tt[0],Ht=Tt[1],Jt=Object(o.useState)(!1),qt=Object(i.a)(Jt,2),Kt=qt[0],Gt=qt[1],Qt=Object(o.useState)(0),Vt=Object(i.a)(Qt,2),Wt=Vt[0],Xt=Vt[1],Zt=Object(o.useState)(!1),$t=Object(i.a)(Zt,2),es=$t[0],ts=$t[1],ss=Object(o.useState)(0),cs=Object(i.a)(ss,2),as=cs[0],ns=cs[1],is=Object(o.useState)(!1),os=Object(i.a)(is,2),ls=os[0],rs=os[1],ds=Object(o.useState)(null),js=Object(i.a)(ds,2),us=(js[0],js[1]),ms=Object(o.useState)(!1),bs=Object(i.a)(ms,2),ps=bs[0],Os=bs[1],hs=function(){console.log("autoreloadingonprocess ",ps),rs(!1),clearInterval(window.customTimeInterval),us(null),Os(!1)},xs=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t&&Gt(!0),z.a.customerinvoicedetailswithsubpaymentinfo({receipt_id:e}).then((function(e){var s=e.data.payload.invoicepaymentinfo,c=!1,a=(void 0===s?[]:s).map((function(e,t){return e.amount,e.payment_success||(c=!0),{id:e.id,time:new Date(e.time).toLocaleString(),typename:e.type_name,amount:e.amount,payment_success:e.payment_success,payment_type_id:e.type_id}}));st(a||[]),c||hs(),Ht(c),t&&Gt(!1)})).catch((function(e){t&&(Gt(!1),Object(P.a)(e)),console.log(e)}))},fs=function(){if(!ls){var e=setInterval((function(){rs(!0),xs(!1),console.log("interval calling..")}),15e3);window.customTimeInterval=e,Os(!0)}};Object(o.useEffect)((function(){z.a.customerinvoicedetailswithsubpaymentinfo({receipt_id:e}).then((function(e){console.log(e.data.payload);var t=e.data.payload,s=t.businessinfo,c=void 0===s?{}:s,a=t.invoiceinfo,n=void 0===a?{}:a,i=t.invoicepaymentinfo,o=void 0===i?[]:i,l=t.selectedinvoiceinfo,r=void 0===l?{}:l,d=n.invoices,j=void 0===d?[]:d,u=0,m=!1;console.log("invoicepaymentinfo ",o),console.log("businessinfo ",c);var b=o.map((function(e,t){return u+=e.amount,e.payment_success||(m=!0),{id:e.id,time:new Date(e.time).toLocaleString(),typename:e.type_name,amount:e.amount,payment_success:e.payment_success,payment_type_id:e.type_id}}));m&&fs();var p=r?r.invoice_ids:[];if(Ht(m),It(p||[]),le(c||{}),ue(n),st(b||[]),Qe(b.length||!1),Oe(j),j.length){var O=[],h=0,x=0;j.forEach((function(e,t){O[t]=e.row_id,h+=e.subtotal_amount,p.includes(e.row_id)&&(x+=e.subtotal_amount)})),h=+h.toFixed(2),ge(p.length?p:O),we(p.length?p:O),p.length&&Re(!1);var f=x-u;if(Ye(h),console.log("total - subtotal ",h-x),u&&0===f&&Ze(!0),Je(u?f:h),Ee(!1),c){var g=c.iou_used,y=c.iou_limit;if(g){var N=+parseFloat(g/y*100).toFixed(2),_=+parseFloat(100-N).toFixed(2);ee([N,_])}}}})).catch((function(e){console.log(e),Object(P.a)(e)})),z.a.getAllPaymentType().then((function(e){console.log(e.data.payload),q(e.data.payload)})).catch((function(e){console.log(e),Object(P.a)(e)}))}),[]);var gs=function(e,t){return-1===ce&&0===e||-1!==ce&&t===ce?"info":"secondary"},ys=function(e){return console.log(e),W.fire(Object(c.a)({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:function(){return z.a.deleteSubPayment({id:e}).then((function(e){return e})).catch((function(e){return console.log(e.response),Object(P.a)(e),!1}))}},"allowOutsideClick",(function(){return!L.a.isLoading()}))).then((function(t){t.isConfirmed&&(!function(e){var t=tt.filter((function(t){if(t.id===e){if(4===t.payment_type_id||"4"===t.payment_type_id){var s=oe.iou_used-Number(t.amount),c=oe.iou_limit;if(s){var a=+parseFloat(s/c*100).toFixed(2),i=+parseFloat(100-a).toFixed(2);ee([a,i])}le(Object(n.a)(Object(n.a)({},oe),{},{iou_used:s}))}return Je(Math.abs(He+t.amount)),!1}return!0})),s=!1;tt.every((function(e){return!!e.payment_success||(s=!0,!1)})),Ht(!!s),Ze(!1),st(t)}(e),W.fire({icon:"success",title:"Deleted!",text:"The payment has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}))},Ns=function(){var e=0;return tt.forEach((function(t){e+=t.amount})),+e.toFixed(2)},_s=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},ws=function(e){var t=0;e.target.checked?"allcheck"===e.target.name?(we(Object(a.a)(fe)),Re(!0),t=Be):(we([].concat(Object(a.a)(_e),[e.target.name])),Re(!1),pe.forEach((function(s){e.target.name===s.row_id&&(console.log(s),t=parseFloat(He)+s.subtotal_amount,console.log("due_amount ",t,"dueamount ",He,"subtotal_amount ",s.subtotal_amount))}))):("allcheck"===e.target.name?we([]):(we(_e.filter((function(t){return t!==e.target.name}))),pe.forEach((function(s){e.target.name===s.row_id&&(t=He-s.subtotal_amount,console.log("due_amount ",t,"dueamount ",He,"subtotal_amount ",s.subtotal_amount))}))),Re(!1)),t=+(t=parseFloat(t)-parseFloat(Ns())).toFixed(2),Je(t),console.log(e.target.name,e.target.checked)},vs=function(){return Object(V.jsxs)(o.Fragment,{children:[Kt?Object(V.jsx)(p.a,{color:"secondary",className:"mr-25",style:{fontSize:10}}):Object(V.jsx)(O.a.Ripple,{color:"primary",size:"sm",onClick:xs,className:"custom_button",children:Object(V.jsx)("span",{className:"align-middle",style:{paddingLeft:"2px"},children:"Refresh"})}),Object(V.jsx)(h.a,{responsive:!0,bordered:!0,size:"sm",children:Object(V.jsx)("tbody",{children:tt.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{scope:"col",className:"text-nowrap",children:["#",t+1]}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap",children:[e.time," "]}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap",children:[e.payment_success?Object(V.jsx)(r.a,{className:"mr-25",size:18}):Object(V.jsx)(p.a,{color:"primary",className:"mr-25",size:"sm"}),e.typename," \xa0",3!==e.payment_type_id||e.payment_success?null:es&&as===e.id?Object(V.jsx)(p.a,{color:"primary",className:"mr-25",size:"sm"}):Object(V.jsx)(o.Fragment,{children:Object(V.jsx)(O.a.Ripple,{color:"primary",size:"sm",className:"custom_button",onClick:function(t){return s=e.id,ts(!0),ns(s),void z.a.resendnotificationforpay({subpaymentid:s}).then((function(e){Object(P.c)(e),ts(!1),ns(0)})).catch((function(e){ts(!1),ns(0),console.log(err),Object(P.a)(err)}));var s},id:"positionBottom".concat(e.id),children:Object(V.jsx)("span",{className:"align-middle",style:{paddingLeft:"2px"},children:"Reset"})})})]}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap",children:[" ",window.CURRENCY_SYMBOL," ",_s((+e.amount).toFixed(2))," "]}),Object(V.jsx)("td",{scope:"col",className:"text-nowrap",children:!0!==e.payment_success||3!==e.payment_type_id&&5!==e.payment_type_id?Object(V.jsx)(d.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return ys(e.id)}}):Object(V.jsx)(d.a,{size:15,color:"#968f8f"})})]},t)}))})})]})},Cs=function(){return Object(V.jsx)(o.Fragment,{children:Le?Object(V.jsx)(p.a,{color:"primary"}):Object(V.jsxs)(h.a,{responsive:!0,bordered:!0,size:"sm",children:[Object(V.jsx)("thead",{children:Object(V.jsxs)("tr",{children:[Object(V.jsxs)("th",{scope:"col",className:"text-nowrap",children:[" ",Object(V.jsx)(x.a,{disabled:Ge,name:"allcheck",inline:!0,type:"checkbox",id:"allcheck",onChange:function(e){return ws(e)},checked:Se})," "]}),Object(V.jsx)("th",{scope:"col",className:"text-nowrap",children:"Time "}),Object(V.jsx)("th",{scope:"col",className:"text-nowrap",children:"Invoice ID "}),Object(V.jsx)("th",{scope:"col",className:"text-nowrap",children:" Till"}),Object(V.jsx)("th",{scope:"col",className:"text-nowrap",children:" Amount "}),Object(V.jsx)("th",{scope:"col",className:"text-nowrap",children:"Status "})]})}),Object(V.jsx)("tbody",{children:pe.length?pe.map((function(e,t){return Object(V.jsxs)("tr",{children:[Object(V.jsxs)("td",{className:"text-nowrap",children:[" ",Object(V.jsx)(x.a,{inline:!0,disabled:Ge,type:"checkbox",name:e.row_id,id:e.row_id,onChange:function(e){return ws(e)},checked:_e.includes(e.row_id)})]}),Object(V.jsx)("td",{className:"text-nowrap",children:e.invoice_time}),Object(V.jsx)("td",{className:"text-nowrap",children:e.invoice_id}),Object(V.jsx)("td",{className:"text-nowrap",children:e.till_id}),Object(V.jsxs)("td",{className:"text-nowrap",children:[window.CURRENCY_SYMBOL," ",_s((+e.subtotal_amount).toFixed(2))]}),Object(V.jsx)("td",{className:"text-nowrap",children:Object(V.jsx)(f.a,{color:D(e.status).color,pill:!0,children:D(e.status).title})})]},t)})):null})]})})};return Object(V.jsxs)(V.Fragment,{children:[Object(V.jsxs)(O.a.Ripple,{className:"mb-2 ml-2",color:"primary",onClick:function(){return t.goBack()},children:[Object(V.jsx)(j.a,{size:10}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"Back"})]}),Object(V.jsxs)(g.a,{children:[Object(V.jsx)(y.a,{sm:"6",children:Object(V.jsx)(N.a,{className:"d-flex justify-content-center p-2",children:Object(V.jsxs)(_.a,{children:[Object(V.jsx)(Y.a,{color:"light-success",icon:Object(V.jsx)(u.a,{size:24}),className:"mr-2",style:{padding:"7px"}}),Object(V.jsxs)(_.a,{className:"my-auto",body:!0,children:[Object(V.jsxs)("h4",{className:"font-weight-bolder mb-0",children:[window.CURRENCY_SYMBOL," ",_s((+Ns()).toFixed(2))]}),Object(V.jsx)(w.a,{className:"font-small-3 mb-0",children:"Tendered Amount"})]})]})})}),Object(V.jsx)(y.a,{sm:"6",children:Object(V.jsx)(N.a,{className:"d-flex justify-content-center p-2",children:Object(V.jsxs)(_.a,{children:[Object(V.jsx)(Y.a,{color:"light-danger",icon:Object(V.jsx)(m.a,{size:24}),className:"mr-2",style:{padding:"7px"}}),Object(V.jsxs)(_.a,{className:"my-auto",body:!0,children:[Object(V.jsxs)("h4",{className:"font-weight-bolder mb-0",children:[window.CURRENCY_SYMBOL," ",_s(parseFloat(He).toFixed(2))]}),Object(V.jsx)(w.a,{className:"font-small-3 mb-0",children:"Due Amount"})]})]})})})]}),Object(V.jsx)(N.a,{className:"pt-1 pay4",children:Object(V.jsxs)(g.a,{children:[Object(V.jsxs)(y.a,{md:"5",children:[H.length?H.map((function(e,t){return Object(V.jsx)(O.a.Ripple,{size:"sm",className:"ml-1 mb-1",color:gs(t,e.id),onClick:function(t){return s=e.id,ae(s),void console.log(s);var s},children:Object(V.jsx)("span",{className:"align-middle",children:e.payment_type_name})},t)})):Object(V.jsx)(p.a,{color:"primary"}),Object(V.jsxs)("div",{className:"paycardBorder pt-1",children:[Object(V.jsxs)(v.a,{className:"d-flex flex-wrap my-1 ml-1",style:{width:"100%"},autoComplete:"off",onSubmit:function(t){if(t.preventDefault(),bt(""),0!==Number(Ie)&&Ie){if(Ie>He)return bt("Amount is exceed !"),0;var s={},c=0;-1===ce?(s=H[0],c=H[0].id):H.forEach((function(e){e.id===ce&&(s=e)}));var i=parseFloat(oe.iou_limit)-parseFloat(oe.iou_used)||0;if(4===s.id&&Ie>i)return bt("This customer has reached to IOU limit"),0;it(!0);var o=_e.map((function(e){return Number(e)})),l=c||ce;Xt(Ie),z.a.subPayment({payment_type_id:l,amount:+Ie,receipt_id:e,selectdinvoiceid:o}).then((function(e){if(3===ce?(Rt(!0),Ht(!0),setTimeout((function(){return Rt(!1)}),5e3)):5===ce&&(Yt(!0),Ht(!0),setTimeout((function(){return Yt(!1)}),5e3)),Object(P.c)(e),console.log("paymenttype ",ce),4===ce){var t=oe.iou_used+Number(Ie);console.log("businessinfo.iou_used ",oe.iou_used,"enetramount ",Ie);var c=oe.iou_limit;if(t){var i=+parseFloat(t/c*100).toFixed(2),o=+parseFloat(100-i).toFixed(2);ee([i,o])}le(Object(n.a)(Object(n.a)({},oe),{},{iou_used:t}))}it(!1);var r=!0;3!==l&&5!==l||(r=!1,fs()),st([{id:e.data.payload.id,time:(new Date).toLocaleString(),typename:s.payment_type_name,amount:+Ie,payment_success:r,payment_type_id:l}].concat(Object(a.a)(tt))),Qe(!0),Me(""),Je(He-Ie),He-Ie===0&&Ze(!0)})).catch((function(e){it(!1),console.log(e),Object(P.a)(e)}))}},children:[mt?Object(V.jsx)(C.a,{style:{width:"100%"},children:Object(V.jsx)(S.a,{style:{color:"red"},children:mt})}):null,Object(V.jsx)(C.a,{style:{width:"70%"},children:Object(V.jsx)(R.a,{min:"0",placeholder:"0.00",type:"number",id:"search-input",step:"0.01",presicion:2,onChange:function(e){Me(e.target.value)},value:Ie})}),Object(V.jsx)(C.a,{children:nt?Object(V.jsxs)(O.a.Ripple,{className:"ml-1",color:"primary",disabled:!0,children:[Object(V.jsx)(p.a,{color:"white",size:"sm"}),Object(V.jsx)("small",{className:"ml-50"})]}):Object(V.jsx)(O.a.Ripple,{className:"ml-1",color:"primary",type:"submit",disabled:Xe,children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Add"})})})]}),Object(V.jsx)(O.a.Ripple,{className:"ml-1 mb-1",color:"info",size:"sm",onClick:function(){var e=+(+He).toFixed(2);Me(e)},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Fill remains"})}),Object(V.jsx)(O.a.Ripple,{className:"ml-1 mb-1",color:"info",size:"sm",onClick:function(){return wt(!0)},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Manage IOU"})}),Object(V.jsxs)(F.a,{isOpen:_t,toggle:function(){return wt(!_t)},children:[Object(V.jsx)(k.a,{toggle:function(){wt(!_t),xt("")},children:"Manage IOU"}),Object(V.jsxs)(B.a,{className:"px-md-5 px-1",children:[Object(V.jsxs)("p",{children:["Customer Name : ",Object(V.jsx)("span",{className:"float-right",children:je.customername||""})]}),Object(V.jsxs)("p",{children:["Customer ID : ",Object(V.jsx)("span",{className:"float-right",children:je.customer_id||""})]}),Object(V.jsxs)("p",{children:["Business Name : ",Object(V.jsxs)("span",{className:"float-right",children:[oe.businessname||""," "]})]}),Object(V.jsxs)("p",{children:["Allowance : ",Object(V.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?_s((+oe.iou_limit).toFixed(2)):0]})]}),Object(V.jsxs)("p",{children:["Used : ",Object(V.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?_s((+oe.iou_used).toFixed(2)||0):0]})]}),Object(V.jsxs)("p",{children:["Remaining : ",Object(V.jsxs)("span",{className:"float-right",children:[window.CURRENCY_SYMBOL," ",oe.iou_limit?_s((+(parseFloat(oe.iou_limit||0)-parseFloat(oe.iou_used||0))).toFixed(2)):0]})]}),Object(V.jsxs)("div",{className:"w-100",children:[Object(V.jsx)("p",{className:"text-center mb-0",children:"IOU Allowance increase to"}),Object(V.jsxs)(v.a,{className:"p-1",style:{width:"100%"},onSubmit:function(e){return e.preventDefault(),""===ht||"undefined"===typeof oe.id?0:Number(ht)<Number(oe.iou_limit||0)?(Et(!0),0):(A(!0),Et(!1),console.log({change:ht,typeid:1,busnessid:oe.id}),void z.a.customerIOUmanage({change:Number(ht),typeid:1,busnessid:oe.id}).then((function(e){console.log(e),A(!1),le(Object(n.a)(Object(n.a)({},oe),{},{iou_limit:Number(ht)})),xt("");var t=oe.iou_used,s=Number(ht);if(t){var c=+parseFloat(t/s*100).toFixed(2),a=+parseFloat(100-c).toFixed(2);ee([c,a])}})).catch((function(e){console.log(e),Object(P.a)(e),A(!1)})))},autoComplete:"off",children:[Object(V.jsxs)(J.a,{className:"input-group-merge w-100 mb-1",children:[Object(V.jsx)(K.a,{addonType:"prepend",children:Object(V.jsx)(Q.a,{children:window.CURRENCY_SYMBOL})}),Object(V.jsx)(R.a,{min:"0",placeholder:"0.00",type:"number",id:"search-input",onChange:function(e){xt(e.target.value)},value:ht})]}),Lt&&Object(V.jsx)("small",{style:{color:"red",margin:"-10px 0px 10px 10px",display:"block"},children:"must be greater than Allowance"}),Object(V.jsx)(C.a,{children:Object(V.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(V.jsx)(O.a.Ripple,{color:"danger",onClick:function(){wt(!_t),xt("")},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})}),E?Object(V.jsxs)(O.a.Ripple,{className:"ml-1",color:"primary",disabled:!0,children:[Object(V.jsx)(p.a,{color:"white",size:"sm"}),Object(V.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(V.jsx)(O.a.Ripple,{className:"ml-1",color:"primary",type:"submit",children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Add"})})]})})]})]})]})]}),Object(V.jsxs)(F.a,{isOpen:St,toggle:function(){return Rt(!St)},children:[Object(V.jsx)(k.a,{toggle:function(){return Rt(!St)}}),Object(V.jsxs)(B.a,{className:"px-md-5 px-1",children:[Object(V.jsx)("h3",{children:"Payment request for mobile payment to customer has been sent successfully."}),Object(V.jsx)("p",{children:" Payment status will be updated just after it gets completed in the payment list section. Please click refresh button for manual check "})]}),Object(V.jsx)("div",{className:"w-100 text-center pb-2",children:Object(V.jsx)(O.a.Ripple,{color:"danger",onClick:function(){return Rt(!St)},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})})})]}),Object(V.jsxs)(F.a,{isOpen:Bt,toggle:function(){return Yt(!Bt)},children:[Object(V.jsx)(k.a,{toggle:function(){return Yt(!Bt)}}),Object(V.jsxs)(B.a,{className:"px-md-5 px-1",style:{textAlign:"center"},children:[Object(V.jsx)("h3",{children:"Please insert the card "}),Object(V.jsx)("p",{children:"Ready to process payment"}),Object(V.jsxs)("p",{children:[window.CURRENCY_SYMBOL," ",Wt]})]}),Object(V.jsx)("div",{className:"w-100 text-center pb-2",children:Object(V.jsx)(O.a.Ripple,{color:"danger",onClick:function(){return Yt(!Bt)},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Cancel"})})})]})]}),Object(V.jsx)("div",{className:"paycardBorder",children:Object(V.jsxs)(g.a,{children:[Object(V.jsx)(y.a,{sm:"12",children:Object(V.jsx)(vs,{})}),Object(V.jsx)(y.a,{sm:"12",className:"text-center",children:rt?Object(V.jsxs)(O.a.Ripple,{className:"my-1",color:"primary",disabled:!0,children:[Object(V.jsx)(p.a,{color:"white",size:"sm"}),Object(V.jsx)("span",{className:"align-middle ml-50",children:"Submit"})]}):Object(V.jsx)(O.a.Ripple,{className:"my-1",color:"primary",disabled:!(He<.2&&!1===Dt),onClick:function(s){console.log({receipt_id:e,paid_invoice_ids:_e,all_invoice_ids:fe,amount:Ns(),apibaseurl:window.API_BASE_URL}),dt(!0),z.a.totalInvoicePayment({receipt_id:e,paid_invoice_ids:_e,all_invoice_ids:fe,amount:Ns(),apibaseurl:window.API_BASE_URL}).then((function(e){Object(P.c)(e),dt(!1),t.push("/payment")})).catch((function(e){dt(!1),console.log(e),Object(P.a)(e)}))},children:Object(V.jsx)("span",{className:"align-middle ml-50",children:"Submit"})})})]})})]}),Object(V.jsxs)(y.a,{md:"7",children:[Object(V.jsxs)(g.a,{className:"pt-1",children:[Object(V.jsx)(y.a,{sm:"7",children:Object(V.jsx)(h.a,{responsive:!0,size:"sm",className:"detailsshowtable",children:Object(V.jsxs)("tbody",{children:[Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Customer Name : "}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[je.customername||""," "]})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Customer ID : "}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize",children:[je.customer_id||""," "]})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Business Name : "}),Object(V.jsx)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:oe.businessname||""})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap",children:" "}),Object(V.jsx)("td",{scope:"col",className:"text-nowrap",children:" "})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Allowance : "}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",_s((+(oe.iou_limit?oe.iou_limit:0)).toFixed(2))," "]})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Used : "}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",_s((+(oe.iou_used?oe.iou_used:0)).toFixed(2))]})]}),Object(V.jsxs)("tr",{children:[Object(V.jsx)("td",{scope:"col",className:"text-nowrap textbold textalignright",children:"Remaining : "}),Object(V.jsxs)("td",{scope:"col",className:"text-nowrap smallfontsize ",children:[window.CURRENCY_SYMBOL," ",_s((+oe.iou_limit?parseFloat(oe.iou_limit||0)-parseFloat(oe.iou_used||0):0).toFixed(2))," "]})]})]})})}),Object(V.jsx)(y.a,{sm:"5",children:Object(V.jsx)(M.a,{options:X,series:$,type:"donut",height:120})}),Object(V.jsx)(y.a,{sm:"12",children:Object(V.jsx)("div",{className:"paycardBorder pt-1 mr-1 mt-2",children:Object(V.jsx)(Cs,{})})})]}),Object(V.jsxs)("p",{className:"float-right mr-2 mt-2",children:["Total Amount : ",window.CURRENCY_SYMBOL," ",_s((+Be||0).toFixed(2))]})]})]})})]})}},456:function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return i}));s(0);var c=s(121),a=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?c.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):c.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){c.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||c.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){c.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},i=function(e){var t=e.data.message||"success";c.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}}}]);
//# sourceMappingURL=252.39f7f2b9.chunk.js.map