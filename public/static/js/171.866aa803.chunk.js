(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[171],{2129:function(e,a,t){"use strict";t.r(a);var s=t(21),n=t(1),c=t(15),r=t(0),o=t(651),i=t(487),l=t.n(i),u=t(493),d=t.n(u),m=t(1436),p=t(1381),b=t(1405),f=t(471),g=t(1375),j=t(472),h=t(475),O=t(465),v=t(467),x=t(1368),y=t(479),N=t(446),T=t(469),C=t(461),w=t(477),M=t(460),_=t(466),D=t(481),P=t.n(D),L=t(482),k=t.n(L),R=t(478),S=t(567),z=t(6);k()(P.a);a.default=function(){var e=Object(o.g)(),a=Object(r.useState)(0),t=Object(c.a)(a,2),i=t[0],u=t[1],D=Object(r.useState)(!0),P=Object(c.a)(D,2),L=P[0],k=P[1],E=Object(r.useState)([]),I=Object(c.a)(E,2),W=I[0],F=I[1],A=Object(r.useState)({customer_real_id:null,fromDate:(new Date).toLocaleDateString("fr-CA"),toDate:(new Date).toLocaleDateString("fr-CA"),status_id:null,type_id:null}),$=Object(c.a)(A,2),B=$[0],G=$[1];Object(r.useEffect)((function(){_.a.invoiceList({customer_real_id:null,fromDate:(new Date).toLocaleDateString("fr-CA"),toDate:(new Date).toLocaleDateString("fr-CA"),status_id:null,type_id:null}).then((function(e){k(!1),F(e.data.payload)})).catch((function(e){console.log(e)}))}),[]);var U=function(e){"customer_real_id"===e.target.name?G(Object(n.a)(Object(n.a)({},B),{},Object(s.a)({},e.target.name,""===e.target.value?null:e.target.value))):G(Object(n.a)(Object(n.a)({},B),{},Object(s.a)({},e.target.name,e.target.value)))},q={9:{title:"Paid",color:"light-success"},11:{title:"Unpaid",color:"light-danger"},Invoice:{title:"Invoice",color:"light-info"},Refund:{title:"Refund",color:"light-secondary"}},J=[{name:"Date",selector:function(e,a){return Object(S.b)(e.createdat)},minWidth:"200px"},{name:"Receipt ID",selector:"receipt_id",minWidth:"150px"},{name:"Customer ID",selector:function(e,a){return e.customer_id},minWidth:"150px"},{name:"Customer Name",selector:"customername",minWidth:"150px"},{name:"Business Name",selector:"customer_business_name",minWidth:"150px"},{name:"Amount",selector:function(e){var a=e.invoices.map((function(e){return e.subtotal_amount}));return"".concat(window.CURRENCY_SYMBOL," ").concat((+a.reduce((function(e,a){return e+a}))).toFixed(2))},minWidth:"100px"},{name:"Type",selector:function(e){return Object(z.jsx)(g.a,{color:q[e.typename].color,pill:!0,className:"px-1",children:q[e.typename].title})},minWidth:"100px"},{name:"Status",selector:function(e){return Object(z.jsx)(g.a,{color:q[e.status].color,pill:!0,className:"px-1",children:q[e.status].title})},minWidth:"100px"},{name:"Actions",allowOverflow:!0,cell:function(a){return Object(z.jsx)("div",{className:"d-flex",children:Object(z.jsx)(m.a,{size:15,color:"#2bc871",style:{cursor:"pointer"},onClick:function(){return e.push("/InvoiceListProducts/".concat(a.receipt_id))}})})}}];return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(j.a,{className:"py-0 px-1 px-md-0 pl-md-1",children:Object(z.jsx)(h.a,{className:"my-2",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),k(!0);var a=B.customer_real_id,t=B.fromDate,s=B.toDate,n=B.status_id,c=B.type_id;_.a.invoiceList({customer_real_id:a,fromDate:t,toDate:s,status_id:n,type_id:c}).then((function(e){k(!1),F(e.data.payload),console.log(e.data.payload)})).catch((function(e){console.log(e)}))},autoComplete:"off",children:Object(z.jsxs)(O.a,{children:[Object(z.jsx)(v.a,{md:"3",children:Object(z.jsx)(x.a,{style:{width:"100%",marginTop:"22px"},placeholder:"Customer ID",type:"number",name:"customer_real_id",id:"customer_real_id",onChange:U})}),Object(z.jsx)(v.a,{md:"4",children:Object(z.jsxs)("div",{className:"d-flex",children:[Object(z.jsxs)("div",{style:{width:"49%"},children:[Object(z.jsx)(y.a,{for:"From",children:"From"}),Object(z.jsx)(x.a,{required:!0,style:{width:"100%"},placeholder:"From",type:"date",id:"From",name:"fromDate",onChange:U})]}),Object(z.jsxs)("div",{style:{width:"49%",marginLeft:"2%"},children:[Object(z.jsx)(y.a,{for:"To",children:"To"}),Object(z.jsx)(x.a,{required:!0,style:{width:"100%"},placeholder:"To",type:"date",id:"To",name:"toDate",onChange:U})]})]})}),Object(z.jsx)(v.a,{md:"3",children:Object(z.jsxs)("div",{className:"d-flex",children:[Object(z.jsxs)("div",{style:{width:"49%"},children:[Object(z.jsx)(y.a,{for:"Status",children:"Status"}),Object(z.jsx)(R.a,{style:{width:"100%"},theme:f.h,className:"react-select",classNamePrefix:"select",name:"Status",onChange:function(e,a){var t=a.action;G("clear"===t?Object(n.a)(Object(n.a)({},B),{},{status_id:null}):Object(n.a)(Object(n.a)({},B),{},{status_id:e.value}))},options:[{value:9,label:"Paid"},{value:11,label:"Unpaid"}],isClearable:!0,isLoading:!1})]}),Object(z.jsxs)("div",{style:{width:"49%",marginLeft:"2%"},children:[Object(z.jsx)(y.a,{for:"Type",children:"Type"}),Object(z.jsx)(R.a,{style:{width:"100%"},theme:f.h,className:"react-select",classNamePrefix:"select",name:"Type",onChange:function(e,a){var t=a.action;G("clear"===t?Object(n.a)(Object(n.a)({},B),{},{type_id:null}):Object(n.a)(Object(n.a)({},B),{},{type_id:e.value}))},options:[{value:1,label:"Invoice"},{value:2,label:"Refund"}],isClearable:!0,isLoading:!1})]})]})}),Object(z.jsx)(v.a,{md:"2",children:Object(z.jsxs)(N.a.Ripple,{className:"ml-lg-2",color:"primary",type:"submit",style:{marginTop:"22px"},children:[Object(z.jsx)(p.a,{size:15}),Object(z.jsx)("span",{className:"align-middle ml-50",children:"Search"})]})})]})})}),Object(z.jsxs)(j.a,{children:[Object(z.jsx)(T.a,{className:"border-bottom",children:Object(z.jsx)(C.a,{tag:"h4",children:"Invoice List"})}),Object(z.jsx)(d.a,{noHeader:!0,pagination:!0,columns:J,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(z.jsx)(b.a,{size:10}),paginationDefaultPage:i+1,paginationComponent:function(){var e;return Object(z.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:i,onPageChange:function(e){return function(e){u(e.selected)}(e)},pageCount:W.length?W.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(s.a)(e,"breakClassName","page-item"),Object(s.a)(e,"breakLinkClassName","page-link"),Object(s.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:W,progressPending:L,progressComponent:Object(z.jsx)(w.a,{color:"primary"}),responsive:!0}),Object(z.jsx)(M.a,{style:{paddingTop:"15px"}})]})]})}},460:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var a=e.className,t=e.cssModule,c=e.innerRef,o=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(a,"card-body"),t);return r.a.createElement(o,Object(s.a)({},i,{className:l,ref:c}))};p.propTypes=m,p.defaultProps={tag:"div"},a.a=p},461:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(a,"card-title"),t);return r.a.createElement(c,Object(s.a)({},o,{className:i}))};p.propTypes=m,p.defaultProps={tag:"div"},a.a=p},465:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m=i.a.oneOfType([i.a.number,i.a.string]),p={tag:d.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:m,sm:m,md:m,lg:m,xl:m},b={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e){var a=e.className,t=e.cssModule,c=e.noGutters,o=e.tag,i=e.form,l=e.widths,m=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),p=[];l.forEach((function(a,t){var s=e[a];if(delete m[a],s){var n=!t;p.push(n?"row-cols-"+s:"row-cols-"+a+"-"+s)}}));var b=Object(d.mapToCssModules)(u()(a,c?"no-gutters":null,i?"form-row":"row",p),t);return r.a.createElement(o,Object(s.a)({},m,{className:b}))};f.propTypes=p,f.defaultProps=b,a.a=f},467:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m=i.a.oneOfType([i.a.number,i.a.string]),p=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:m,offset:m})]),b={tag:d.tagPropType,xs:p,sm:p,md:p,lg:p,xl:p,className:i.a.string,cssModule:i.a.object,widths:i.a.array},f={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},j=function(e){var a=e.className,t=e.cssModule,c=e.widths,o=e.tag,i=Object(n.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach((function(a,s){var n=e[a];if(delete i[a],n||""===n){var c=!s;if(Object(d.isObject)(n)){var r,o=c?"-":"-"+a+"-",m=g(c,a,n.size);l.push(Object(d.mapToCssModules)(u()(((r={})[m]=n.size||""===n.size,r["order"+o+n.order]=n.order||0===n.order,r["offset"+o+n.offset]=n.offset||0===n.offset,r)),t))}else{var p=g(c,a,n);l.push(p)}}})),l.length||l.push("col");var m=Object(d.mapToCssModules)(u()(a,l),t);return r.a.createElement(o,Object(s.a)({},i,{className:m}))};j.propTypes=b,j.defaultProps=f,a.a=j},469:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var a=e.className,t=e.cssModule,c=e.tag,o=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(a,"card-header"),t);return r.a.createElement(c,Object(s.a)({},o,{className:i}))};p.propTypes=m,p.defaultProps={tag:"div"},a.a=p},475:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(117),r=t(116),o=t(0),i=t.n(o),l=t(5),u=t.n(l),d=t(56),m=t.n(d),p=t(78),b={children:u.a.node,inline:u.a.bool,tag:p.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(c.a)(t)),t.submit=t.submit.bind(Object(c.a)(t)),t}Object(r.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,c=e.inline,r=e.tag,o=e.innerRef,l=Object(n.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(p.mapToCssModules)(m()(a,!!c&&"form-inline"),t);return i.a.createElement(r,Object(s.a)({},l,{ref:o,className:u}))},a}(o.Component);f.propTypes=b,f.defaultProps={tag:"form"},a.a=f},477:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},p=function(e){var a=e.className,t=e.cssModule,c=e.type,o=e.size,i=e.color,l=e.children,m=e.tag,p=Object(n.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(d.mapToCssModules)(u()(a,!!o&&"spinner-"+c+"-"+o,"spinner-"+c,!!i&&"text-"+i),t);return r.a.createElement(m,Object(s.a)({role:"status"},p,{className:b}),l&&r.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",t)},l))};p.propTypes=m,p.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=p},479:function(e,a,t){"use strict";var s=t(14),n=t(20),c=t(0),r=t.n(c),o=t(5),i=t.n(o),l=t(56),u=t.n(l),d=t(78),m=i.a.oneOfType([i.a.number,i.a.string]),p=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:m,order:m,offset:m})]),b={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:p,sm:p,md:p,lg:p,xl:p,widths:i.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},g=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},j=function(e){var a=e.className,t=e.cssModule,c=e.hidden,o=e.widths,i=e.tag,l=e.check,m=e.size,p=e.for,b=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];o.forEach((function(a,s){var n=e[a];if(delete b[a],n||""===n){var c,r=!s;if(Object(d.isObject)(n)){var o,i=r?"-":"-"+a+"-";c=g(r,a,n.size),f.push(Object(d.mapToCssModules)(u()(((o={})[c]=n.size||""===n.size,o["order"+i+n.order]=n.order||0===n.order,o["offset"+i+n.offset]=n.offset||0===n.offset,o))),t)}else c=g(r,a,n),f.push(c)}}));var j=Object(d.mapToCssModules)(u()(a,!!c&&"sr-only",!!l&&"form-check-label",!!m&&"col-form-label-"+m,f,!!f.length&&"col-form-label"),t);return r.a.createElement(i,Object(s.a)({htmlFor:p},b,{className:j}))};j.propTypes=b,j.defaultProps=f,a.a=j},567:function(e,a,t){"use strict";t.d(a,"a",(function(){return s})),t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return r}));var s=function(e){return String(e).replace(/^(.{4})(.*)(.{3})$/,"$1 $2 $3")},n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},c=function(e){return new Date(e).toLocaleDateString(void 0,n)},r=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}]);
//# sourceMappingURL=171.866aa803.chunk.js.map