(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[116],{2267:function(e,t,a){"use strict";a.r(t);var n=a(21),s=a(547),r=a(15),o=a(121),c=a(0),i=a(1504),l=a(1371),u=a(472),d=a(459),p=a(639),b=a(1380),m=a(1381),j=a(640),g=a(641),f=a(468),h=a(460),O=a(446),v=a(465),x=a(467),y=a(451),C=a(466),N=a(455),T=a(481),k=a.n(T),M=a(482),P=a.n(M),w=a(507),W=a(1403),S=a(1522),L=a(6),_=P()(k.a),E=function(e){var t=e.pendingQuotaList,a=e.setPendingQuotaList,s=Object(c.useState)(!1),o=Object(r.a)(s,2),i=o[0],l=(o[1],Object(c.useState)(!0)),p=Object(r.a)(l,2),b=(p[0],p[1],function(e,s,r){return _.fire(Object(n.a)({title:r,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var n={quota_id:e,action_id:s,reject_msg:""};return C.a.quotaApproveRejectDelete(n).then((function(n){Object(N.c)(n),console.log(n),a(t.filter((function(t){return t.id!==e})))})).catch((function(e){console.log(e.response),Object(N.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!k.a.isLoading()}))).then((function(e){e.isConfirmed}))}),m=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"User Type",minWidth:"100px",sortable:!0,selector:function(e){return 1===e.created_user_type?"Admin":"Merchant"}},{name:"Facebook",minWidth:"100px",sortable:!0,selector:"facebook"},{name:"Google",minWidth:"100px",sortable:!0,selector:"google"},{name:"Whatsapp",minWidth:"100px",sortable:!0,selector:"whatsapp"},{name:"SMS",minWidth:"100px",sortable:!0,selector:"sms"},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"Push Notification",minWidth:"100px",sortable:!0,selector:"push_notification"},{name:"Instagram",minWidth:"100px",sortable:!0,selector:"instagram"},{name:"Action",minWidth:"100px",selector:function(e){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("span",{title:"Approve",children:Object(L.jsx)(W.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(t){return b(e.id,1,"Do you want to approve?")}})}),"\xa0\xa0",Object(L.jsx)("span",{title:"Reject",children:Object(L.jsx)(S.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return b(e.id,2,"Do you want to reject?")}})})]})}}];return Object(L.jsxs)(u.a,{children:[Object(L.jsx)(f.a,{className:"border-bottom",children:Object(L.jsx)(h.a,{tag:"h4",children:"Pending Services"})}),Object(L.jsx)(d.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(x.a,{md:"12",children:Object(L.jsx)(w.a,{column:m,TableData:t,TableDataLoading:i})})})})]})},D=(P()(k.a),function(e){var t=e.myPendingQuotaList,a=Object(c.useState)(!1),n=Object(r.a)(a,2),s=n[0],o=(n[1],Object(c.useState)(!0)),i=Object(r.a)(o,2);i[0],i[1];return Object(L.jsxs)(u.a,{children:[Object(L.jsx)(f.a,{className:"border-bottom",children:Object(L.jsx)(h.a,{tag:"h4",children:"My Pending Quotas"})}),Object(L.jsx)(d.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(x.a,{md:"12",children:Object(L.jsx)(w.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Facebook",minWidth:"100px",sortable:!0,selector:"facebook"},{name:"Google",minWidth:"100px",sortable:!0,selector:"google"},{name:"Whatsapp",minWidth:"100px",sortable:!0,selector:"whatsapp"},{name:"SMS",minWidth:"100px",sortable:!0,selector:"sms"},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"Push Notification",minWidth:"100px",sortable:!0,selector:"push_notification"},{name:"Instagram",minWidth:"100px",sortable:!0,selector:"instagram"}],TableData:t,TableDataLoading:s})})})})]})}),I=P()(k.a);t.default=function(){var e,t=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),a=(e=[]).concat.apply(e,Object(o.a)(t)),T=Object(c.useState)(!0),M=Object(r.a)(T,2),P=M[0],W=M[1],S=Object(c.useState)(!0),_=Object(r.a)(S,2),B=_[0],z=(_[1],Object(c.useState)([])),A=Object(r.a)(z,2),Q=A[0],R=A[1],F=Object(c.useState)([]),H=Object(r.a)(F,2),G=H[0],q=H[1],J=Object(c.useState)([]),Y=Object(r.a)(J,2),K=Y[0],U=Y[1],V=JSON.parse(localStorage.getItem("userData"));Object(c.useEffect)((function(){C.a.getQuotaList().then((function(e){console.log(e);var t,a=[],n=[],r=[],o=Object(s.a)(e.data.payload);try{for(o.s();!(t=o.n()).done;){var c=t.value;!0===c.is_approved||!0===c.is_rejected?a.push(c):!1===c.is_approved&&!1===c.is_rejected&&parseInt(c.created_by)===V.id?r.push(c):!1===c.is_approved&&!1===c.is_rejected&&parseInt(c.created_by)!==V.id&&n.push(c)}}catch(i){o.e(i)}finally{o.f()}R(a),q(r),U(n),W(!1)})).catch((function(e){Object(N.a)(e),console.log(e),W(!1)}))}),[B]);var X=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"User Type",minWidth:"100px",sortable:!0,selector:function(e){return 1===e.created_user_type?"Admin":"Merchant"}},{name:"Approved or Rejected",minWidth:"170px",sortable:!0,selector:function(e){return e.is_approved?"Approved":"Rejected"}},{name:"Approved or Rejected by",minWidth:"170px",sortable:!0,selector:"approved_by"},{name:"Facebook",minWidth:"100px",sortable:!0,selector:"facebook"},{name:"Google",minWidth:"100px",sortable:!0,selector:"google"},{name:"Whatsapp",minWidth:"100px",sortable:!0,selector:"whatsapp"},{name:"SMS",minWidth:"100px",sortable:!0,selector:"sms"},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"Push Notification",minWidth:"100px",sortable:!0,selector:"push_notification"},{name:"Instagram",minWidth:"100px",sortable:!0,selector:"instagram"},{name:"Action",minWidth:"100px",selector:function(e){return Object(L.jsx)(L.Fragment,{children:a.includes(32)&&Object(L.jsx)("span",{title:"Delete",children:Object(L.jsx)(i.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return a=e.id,s=3,r="Do you want to delete?",I.fire(Object(n.a)({title:r,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var e={quota_id:a,action_id:s,reject_msg:""};return C.a.quotaApproveRejectDelete(e).then((function(e){Object(N.c)(e),R(Q.filter((function(e){return e.id!==a}))),console.log(e)})).catch((function(e){console.log(e.response),Object(N.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!k.a.isLoading()}))).then((function(e){e.isConfirmed}));var a,s,r}})})})}}],Z=Object(c.useState)("1"),$=Object(r.a)(Z,2),ee=$[0],te=$[1],ae=function(e){return te(e)};return Object(L.jsx)(u.a,{children:Object(L.jsxs)(d.a,{className:"pt-2",children:[Object(L.jsxs)(p.a,{pills:!0,children:[Object(L.jsx)(b.a,{children:Object(L.jsx)(m.a,{active:"1"===ee,onClick:function(){return ae("1")},children:Object(L.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Quotas"})})}),a.includes(33)&&Object(L.jsx)(b.a,{children:Object(L.jsx)(m.a,{active:"2"===ee,onClick:function(){return ae("2")},children:Object(L.jsx)("span",{className:"align-middle d-none d-sm-block",children:"My Pending Quotas"})})}),a.includes(34)&&Object(L.jsx)(b.a,{children:Object(L.jsx)(m.a,{active:"3"===ee,onClick:function(){return ae("3")},children:Object(L.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Approve Quotas"})})})]}),Object(L.jsxs)(j.a,{activeTab:ee,children:[Object(L.jsx)(g.a,{tabId:"1",children:Object(L.jsxs)(u.a,{children:[Object(L.jsxs)(f.a,{className:"border-bottom",children:[Object(L.jsx)(h.a,{tag:"h4",children:"Quotas"}),a.includes(31)&&Object(L.jsx)(O.a.Ripple,{className:"ml-2",color:"primary",tag:y.b,to:"/createQuota",children:Object(L.jsxs)("div",{className:"d-flex align-items-center",children:[Object(L.jsx)(l.a,{size:17,style:{marginRight:"5px"}}),Object(L.jsx)("span",{children:"Create Quota"})]})})]}),Object(L.jsx)(d.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(x.a,{md:"12",children:Object(L.jsx)(w.a,{column:X,TableData:Q,TableDataLoading:P})})})})]})}),Object(L.jsx)(g.a,{tabId:"2",children:Object(L.jsx)(D,{myPendingQuotaList:G})}),Object(L.jsx)(g.a,{tabId:"3",children:Object(L.jsx)(E,{pendingQuotaList:K,setPendingQuotaList:U})})]})]})})}},455:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return o}));a(0);var n=a(118),s=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?n.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):n.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||n.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){var t=e.data.message||"success";n.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},459:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},b=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,c=e.tag,i=Object(s.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),a);return o.a.createElement(c,Object(n.a)({},i,{className:l,ref:r}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},460:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return o.a.createElement(r,Object(n.a)({},c,{className:i}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},465:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p=i.a.oneOfType([i.a.number,i.a.string]),b={tag:d.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},m={tag:"div",widths:["xs","sm","md","lg","xl"]},j=function(e){var t=e.className,a=e.cssModule,r=e.noGutters,c=e.tag,i=e.form,l=e.widths,p=Object(s.a)(e,["className","cssModule","noGutters","tag","form","widths"]),b=[];l.forEach((function(t,a){var n=e[t];if(delete p[t],n){var s=!a;b.push(s?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var m=Object(d.mapToCssModules)(u()(t,r?"no-gutters":null,i?"form-row":"row",b),a);return o.a.createElement(c,Object(n.a)({},p,{className:m}))};j.propTypes=b,j.defaultProps=m,t.a=j},467:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p=i.a.oneOfType([i.a.number,i.a.string]),b=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:p,offset:p})]),m={tag:d.tagPropType,xs:b,sm:b,md:b,lg:b,xl:b,className:i.a.string,cssModule:i.a.object,widths:i.a.array},j={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},f=function(e){var t=e.className,a=e.cssModule,r=e.widths,c=e.tag,i=Object(s.a)(e,["className","cssModule","widths","tag"]),l=[];r.forEach((function(t,n){var s=e[t];if(delete i[t],s||""===s){var r=!n;if(Object(d.isObject)(s)){var o,c=r?"-":"-"+t+"-",p=g(r,t,s.size);l.push(Object(d.mapToCssModules)(u()(((o={})[p]=s.size||""===s.size,o["order"+c+s.order]=s.order||0===s.order,o["offset"+c+s.offset]=s.offset||0===s.offset,o)),a))}else{var b=g(r,t,s);l.push(b)}}})),l.length||l.push("col");var p=Object(d.mapToCssModules)(u()(t,l),a);return o.a.createElement(c,Object(n.a)({},i,{className:p}))};f.propTypes=m,f.defaultProps=j,t.a=f},468:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tag,c=Object(s.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),a);return o.a.createElement(r,Object(n.a)({},c,{className:i}))};b.propTypes=p,b.defaultProps={tag:"div"},t.a=b},476:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},b=function(e){var t=e.className,a=e.cssModule,r=e.type,c=e.size,i=e.color,l=e.children,p=e.tag,b=Object(s.a)(e,["className","cssModule","type","size","color","children","tag"]),m=Object(d.mapToCssModules)(u()(t,!!c&&"spinner-"+r+"-"+c,"spinner-"+r,!!i&&"text-"+i),a);return o.a.createElement(p,Object(n.a)({role:"status"},b,{className:m}),l&&o.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};b.propTypes=p,b.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=b},505:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(0),s=a.n(n).a.createContext({})},507:function(e,t,a){"use strict";var n=a(21),s=a(15),r=a(0),o=a(1405),c=a(476),i=a(485),l=a.n(i),u=a(492),d=a.n(u),p=a(6);t.a=function(e){var t=e.column,a=e.TableData,i=e.TableDataLoading,u=Object(r.useState)(0),b=Object(s.a)(u,2),m=b[0],j=b[1];return Object(p.jsx)(r.Fragment,{children:Object(p.jsx)(d.a,{customStyles:{cells:{style:{whiteSpace:"break-spaces"}}},noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(p.jsx)(o.a,{size:10}),paginationDefaultPage:m+1,paginationComponent:function(){var e;return Object(p.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:m,onPageChange:function(e){return function(e){j(e.selected)}(e)},pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:i,progressComponent:Object(p.jsx)(c.a,{color:"primary"}),responsive:!0})})}},547:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a(59);function s(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n.a)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var s=0,r=function(){};return{s:r,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}},639:function(e,t,a){"use strict";var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tabs:i.a.bool,pills:i.a.bool,vertical:i.a.oneOfType([i.a.bool,i.a.string]),horizontal:i.a.string,justified:i.a.bool,fill:i.a.bool,navbar:i.a.bool,card:i.a.bool,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},b=function(e){var t=e.className,a=e.cssModule,r=e.tabs,c=e.pills,i=e.vertical,l=e.horizontal,p=e.justified,b=e.fill,m=e.navbar,j=e.card,g=e.tag,f=Object(s.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),h=Object(d.mapToCssModules)(u()(t,m?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(i),{"nav-tabs":r,"card-header-tabs":j&&r,"nav-pills":c,"card-header-pills":j&&c,"nav-justified":p,"nav-fill":b}),a);return o.a.createElement(g,Object(n.a)({},f,{className:h}))};b.propTypes=p,b.defaultProps={tag:"ul",vertical:!1},t.a=b},640:function(e,t,a){"use strict";var n=a(14),s=a(116),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(505),p=a(78),b={tag:p.tagPropType,activeTab:i.a.any,className:i.a.string,cssModule:i.a.object},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(s.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,s=e.tag,r=Object(p.omit)(this.props,Object.keys(b)),c=Object(p.mapToCssModules)(u()("tab-content",t),a);return o.a.createElement(d.a.Provider,{value:{activeTabId:this.state.activeTab}},o.a.createElement(s,Object(n.a)({},r,{className:c})))},t}(r.Component);t.a=m,m.propTypes=b,m.defaultProps={tag:"div"}},641:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(14),s=a(20),r=a(0),o=a.n(r),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(505),p=a(78),b={tag:p.tagPropType,className:i.a.string,cssModule:i.a.object,tabId:i.a.any};function m(e){var t=e.className,a=e.cssModule,r=e.tabId,c=e.tag,i=Object(s.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(p.mapToCssModules)(u()("tab-pane",t,{active:r===e}),a)};return o.a.createElement(d.a.Consumer,null,(function(e){var t=e.activeTabId;return o.a.createElement(c,Object(n.a)({},i,{className:l(t)}))}))}m.propTypes=b,m.defaultProps={tag:"div"}}}]);
//# sourceMappingURL=116.5e093e6f.chunk.js.map