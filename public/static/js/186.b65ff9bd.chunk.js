(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[186],{1009:function(e,t){},1010:function(e,t){},2098:function(e,t,s){"use strict";s.r(t);s(21),s(1);var a=s(15),r=s(0),o=(s(79),s(1406)),c=s(1439),n=s(446),l=s(472),i=s(469),u=s(461),p=s(460),d=s(475),b=s(467),j=s(1341),g=s(479),m=s(1368),f=s(477),h=s(466),O=s(456),v=s(451),x=s(478),y=s(471),N=s(1008),M=s(6);t.default=function(){var e=Object(r.useState)(!1),t=Object(a.a)(e,2),s=t[0],T=t[1],C=Object(r.useState)(null),S=Object(a.a)(C,2),k=S[0],P=S[1],B=Object(r.useState)([]),R=Object(a.a)(B,2),w=R[0],I=R[1],G=Object(r.useState)([]),H=Object(a.a)(G,2),_=H[0],z=H[1],E=Object(r.useState)({value:{},label:"select a group type"}),L=Object(a.a)(E,2),F=L[0],U=L[1],A=Object(r.useState)({groupType:1,msisdn:[],groupId:0,groupName:"",status:0}),D=Object(a.a)(A,2),J=D[0];D[1];Object(r.useEffect)((function(){localStorage.setItem("useBMStoken",!0),h.a.getGroupList().then((function(e){console.log(e),z(e.data),localStorage.setItem("useBMStoken",!1)})).catch((function(e){Object(O.a)(e),console.log(e),localStorage.setItem("useBMStoken",!1)}))}),[]);var q=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return Object(M.jsxs)(r.Fragment,{children:[Object(M.jsx)(n.a.Ripple,{className:"mb-1",color:"primary",tag:v.b,to:"/allGroupMaps",children:Object(M.jsxs)("div",{className:"d-flex align-items-center",children:[Object(M.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(M.jsx)("span",{children:"Back"})]})}),Object(M.jsxs)(l.a,{children:[Object(M.jsxs)(i.a,{className:"border-bottom",children:[Object(M.jsx)(u.a,{tag:"h4",children:"Create Group Map"}),Object(M.jsxs)(v.b,{to:"/Group Upload File Template.xlsx",target:"_blank",download:!0,children:[Object(M.jsx)(c.a,{})," Download Template for Uploading Group"]})]}),Object(M.jsx)(p.a,{style:{paddingTop:"15px"},children:Object(M.jsxs)(d.a,{className:"row",style:{width:"100%"},onSubmit:function(e){var t,s,a;e.preventDefault(),localStorage.setItem("useBMStoken",!0);var r=J.status,o=J.groupType,c=J.msisdn,n=J.groupId,l=J.groupName;o=null===(t=F.value)||void 0===t?void 0:t.groupType,n=null===(s=F.value)||void 0===s?void 0:s.id,l=null===(a=F.value)||void 0===a?void 0:a.name,c=w.map((function(e){return e.ContactNo})),T(!0),h.a.createGroupMap({groupType:o,msisdn:c,groupId:n,groupName:l,status:r}).then((function(e){T(!1),localStorage.setItem("useBMStoken",!1),Object(O.c)(e)})).catch((function(e){T(!1),localStorage.setItem("useBMStoken",!1),Object(O.a)(e),console.log(e)}))},autoComplete:"off",children:[Object(M.jsx)(b.a,{sm:"6",children:Object(M.jsxs)(j.a,{children:[Object(M.jsx)(g.a,{for:"groupType",children:"Select Group"}),Object(M.jsx)(x.a,{theme:y.h,maxMenuHeight:200,className:"react-select",classNamePrefix:"select",value:{value:F.value,label:F.label},onChange:function(e){U({value:e.value,label:e.label})},options:null===_||void 0===_?void 0:_.map((function(e){return{value:e,label:e.name}}))})]})}),Object(M.jsx)(b.a,{sm:"12",children:Object(M.jsxs)(j.a,{children:[Object(M.jsx)(g.a,{for:"name",children:"Upload a file"}),Object(M.jsx)(m.a,{type:"file",id:"file",onChange:function(e){var t=e.target.files[0];if(t)if(t&&q.includes(t.type)){var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(e){P(null);var t=N.read(e.target.result,{type:"buffer"}),s=t.SheetNames[0],a=t.Sheets[s],r=N.utils.sheet_to_json(a);I(r),console.log(r)}}else P("Please select only excel file types");else console.log("plz select your file")},required:!0}),k&&Object(M.jsx)("div",{className:"text-danger",style:{marginTop:"5px"},children:k})]})}),Object(M.jsx)("br",{}),Object(M.jsx)("hr",{}),Object(M.jsx)(b.a,{sm:"12",children:null!==w&&Object(M.jsx)("div",{className:"table-responsive",children:Object(M.jsx)("table",{className:"table",children:Object(M.jsx)("tbody",{children:w.map((function(e){return Object(M.jsxs)("tr",{children:[Object(M.jsx)("th",{children:e["S.L"]}),Object(M.jsx)("th",{children:e.ContactNo})]},e.__rowNum__)}))})})})}),Object(M.jsx)(b.a,{sm:"12",className:"text-center",children:s?Object(M.jsxs)(n.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(M.jsx)(f.a,{color:"white",size:"sm"}),Object(M.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(M.jsx)(n.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(M.jsx)("span",{children:"Submit"})})})]})})]})]})}},456:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return o})),s.d(t,"c",(function(){return c}));s(0);var a=s(121),r=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?a.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):a.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||a.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){a.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){var t=e.data.message||"success";a.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},461:function(e,t,s){"use strict";var a=s(14),r=s(20),o=s(0),c=s.n(o),n=s(5),l=s.n(n),i=s(56),u=s.n(i),p=s(78),d={tag:p.tagPropType,className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,s=e.cssModule,o=e.tag,n=Object(r.a)(e,["className","cssModule","tag"]),l=Object(p.mapToCssModules)(u()(t,"card-title"),s);return c.a.createElement(o,Object(a.a)({},n,{className:l}))};b.propTypes=d,b.defaultProps={tag:"div"},t.a=b},469:function(e,t,s){"use strict";var a=s(14),r=s(20),o=s(0),c=s.n(o),n=s(5),l=s.n(n),i=s(56),u=s.n(i),p=s(78),d={tag:p.tagPropType,className:l.a.string,cssModule:l.a.object},b=function(e){var t=e.className,s=e.cssModule,o=e.tag,n=Object(r.a)(e,["className","cssModule","tag"]),l=Object(p.mapToCssModules)(u()(t,"card-header"),s);return c.a.createElement(o,Object(a.a)({},n,{className:l}))};b.propTypes=d,b.defaultProps={tag:"div"},t.a=b},475:function(e,t,s){"use strict";var a=s(14),r=s(20),o=s(117),c=s(116),n=s(0),l=s.n(n),i=s(5),u=s.n(i),p=s(56),d=s.n(p),b=s(78),j={children:u.a.node,inline:u.a.bool,tag:b.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},g=function(e){function t(t){var s;return(s=e.call(this,t)||this).getRef=s.getRef.bind(Object(o.a)(s)),s.submit=s.submit.bind(Object(o.a)(s)),s}Object(c.a)(t,e);var s=t.prototype;return s.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},s.submit=function(){this.ref&&this.ref.submit()},s.render=function(){var e=this.props,t=e.className,s=e.cssModule,o=e.inline,c=e.tag,n=e.innerRef,i=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(b.mapToCssModules)(d()(t,!!o&&"form-inline"),s);return l.a.createElement(c,Object(a.a)({},i,{ref:n,className:u}))},t}(n.Component);g.propTypes=j,g.defaultProps={tag:"form"},t.a=g},477:function(e,t,s){"use strict";var a=s(14),r=s(20),o=s(0),c=s.n(o),n=s(5),l=s.n(n),i=s(56),u=s.n(i),p=s(78),d={tag:p.tagPropType,type:l.a.string,size:l.a.string,color:l.a.string,className:l.a.string,cssModule:l.a.object,children:l.a.string},b=function(e){var t=e.className,s=e.cssModule,o=e.type,n=e.size,l=e.color,i=e.children,d=e.tag,b=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(p.mapToCssModules)(u()(t,!!n&&"spinner-"+o+"-"+n,"spinner-"+o,!!l&&"text-"+l),s);return c.a.createElement(d,Object(a.a)({role:"status"},b,{className:j}),i&&c.a.createElement("span",{className:Object(p.mapToCssModules)("sr-only",s)},i))};b.propTypes=d,b.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=b},963:function(e,t){}}]);
//# sourceMappingURL=186.b65ff9bd.chunk.js.map