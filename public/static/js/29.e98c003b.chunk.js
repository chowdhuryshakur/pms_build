(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[29],{2251:function(e,t,a){"use strict";a.r(t);var s=a(15),n=a(120),c=a(0),o=a(1370),r=a(472),i=a(460),l=a(639),d=a(1379),u=a(1380),b=a(654),j=a(655),p=a(469),m=a(461),g=a(446),O=a(465),f=a(467),h=a(451),x=a(466),v=a(456),N=a(481),y=a.n(N),T=a(482),C=a.n(T),k=a(510),P=a(21),M=a(1403),L=a(1522),S=a(1504),B=a(6),w=C()(y.a),W=function(e){var t=e.pendingNotificationList,a=e.setPendingNotificationList,n=Object(c.useState)(!1),o=Object(s.a)(n,2),l=o[0],d=(o[1],Object(c.useState)(!0)),u=Object(s.a)(d,2),b=(u[0],u[1],function(e,s,n){return w.fire(Object(P.a)({title:n,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var n={action_id:s,notification_id:e};return x.a.bulkNotificationApproveRejectDelete(n).then((function(s){Object(v.c)(s),console.log(s),a(t.filter((function(t){return t.id!==e})))})).catch((function(e){console.log(e.response),Object(v.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!y.a.isLoading()}))).then((function(e){e.isConfirmed}))}),j=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info?e.group_info.group_name:""}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Action",minWidth:"100px",selector:function(e){return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)("span",{title:"Approve",children:Object(B.jsx)(M.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(t){return b(e.id,1,"Do you want to approve?")}})}),"\xa0\xa0",Object(B.jsx)("span",{title:"Reject",children:Object(B.jsx)(L.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return b(e.id,2,"Do you want to reject?")}})}),"\xa0\xa0",Object(B.jsx)("span",{title:"Delete",children:Object(B.jsx)(S.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return b(e.id,3,"Do you want to delete?")}})})]})}}];return Object(B.jsxs)(r.a,{children:[Object(B.jsx)(p.a,{className:"border-bottom",children:Object(B.jsx)(m.a,{tag:"h4",children:"Pending Bulk Notification"})}),Object(B.jsx)(i.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsx)(f.a,{md:"12",children:Object(B.jsx)(k.a,{column:j,TableData:t,TableDataLoading:l})})})})]})},D=(C()(y.a),function(e){var t=e.myPendingNotificationList,a=Object(c.useState)(!1),n=Object(s.a)(a,2),o=n[0],l=(n[1],Object(c.useState)(!0)),d=Object(s.a)(l,2);d[0],d[1];return Object(B.jsxs)(r.a,{children:[Object(B.jsx)(p.a,{className:"border-bottom",children:Object(B.jsx)(m.a,{tag:"h4",children:"My Pending Quotas"})}),Object(B.jsx)(i.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsx)(f.a,{md:"12",children:Object(B.jsx)(k.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info?e.group_info.group_name:""}}],TableData:t,TableDataLoading:o})})})})]})}),E=(C()(y.a),function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(c.useState)(!0),g=Object(s.a)(o,2),h=g[0],N=(g[1],Object(c.useState)([])),y=Object(s.a)(N,2),T=y[0],C=y[1];Object(c.useEffect)((function(){x.a.getBulkNotificationWithoutGroup().then((function(e){console.log(e),C(e.data.payload.NotificationList),n(!1)})).catch((function(e){Object(v.a)(e),console.log(e),n(!1)}))}),[h]);var P=Object(c.useState)("1"),M=Object(s.a)(P,2),L=M[0],S=M[1],w=Object(c.useState)("1"),W=Object(s.a)(w,2);W[0],W[1];return Object(B.jsx)(r.a,{children:Object(B.jsxs)(i.a,{className:"pt-2",children:[Object(B.jsx)(l.a,{pills:!0,children:Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"1"===L,onClick:function(){return S("1")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Notifications"})})})}),Object(B.jsx)(b.a,{activeTab:L,children:Object(B.jsx)(j.a,{tabId:"1",children:Object(B.jsxs)(r.a,{children:[Object(B.jsx)(p.a,{className:"border-bottom",children:Object(B.jsx)(m.a,{tag:"h4",children:"Bulk Notifications without group"})}),Object(B.jsx)(i.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsx)(f.a,{md:"12",children:Object(B.jsx)(k.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"50px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Email",minWidth:"100px",sortable:!0,selector:"email"},{name:"MSISDN",minWidth:"100px",sortable:!0,selector:"msisdn"}],TableData:T,TableDataLoading:a})})})})]})})})]})})});C()(y.a),t.default=function(){var e,t=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),a=(e=[]).concat.apply(e,Object(n.a)(t)),N=Object(c.useState)("1"),y=Object(s.a)(N,2),T=y[0],C=y[1],P=Object(c.useState)("1"),M=Object(s.a)(P,2),L=M[0],S=M[1],w=function(e){return C(e)},z=function(e){return S(e)},I=Object(c.useState)(!0),_=Object(s.a)(I,2),R=_[0],G=_[1],H=Object(c.useState)(!0),A=Object(s.a)(H,2),F=A[0],J=(A[1],Object(c.useState)([])),Y=Object(s.a)(J,2),K=Y[0],Q=Y[1],V=Object(c.useState)([]),q=Object(s.a)(V,2),U=q[0],X=q[1],Z=Object(c.useState)([]),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=JSON.parse(localStorage.getItem("userData"));Object(c.useEffect)((function(){x.a.getBulkNotificationList().then((function(e){console.log(e),Q(e.data.payload.NotificationList),X(e.data.payload.myPendingNotificationList),te(e.data.payload.PendingNotificationList),G(!1)})).catch((function(e){Object(v.a)(e),console.log(e),G(!1)}))}),[F]);return Object(B.jsx)(r.a,{children:Object(B.jsxs)(i.a,{className:"pt-2",children:[Object(B.jsxs)(l.a,{pills:!0,children:[Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"1"===L,onClick:function(){return z("1")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Notification With Group"})})}),Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"2"===L,onClick:function(){return z("2")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Notification Without Group"})})})]}),Object(B.jsxs)(b.a,{activeTab:L,children:[Object(B.jsx)(j.a,{tabId:"1",children:Object(B.jsx)(r.a,{children:Object(B.jsxs)(i.a,{className:"pt-2",children:[Object(B.jsxs)(l.a,{pills:!0,children:[Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"1"===T,onClick:function(){return w("1")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Notifications"})})}),Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"2"===T,onClick:function(){return w("2")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"My Pending Notifications"})})}),a.includes(42)||"vendor"===ae.role?Object(B.jsx)(d.a,{children:Object(B.jsx)(u.a,{active:"3"===T,onClick:function(){return w("3")},children:Object(B.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Approve Notifications"})})}):""]}),Object(B.jsxs)(b.a,{activeTab:T,children:[Object(B.jsx)(j.a,{tabId:"1",children:Object(B.jsxs)(r.a,{children:[Object(B.jsxs)(p.a,{className:"border-bottom",children:[Object(B.jsx)(m.a,{tag:"h4",children:"Bulk Notifications"}),"vendor"===ae.role?Object(B.jsx)(g.a.Ripple,{className:"ml-2",color:"primary",tag:h.b,to:"/createBulkNotificationVendor",children:Object(B.jsxs)("div",{className:"d-flex align-items-center",children:[Object(B.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(B.jsx)("span",{children:"Create Bulk Notification"})]})}):Object(B.jsx)(B.Fragment,{children:a.includes(41)&&Object(B.jsx)(g.a.Ripple,{className:"ml-2",color:"primary",tag:h.b,to:"/createBulkNotification",children:Object(B.jsxs)("div",{className:"d-flex align-items-center",children:[Object(B.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(B.jsx)("span",{children:"Create Bulk Notification"})]})})})]}),Object(B.jsx)(i.a,{children:Object(B.jsx)(O.a,{children:Object(B.jsx)(f.a,{md:"12",children:Object(B.jsx)(k.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info.group_name}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Approved by",minWidth:"170px",sortable:!0,selector:"approved_by"}],TableData:K,TableDataLoading:R})})})})]})}),Object(B.jsx)(j.a,{tabId:"2",children:Object(B.jsx)(D,{myPendingNotificationList:U})}),Object(B.jsx)(j.a,{tabId:"3",children:Object(B.jsx)(W,{pendingNotificationList:ee,setPendingNotificationList:te})})]})]})})}),Object(B.jsx)(j.a,{tabId:"2",children:Object(B.jsx)(E,{})})]})]})})}},456:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o}));a(0);var s=a(121),n=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},460:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,r=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),l=Object(u.mapToCssModules)(d()(t,"card-body"),a);return o.a.createElement(r,Object(s.a)({},i,{className:l,ref:c}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},461:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var t=e.className,a=e.cssModule,c=e.tag,r=Object(n.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-title"),a);return o.a.createElement(c,Object(s.a)({},r,{className:i}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},465:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),j={tag:u.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:b,sm:b,md:b,lg:b,xl:b},p={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e){var t=e.className,a=e.cssModule,c=e.noGutters,r=e.tag,i=e.form,l=e.widths,b=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),j=[];l.forEach((function(t,a){var s=e[t];if(delete b[t],s){var n=!a;j.push(n?"row-cols-"+s:"row-cols-"+t+"-"+s)}}));var p=Object(u.mapToCssModules)(d()(t,c?"no-gutters":null,i?"form-row":"row",j),a);return o.a.createElement(r,Object(s.a)({},b,{className:p}))};m.propTypes=j,m.defaultProps=p,t.a=m},467:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:b,offset:b})]),p={tag:u.tagPropType,xs:j,sm:j,md:j,lg:j,xl:j,className:i.a.string,cssModule:i.a.object,widths:i.a.array},m={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,c=e.widths,r=e.tag,i=Object(n.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach((function(t,s){var n=e[t];if(delete i[t],n||""===n){var c=!s;if(Object(u.isObject)(n)){var o,r=c?"-":"-"+t+"-",b=g(c,t,n.size);l.push(Object(u.mapToCssModules)(d()(((o={})[b]=n.size||""===n.size,o["order"+r+n.order]=n.order||0===n.order,o["offset"+r+n.offset]=n.offset||0===n.offset,o)),a))}else{var j=g(c,t,n);l.push(j)}}})),l.length||l.push("col");var b=Object(u.mapToCssModules)(d()(t,l),a);return o.a.createElement(r,Object(s.a)({},i,{className:b}))};O.propTypes=p,O.defaultProps=m,t.a=O},469:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var t=e.className,a=e.cssModule,c=e.tag,r=Object(n.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-header"),a);return o.a.createElement(c,Object(s.a)({},r,{className:i}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},477:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var t=e.className,a=e.cssModule,c=e.type,r=e.size,i=e.color,l=e.children,b=e.tag,j=Object(n.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(u.mapToCssModules)(d()(t,!!r&&"spinner-"+c+"-"+r,"spinner-"+c,!!i&&"text-"+i),a);return o.a.createElement(b,Object(s.a)({role:"status"},j,{className:p}),l&&o.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",a)},l))};j.propTypes=b,j.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=j},506:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(0),n=a.n(s).a.createContext({})},510:function(e,t,a){"use strict";var s=a(21),n=a(15),c=a(0),o=a(1405),r=a(477),i=a(487),l=a.n(i),d=a(493),u=a.n(d),b=a(6);t.a=function(e){var t=e.column,a=e.TableData,i=e.TableDataLoading,d=Object(c.useState)(0),j=Object(n.a)(d,2),p=j[0],m=j[1];return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(u.a,{noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(b.jsx)(o.a,{size:10}),paginationDefaultPage:p+1,paginationComponent:function(){var e;return Object(b.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:p,onPageChange:function(e){return function(e){m(e.selected)}(e)},pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(s.a)(e,"breakClassName","page-item"),Object(s.a)(e,"breakLinkClassName","page-link"),Object(s.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:i,progressComponent:Object(b.jsx)(r.a,{color:"primary"}),responsive:!0})})}},639:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(78),b={tabs:i.a.bool,pills:i.a.bool,vertical:i.a.oneOfType([i.a.bool,i.a.string]),horizontal:i.a.string,justified:i.a.bool,fill:i.a.bool,navbar:i.a.bool,card:i.a.bool,tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var t=e.className,a=e.cssModule,c=e.tabs,r=e.pills,i=e.vertical,l=e.horizontal,b=e.justified,j=e.fill,p=e.navbar,m=e.card,g=e.tag,O=Object(n.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),f=Object(u.mapToCssModules)(d()(t,p?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(i),{"nav-tabs":c,"card-header-tabs":m&&c,"nav-pills":r,"card-header-pills":m&&r,"nav-justified":b,"nav-fill":j}),a);return o.a.createElement(g,Object(s.a)({},O,{className:f}))};j.propTypes=b,j.defaultProps={tag:"ul",vertical:!1},t.a=j},654:function(e,t,a){"use strict";var s=a(14),n=a(116),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(506),b=a(78),j={tag:b.tagPropType,activeTab:i.a.any,className:i.a.string,cssModule:i.a.object},p=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(n.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.tag,c=Object(b.omit)(this.props,Object.keys(j)),r=Object(b.mapToCssModules)(d()("tab-content",t),a);return o.a.createElement(u.a.Provider,{value:{activeTabId:this.state.activeTab}},o.a.createElement(n,Object(s.a)({},c,{className:r})))},t}(c.Component);t.a=p,p.propTypes=j,p.defaultProps={tag:"div"}},655:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),d=a.n(l),u=a(506),b=a(78),j={tag:b.tagPropType,className:i.a.string,cssModule:i.a.object,tabId:i.a.any};function p(e){var t=e.className,a=e.cssModule,c=e.tabId,r=e.tag,i=Object(n.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(b.mapToCssModules)(d()("tab-pane",t,{active:c===e}),a)};return o.a.createElement(u.a.Consumer,null,(function(e){var t=e.activeTabId;return o.a.createElement(r,Object(s.a)({},i,{className:l(t)}))}))}p.propTypes=j,p.defaultProps={tag:"div"}}}]);
//# sourceMappingURL=29.e98c003b.chunk.js.map