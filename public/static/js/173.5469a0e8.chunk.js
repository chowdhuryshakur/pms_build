(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[173],{1948:function(e,t,a){"use strict";a.r(t);var s=a(21),n=a(1),r=a(10),c=a(0),i=a(1080),o=a(463),l=a(471),u=a(476),d=a(475),b=a(472),m=a(495),j=a(473),p=a(1018),f=a(490),O=a(1045),g=a(1043),h=a(1044),x=a(861),v=a(518),y=a(491),w=a(494),N=a(537),T=a(497),S=a(500),M=a(486),C=a(542),z=a(6);t.default=function(){var e=Object(C.g)(),t=Object(c.useState)(JSON.parse(localStorage.getItem("UserEditInfo"))),a=Object(r.a)(t,2),R=a[0],k=a[1],P=Object(c.useState)(!1),_=Object(r.a)(P,2),U=_[0],F=_[1],E=Object(c.useState)(R.photo?[{uid:1,name:"image.png",status:"done",type:"image/jpeg",url:R.photo}]:[]),L=Object(r.a)(E,2),I=L[0],A=L[1],B=Object(c.useState)({previewVisible:!1,previewImage:"",previewTitle:"",fileList:R.photo?[{uid:1,name:"image.png",status:"done",type:"image/jpeg",url:R.photo}]:[]}),D=Object(r.a)(B,2),V=D[0],J=D[1],H=Object(c.useRef)(),$=Object(c.useState)([]),q=Object(r.a)($,2),G=q[0],K=q[1],Q=Object(c.useState)(""),W=Object(r.a)(Q,2),X=W[0],Y=W[1],Z=Object(c.useState)(!1),ee=Object(r.a)(Z,2),te=ee[0],ae=ee[1],se=Object(c.useState)(!1),ne=Object(r.a)(se,2),re=ne[0],ce=ne[1],ie=Object(c.useState)({email:!1,mobile:!1}),oe=Object(r.a)(ie,2),le=oe[0],ue=oe[1],de=function(e){var t=/\S+@\S+\.\S+/.test(e.target.value);if("email"===e.target.name&&t&&ue(Object(n.a)(Object(n.a)({},le),{},{email:!1})),"email"!==e.target.name||t||ue(Object(n.a)(Object(n.a)({},le),{},{email:!0})),"mobile"===e.target.name){if("0"===e.target.value[0])return ue(Object(n.a)(Object(n.a)({},le),{},{mobile:!0})),0;if(ue(Object(n.a)(Object(n.a)({},le),{},{mobile:!1})),!/^[0-9]*$/.test(e.target.value))return 0}k(Object(n.a)(Object(n.a)({},R),{},Object(s.a)({},e.target.name,e.target.value)))};return Object(z.jsxs)(c.Fragment,{children:[Object(z.jsxs)(o.a.Ripple,{className:"ml-1 mb-1",color:"primary",onClick:function(t){return e.goBack()},children:[Object(z.jsx)(i.a,{size:12})," Back"]}),Object(z.jsxs)(l.a,{children:[Object(z.jsx)(u.a,{className:"border-bottom",children:Object(z.jsx)(d.a,{tag:"h4",children:"Update User"})}),Object(z.jsx)(b.a,{children:Object(z.jsxs)(m.a,{className:"row mt-1",style:{width:"100%"},onSubmit:function(t){if(t.preventDefault(),console.log(R),U)return toast.error("please wait, image is uploading to the server"),0;var a=I.length?I[0].url:null,s=R.user_id,r=R.mobile,c=R.email,i=R.full_name,o=R.address;if(!/\S+@\S+\.\S+/.test(c))return ue(Object(n.a)(Object(n.a)({},le),{},{email:!0})),0;ce(!0),y.a.editSuperAdminUser({super_admin_user_id:s,mobile:r,email:c,full_name:i,address:o,photo:a}).then((function(t){console.log(t),Object(T.b)(t),ce(!1),e.goBack()})).catch((function(e){Object(T.a)(e),ce(!1)}))},autoComplete:"off",children:[Object(z.jsx)(j.a,{md:"4",children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(f.a,{for:"full_name",children:"Full Name"}),Object(z.jsx)(O.a,{type:"text",id:"full_name",name:"full_name",placeholder:"manager name",value:R.full_name,onChange:de})]})}),Object(z.jsx)(j.a,{md:"4",children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(f.a,{className:"form-label",for:"mobile",children:"Mobile Number"}),Object(z.jsxs)(g.a,{className:"input-group-merge w-100 mb-1",children:[Object(z.jsx)(h.a,{addonType:"prepend",children:Object(z.jsx)(x.a,{children:w.e})}),Object(z.jsx)(O.a,{autoFocus:!0,type:"text",minLength:10,maxLength:10,id:"mobile",name:"mobile",value:R.mobile,onChange:de,placeholder:"123-456-7899"})]}),le.mobile&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"First digit 0 not allow"})]})}),Object(z.jsx)(j.a,{md:"4",children:Object(z.jsxs)(p.a,{children:[Object(z.jsx)(f.a,{for:"email",children:"Email"}),Object(z.jsx)(O.a,{type:"email",id:"email",name:"email",placeholder:"example@gmail.com",value:R.email,onChange:de}),le.email&&R.email&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Please Enter a valid Email"})]})}),Object(z.jsxs)(j.a,{md:"6",children:[Object(z.jsx)(f.a,{for:"postcode",children:"Search Address by Post Code"}),Object(z.jsxs)(g.a,{children:[Object(z.jsx)(O.a,{type:"text",id:"postcode",name:"postcode",placeholder:"post code",value:X,onChange:function(e){return Y(e.target.value)}}),Object(z.jsx)(h.a,{addonType:"append",children:Object(z.jsx)(o.a,{color:"primary",outline:!0,type:"button",onClick:function(e){e.preventDefault(),ae(!0),y.a.ukAddressEndpoint({postCode:X}).then((function(e){console.log(e.data.payload),K(e.data.payload.addresses.map((function(e){return"".concat(e.building_number,", ").concat(e.thoroughfare,", ").concat(e.locality,", ").concat(e.town_or_city)}))),ae(!1)})).catch((function(e){K([]),ae(!1),Object(T.a)(e)}))},children:te?Object(z.jsx)(v.a,{size:"sm"}):"Search"})})]})]}),Object(z.jsxs)(j.a,{md:"6",children:[Object(z.jsx)(f.a,{children:"Address"}),Object(z.jsx)(S.a,{ref:H,theme:M.g,className:"react-select",classNamePrefix:"select",name:"address",onChange:function(e){k(Object(n.a)(Object(n.a)({},R),{},{address:e.value}))},options:G.map((function(e){return{value:e,label:e}})),value:{value:R.address,label:R.address},maxMenuHeight:150,isClearable:!1})]}),Object(z.jsxs)(j.a,{md:"12",className:"mt-1",children:[Object(z.jsx)(f.a,{children:"Photo"}),Object(z.jsx)(N.a,{setimgUpLoading:F,state:V,setState:J,fileUrls:I,setFileUrls:A})]}),Object(z.jsx)(j.a,{md:"12 text-center",children:Object(z.jsx)(o.a.Ripple,{className:"mt-2",color:"primary",type:"submit",disabled:re,children:re?Object(z.jsx)(v.a,{size:"sm"}):"Update"})})]})})]})]})}},471:function(e,t,a){"use strict";var s=a(15),n=a(20),r=a(0),c=a.n(r),i=a(5),o=a.n(i),l=a(58),u=a.n(l),d=a(80),b={tag:d.tagPropType,inverse:o.a.bool,color:o.a.string,body:o.a.bool,outline:o.a.bool,className:o.a.string,cssModule:o.a.object,innerRef:o.a.oneOfType([o.a.object,o.a.string,o.a.func])},m=function(e){var t=e.className,a=e.cssModule,r=e.color,i=e.body,o=e.inverse,l=e.outline,b=e.tag,m=e.innerRef,j=Object(n.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),p=Object(d.mapToCssModules)(u()(t,"card",!!o&&"text-white",!!i&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return c.a.createElement(b,Object(s.a)({},j,{className:p,ref:m}))};m.propTypes=b,m.defaultProps={tag:"div"},t.a=m},473:function(e,t,a){"use strict";var s=a(15),n=a(20),r=a(0),c=a.n(r),i=a(5),o=a.n(i),l=a(58),u=a.n(l),d=a(80),b=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.number,o.a.string,o.a.shape({size:o.a.oneOfType([o.a.bool,o.a.number,o.a.string]),order:b,offset:b})]),j={tag:d.tagPropType,xs:m,sm:m,md:m,lg:m,xl:m,className:o.a.string,cssModule:o.a.object,widths:o.a.array},p={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,r=e.widths,i=e.tag,o=Object(n.a)(e,["className","cssModule","widths","tag"]),l=[];r.forEach((function(t,s){var n=e[t];if(delete o[t],n||""===n){var r=!s;if(Object(d.isObject)(n)){var c,i=r?"-":"-"+t+"-",b=f(r,t,n.size);l.push(Object(d.mapToCssModules)(u()(((c={})[b]=n.size||""===n.size,c["order"+i+n.order]=n.order||0===n.order,c["offset"+i+n.offset]=n.offset||0===n.offset,c)),a))}else{var m=f(r,t,n);l.push(m)}}})),l.length||l.push("col");var b=Object(d.mapToCssModules)(u()(t,l),a);return c.a.createElement(i,Object(s.a)({},o,{className:b}))};O.propTypes=j,O.defaultProps=p,t.a=O},490:function(e,t,a){"use strict";var s=a(15),n=a(20),r=a(0),c=a.n(r),i=a(5),o=a.n(i),l=a(58),u=a.n(l),d=a(80),b=o.a.oneOfType([o.a.number,o.a.string]),m=o.a.oneOfType([o.a.bool,o.a.string,o.a.number,o.a.shape({size:b,order:b,offset:b})]),j={children:o.a.node,hidden:o.a.bool,check:o.a.bool,size:o.a.string,for:o.a.string,tag:d.tagPropType,className:o.a.string,cssModule:o.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:o.a.array},p={tag:"label",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},O=function(e){var t=e.className,a=e.cssModule,r=e.hidden,i=e.widths,o=e.tag,l=e.check,b=e.size,m=e.for,j=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),p=[];i.forEach((function(t,s){var n=e[t];if(delete j[t],n||""===n){var r,c=!s;if(Object(d.isObject)(n)){var i,o=c?"-":"-"+t+"-";r=f(c,t,n.size),p.push(Object(d.mapToCssModules)(u()(((i={})[r]=n.size||""===n.size,i["order"+o+n.order]=n.order||0===n.order,i["offset"+o+n.offset]=n.offset||0===n.offset,i))),a)}else r=f(c,t,n),p.push(r)}}));var O=Object(d.mapToCssModules)(u()(t,!!r&&"sr-only",!!l&&"form-check-label",!!b&&"col-form-label-"+b,p,!!p.length&&"col-form-label"),a);return c.a.createElement(o,Object(s.a)({htmlFor:m},j,{className:O}))};O.propTypes=j,O.defaultProps=p,t.a=O},495:function(e,t,a){"use strict";var s=a(15),n=a(20),r=a(120),c=a(119),i=a(0),o=a.n(i),l=a(5),u=a.n(l),d=a(58),b=a.n(d),m=a(80),j={children:u.a.node,inline:u.a.bool,tag:m.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},p=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(c.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,c=e.tag,i=e.innerRef,l=Object(n.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(m.mapToCssModules)(b()(t,!!r&&"form-inline"),a);return o.a.createElement(c,Object(s.a)({},l,{ref:i,className:u}))},t}(i.Component);p.propTypes=j,p.defaultProps={tag:"form"},t.a=p},537:function(e,t,a){"use strict";var s=a(122),n=a(507),r=a.n(n),c=a(512),i=a(1),o=(a(0),a(849)),l=a(1892),u=(a(538),a(121)),d=a(491),b=a(1075),m=a(497),j=a(494),p=a(6);t.a=function(e){var t=e.fileUrls,a=e.setFileUrls,n=e.state,f=e.setState,O=e.setimgUpLoading;function g(e){return new Promise((function(t,a){var s=new FileReader;s.readAsDataURL(e),s.onload=function(){return t(s.result)},s.onerror=function(e){return a(e)}}))}var h=n.previewVisible,x=n.previewImage,v=n.fileList,y=n.previewTitle,w=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.url||t.preview){e.next=4;break}return e.next=3,g(t.originFileObj);case 3:t.preview=e.sent;case 4:f(Object(i.a)(Object(i.a)({},n),{},{previewImage:t.url||t.preview,previewVisible:!0,previewTitle:t.name||t.url.substring(t.url.lastIndexOf("/")+1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=Object(p.jsxs)("div",{className:"text-center p-1",style:{height:"102px",width:"102px"},children:[Object(p.jsx)("span",{children:Object(p.jsx)(b.a,{size:20,className:"my-1"})})," ",Object(p.jsx)("br",{}),Object(p.jsx)("span",{children:"Add Image"})]}),T={beforeUpload:function(e){var n=e.size/1024/1024<2,r="image/jpeg"===e.type||"image/png"===e.type;if(r){if(n){var c=new FormData;return c.append("complain_image",e),O(!0),d.a.singleFileupload(c).then((function(n){console.log(n.data.payload.fileurl),O(!1),a([].concat(Object(s.a)(t),[{uid:e.uid,name:"image.png",status:"done",type:"image/jpeg",url:n.data.payload.fileurl}]))})).catch((function(e){O(!1),console.log(e),Object(m.a)(e)})),r&&n}u.f.error("Image must smaller than 2MB!")}else u.f.error("".concat(e.name," is not a Image file"))}};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.a,Object(i.a)(Object(i.a)({},T),{},{action:"".concat(j.d,"/api/fackupload"),listType:"picture-card",fileList:v,onPreview:w,onChange:function(e){var s=e.fileList,r=e.file;return r.size/1024/1024>2?0:"image/jpeg"===r.type||"image/png"===r.type?(a(t.filter((function(e){return s.some((function(t){return e.uid===t.uid}))}))),void f(Object(i.a)(Object(i.a)({},n),{},{fileList:s.filter((function(e){return e.type.includes("image")}))}))):0},children:v.length>=1?null:N})),Object(p.jsx)(l.a,{visible:h,title:y,footer:null,onCancel:function(){return f(Object(i.a)(Object(i.a)({},n),{},{previewVisible:!1}))},children:Object(p.jsx)("img",{alt:"example",style:{width:"100%"},src:x})})]})}}}]);
//# sourceMappingURL=173.5469a0e8.chunk.js.map