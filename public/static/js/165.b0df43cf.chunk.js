(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[165],{2136:function(e,t,a){"use strict";a.r(t);var s=a(120),c=a(1),r=a(15),n=a(0),o=a(1406),i=a(651),l=a(446),d=a(472),u=a(475),b=a(469),j=a(461),p=a(460),O=a(465),m=a(467),g=a(479),f=a(1368),h=a(1338),v=a(1341),y=a(477),x=a(466),_=(a(471),a(456)),N=(a(606),a(967)),C=a(6);t.default=function(){var e=JSON.parse(localStorage.getItem("customerBusinesses")),t=Object(i.g)(),a=Object(i.i)().productID,T=Object(n.useState)(!1),M=Object(r.a)(T,2),P=M[0],S=M[1],k=Object(n.useState)([]),w=Object(r.a)(k,2),R=(w[0],w[1]),D=Object(n.useState)({}),z=Object(r.a)(D,2),E=z[0],B=z[1],q=Object(n.useState)({}),A=Object(r.a)(q,2),L=(A[0],A[1]),H=Object(n.useState)([]),I=Object(r.a)(H,2),U=(I[0],I[1]),F=Object(n.useState)([]),G=Object(r.a)(F,2),J=(G[0],G[1]),Q=Object(n.useState)([]),Y=Object(r.a)(Q,2),K=Y[0],V=Y[1],W=Object(n.useState)({}),X=Object(r.a)(W,2),Z=(X[0],X[1]),$=Object(n.useState)(""),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],se=Object(n.useState)(""),ce=Object(r.a)(se,2),re=(ce[0],ce[1]),ne=Object(n.useState)(""),oe=Object(r.a)(ne,2),ie=(oe[0],oe[1]),le=Object(n.useState)([]),de=Object(r.a)(le,2),ue=(de[0],de[1]),be=Object(n.useState)([]),je=Object(r.a)(be,2),pe=(je[0],je[1]),Oe=Object(n.useState)([]),me=Object(r.a)(Oe,2),ge=(me[0],me[1]),fe=Object(n.useState)([]),he=Object(r.a)(fe,2),ve=he[0],ye=he[1];Object(n.useEffect)((function(){x.a.SingleProductDetailsApi({productid:a}).then((function(t){B(Object(c.a)(Object(c.a)({},t.data.payload),{},{is_budget:!!t.data.payload.discount_budget}));var a=t.data.payload;console.log("main data ",a),ie({label:e.find((function(e){return e.id===a.business_id})).businessname,value:e.find((function(e){return e.id===a.business_id})).businessname});var s=a.product_optional_image,r=a.product_type_id,n=a.optional_data;r||L(n[0]),R(s),x.a.ChildSubcategoryListAPi().then((function(e){re(e.data.payload.find((function(e){return e.id===Number(a.child_subcategory_id)})).name)})).catch((function(e){console.log(e)})),x.a.ProductTypeListAPi({product_type_id:r}).then((function(e){var t=e.data.payload,s=[],r=[],o=[];ae(t[0].type_name);var i=t[0].additional_fixed_data.map((function(e,t){return s[t]=e.label,e.entity_name}));t[0].additional_dynamic_data.map((function(e,t){r[t]=e.label,o[t]=e.entity_name}));var l=Object(c.a)({},a.optional_data[0]),d={};for(var u in l)i.includes(String(u))&&(d[u]=l[u]);U(n.map((function(e){var t={};for(var a in e)aditnlDynamicData.includes(String(a))&&(t[a]=e[a]);return t}))),J(aditnlDynamicData),Z(d),V(i),ue(s),ge(o),pe(r),ye(t[0].additional_dynamic_data)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e.response),Object(_.a)(e)}))}),[]);return Object(C.jsxs)(n.Fragment,{children:[Object(C.jsxs)(l.a.Ripple,{className:"ml-2 mb-2",color:"primary",onClick:function(e){return t.goBack()},children:[Object(C.jsx)(o.a,{size:10}),Object(C.jsx)("span",{className:"align-middle ml-50",children:"Back"})]}),Object(C.jsx)(d.a,{children:Object(C.jsx)("h4",{className:"text-center py-2",children:"Update Stock "})}),E.productname?Object(C.jsxs)(u.a,{style:{width:"100%"},onSubmit:function(e){e.preventDefault(),console.log("ProdDetails",E),S(!0),x.a.updateproductApi(E).then((function(e){S(!1),t.push("/allproduct"),Object(_.c)(e)})).catch((function(e){S(!1),console.log(e),Object(_.a)(e)}))},autoComplete:"off",children:[Object(C.jsxs)(d.a,{children:[Object(C.jsx)(b.a,{className:"border-bottom mb-1",children:Object(C.jsx)(j.a,{tag:"h5",children:"Discount"})}),Object(C.jsx)(p.a,{children:Object(C.jsxs)(O.a,{children:[Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"Discount Offer (%)"}),Object(C.jsx)(f.a,{min:0,type:"number",value:E.discount_percent,onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{discount_percent:e.target.value}))}})]}),E.discount_percent>0?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"Start Date"}),Object(C.jsx)(f.a,{type:"date",value:new Date(E.discount_startdate).toLocaleDateString("fr-CA"),onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{discount_startdate:e.target.value}))}})]}),Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"End Date"}),Object(C.jsx)(f.a,{type:"date",min:new Date(E.discount_startdate).toLocaleDateString("fr-CA"),value:new Date(E.discount_enddate).toLocaleDateString("fr-CA"),onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{discount_enddate:e.target.value}))}})]}),Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"Quota"}),Object(C.jsx)(f.a,{type:"number",required:!E.is_budget,min:E.is_budget?0:1,value:E.discount_quota,onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{discount_quota:e.target.value}))}})]}),Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"Is Budget?"}),Object(C.jsx)(h.a,{style:{zIndex:"0"},className:"mt-1",onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{is_budget:e.target.checked}))},checked:E.is_budget,type:"checkbox",id:"isB",label:"Yes"})]}),E.is_budget?Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:"Budget"}),Object(C.jsx)(f.a,{placeholder:" ",type:"number",required:E.is_budget,min:E.is_budget?1:0,value:E.discount_budget,onChange:function(e){return B(Object(c.a)(Object(c.a)({},E),{},{discount_budget:e.target.value}))}})]}):""," "]}):""]})})]}),""===te?null:Object(C.jsxs)(d.a,{children:[Object(C.jsx)(b.a,{className:"border-bottom mb-1",children:Object(C.jsxs)(j.a,{tag:"h5",children:["Product name :  ",E.productname]})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(O.a,{children:E.optional_data.map((function(e,t){var a=t,r=Object.keys(e),n=[];return r.map((function(e,t){K.includes(e)||n.push(e)})),Object(C.jsx)(m.a,{md:"6",children:Object(C.jsxs)(d.a,{style:{border:"1px solid #d2c7c7"},children:[Object(C.jsx)(b.a,{className:"border-bottom mb-1",children:Object(C.jsxs)(j.a,{tag:"h5",children:["Item ",t+1]})}),Object(C.jsxs)(p.a,{children:[Object(C.jsx)(O.a,{children:n.map((function(t,r){var n=t,o=e[t];return ve.every((function(e,a){return e.entity_name!==t||(e.is_key_value_pair_array&&e.allow_values.every((function(e){return e.value!==o||(o=e.label,!1)})),n=e.label,!1)})),"product_quantity"===n||"product_price"===n?Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:n.replace(/^.{1}/g,n[0].toUpperCase()).replace(/_/g," ")}),"product_quantity"===n?Object(C.jsx)(f.a,{required:!0,type:"number",value:o,onChange:function(e){var t=Object(s.a)(E.optional_data);t[a]=Object(c.a)(Object(c.a)({},t[a]),{},{product_quantity:e.target.value}),B(Object(c.a)(Object(c.a)({},E),{},{optional_data:t}))}}):Object(C.jsx)(f.a,{required:!0,type:"number",value:o,onChange:function(e){if(Number(o)===E.RRP){var t=Object(s.a)(E.optional_data);t[a]=Object(c.a)(Object(c.a)({},t[a]),{},{product_price:e.target.value}),B(Object(c.a)(Object(c.a)({},E),{},{RRP:Number(e.target.value),optional_data:t}))}else{var r=Object(s.a)(E.optional_data);r[a]=Object(c.a)(Object(c.a)({},r[a]),{},{product_price:e.target.value}),B(Object(c.a)(Object(c.a)({},E),{},{optional_data:r}))}}})]},r):""}))}),Object(C.jsx)(O.a,{children:n.map((function(t,a){var s=t,c=e[t];return ve.every((function(e,a){return e.entity_name!==t||(s=e.label,!1)})),"product_quantity"===s||"product_price"===s?"":Object(C.jsxs)(m.a,{md:"4",className:"my-1",children:[Object(C.jsx)(g.a,{children:s.replace(/^.{1}/g,s[0].toUpperCase()).replace(/_/g," ")}),"product_color"===s?Object(C.jsx)("div",{style:{backgroundColor:c,height:"30px",width:"30px",marginTop:"2px",border:"4px solid #efefef",borderRadius:"50%"}}):Object(C.jsx)(f.a,{type:"text",value:c,disabled:!0})]},a)}))})]})]})},t)}))})})]}),Object(C.jsx)(d.a,{children:Object(C.jsx)(p.a,{children:Object(C.jsx)(O.a,{children:Object(C.jsx)(m.a,{sm:"12",className:"text-center",children:Object(C.jsx)(v.a,{children:P?Object(C.jsxs)(l.a.Ripple,{color:"primary",disabled:!0,children:[Object(C.jsx)(y.a,{color:"white",size:"sm"}),Object(C.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(C.jsx)(l.a.Ripple,{color:"primary",type:"submit",children:Object(C.jsx)("span",{children:"Update Stock"})})})})})})})]}):Object(C.jsx)(d.a,{children:Object(C.jsxs)(p.a,{children:[Object(C.jsx)(N.a,{active:!0}),Object(C.jsx)(N.a,{active:!0}),Object(C.jsx)(N.a,{active:!0})]})})]})}},456:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n}));a(0);var s=a(121),c=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},460:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var t=e.className,a=e.cssModule,r=e.innerRef,o=e.tag,i=Object(c.a)(e,["className","cssModule","innerRef","tag"]),l=Object(u.mapToCssModules)(d()(t,"card-body"),a);return n.a.createElement(o,Object(s.a)({},i,{className:l,ref:r}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},461:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var t=e.className,a=e.cssModule,r=e.tag,o=Object(c.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(d()(t,"card-title"),a);return n.a.createElement(r,Object(s.a)({},o,{className:i}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},465:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),j={tag:u.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:b,sm:b,md:b,lg:b,xl:b},p={tag:"div",widths:["xs","sm","md","lg","xl"]},O=function(e){var t=e.className,a=e.cssModule,r=e.noGutters,o=e.tag,i=e.form,l=e.widths,b=Object(c.a)(e,["className","cssModule","noGutters","tag","form","widths"]),j=[];l.forEach((function(t,a){var s=e[t];if(delete b[t],s){var c=!a;j.push(c?"row-cols-"+s:"row-cols-"+t+"-"+s)}}));var p=Object(u.mapToCssModules)(d()(t,r?"no-gutters":null,i?"form-row":"row",j),a);return n.a.createElement(o,Object(s.a)({},b,{className:p}))};O.propTypes=j,O.defaultProps=p,t.a=O},467:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:b,offset:b})]),p={tag:u.tagPropType,xs:j,sm:j,md:j,lg:j,xl:j,className:i.a.string,cssModule:i.a.object,widths:i.a.array},O={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},g=function(e){var t=e.className,a=e.cssModule,r=e.widths,o=e.tag,i=Object(c.a)(e,["className","cssModule","widths","tag"]),l=[];r.forEach((function(t,s){var c=e[t];if(delete i[t],c||""===c){var r=!s;if(Object(u.isObject)(c)){var n,o=r?"-":"-"+t+"-",b=m(r,t,c.size);l.push(Object(u.mapToCssModules)(d()(((n={})[b]=c.size||""===c.size,n["order"+o+c.order]=c.order||0===c.order,n["offset"+o+c.offset]=c.offset||0===c.offset,n)),a))}else{var j=m(r,t,c);l.push(j)}}})),l.length||l.push("col");var b=Object(u.mapToCssModules)(d()(t,l),a);return n.a.createElement(o,Object(s.a)({},i,{className:b}))};g.propTypes=p,g.defaultProps=O,t.a=g},472:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var t=e.className,a=e.cssModule,r=e.color,o=e.body,i=e.inverse,l=e.outline,b=e.tag,j=e.innerRef,p=Object(c.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),O=Object(u.mapToCssModules)(d()(t,"card",!!i&&"text-white",!!o&&"card-body",!!r&&(l?"border":"bg")+"-"+r),a);return n.a.createElement(b,Object(s.a)({},p,{className:O,ref:j}))};j.propTypes=b,j.defaultProps={tag:"div"},t.a=j},475:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(117),n=a(116),o=a(0),i=a.n(o),l=a(5),d=a.n(l),u=a(56),b=a.n(u),j=a(78),p={children:d.a.node,inline:d.a.bool,tag:j.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},O=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(r.a)(a)),a.submit=a.submit.bind(Object(r.a)(a)),a}Object(n.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.inline,n=e.tag,o=e.innerRef,l=Object(c.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(j.mapToCssModules)(b()(t,!!r&&"form-inline"),a);return i.a.createElement(n,Object(s.a)({},l,{ref:o,className:d}))},t}(o.Component);O.propTypes=p,O.defaultProps={tag:"form"},t.a=O},477:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var t=e.className,a=e.cssModule,r=e.type,o=e.size,i=e.color,l=e.children,b=e.tag,j=Object(c.a)(e,["className","cssModule","type","size","color","children","tag"]),p=Object(u.mapToCssModules)(d()(t,!!o&&"spinner-"+r+"-"+o,"spinner-"+r,!!i&&"text-"+i),a);return n.a.createElement(b,Object(s.a)({role:"status"},j,{className:p}),l&&n.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",a)},l))};j.propTypes=b,j.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=j},479:function(e,t,a){"use strict";var s=a(14),c=a(20),r=a(0),n=a.n(r),o=a(5),i=a.n(o),l=a(56),d=a.n(l),u=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:b,order:b,offset:b})]),p={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,xs:j,sm:j,md:j,lg:j,xl:j,widths:i.a.array},O={tag:"label",widths:["xs","sm","md","lg","xl"]},m=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},g=function(e){var t=e.className,a=e.cssModule,r=e.hidden,o=e.widths,i=e.tag,l=e.check,b=e.size,j=e.for,p=Object(c.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),O=[];o.forEach((function(t,s){var c=e[t];if(delete p[t],c||""===c){var r,n=!s;if(Object(u.isObject)(c)){var o,i=n?"-":"-"+t+"-";r=m(n,t,c.size),O.push(Object(u.mapToCssModules)(d()(((o={})[r]=c.size||""===c.size,o["order"+i+c.order]=c.order||0===c.order,o["offset"+i+c.offset]=c.offset||0===c.offset,o))),a)}else r=m(n,t,c),O.push(r)}}));var g=Object(u.mapToCssModules)(d()(t,!!r&&"sr-only",!!l&&"form-check-label",!!b&&"col-form-label-"+b,O,!!O.length&&"col-form-label"),a);return n.a.createElement(i,Object(s.a)({htmlFor:j},p,{className:g}))};g.propTypes=p,g.defaultProps=O,t.a=g}}]);
//# sourceMappingURL=165.b0df43cf.chunk.js.map