(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[29],{1141:function(e,t,a){"use strict";var s=a(15),n=a(0),c=a(472),o=a(459),r=a(640),i=a(641),l=a(468),u=a(460),d=a(465),b=a(467),p=a(466),j=a(455),m=a(481),g=a.n(m),f=a(482),O=a.n(f),h=a(507),x=a(6);O()(g.a);t.a=function(){var e=Object(n.useState)(!0),t=Object(s.a)(e,2),a=t[0],m=t[1],g=Object(n.useState)(!0),f=Object(s.a)(g,2),O=f[0],v=(f[1],Object(n.useState)([])),N=Object(s.a)(v,2),y=N[0],T=N[1];Object(n.useEffect)((function(){p.a.getBulkNotificationWithoutGroup().then((function(e){console.log(e),T(e.data.payload.NotificationList),m(!1)})).catch((function(e){Object(j.a)(e),console.log(e),m(!1)}))}),[O]);var C=Object(n.useState)("1"),k=Object(s.a)(C,2),P=k[0],M=(k[1],Object(n.useState)("1")),S=Object(s.a)(M,2);S[0],S[1];return Object(x.jsx)(c.a,{children:Object(x.jsx)(o.a,{className:"pt-2",children:Object(x.jsx)(r.a,{activeTab:P,children:Object(x.jsx)(i.a,{tabId:"1",children:Object(x.jsxs)(c.a,{children:[Object(x.jsx)(l.a,{className:"border-bottom",children:Object(x.jsx)(u.a,{tag:"h4",children:"Notification Report"})}),Object(x.jsx)(o.a,{children:Object(x.jsx)(d.a,{children:Object(x.jsx)(b.a,{md:"12",children:Object(x.jsx)(h.a,{column:[{name:"SL",maxWidth:"50px",sortable:!0,cell:function(e,t){return t+1}},{name:"MSISDN",maxWidth:"200px",sortable:!0,selector:"msisdn"},{name:"Title",maxWidth:"150px",sortable:!0,selector:"title"},{name:"Body",maxWidth:"400px",sortable:!0,selector:"body",style:{whiteSpace:"break-spaces"}}],TableData:y,TableDataLoading:a})})})})]})})})})})}},2266:function(e,t,a){"use strict";a.r(t);var s=a(15),n=a(121),c=a(0),o=a(1371),r=a(472),i=a(459),l=a(640),u=a(641),d=a(639),b=a(1380),p=a(1381),j=a(468),m=a(460),g=a(446),f=a(465),O=a(467),h=a(451),x=a(466),v=a(455),N=a(481),y=a.n(N),T=a(482),C=a.n(T),k=a(507),P=a(21),M=a(1403),S=a(1522),L=a(1504),w=a(6),B=C()(y.a),D=function(e){var t=e.pendingNotificationList,a=e.setPendingNotificationList,n=Object(c.useState)(!1),o=Object(s.a)(n,2),l=o[0],u=(o[1],Object(c.useState)(!0)),d=Object(s.a)(u,2),b=(d[0],d[1],function(e,s,n){return B.fire(Object(P.a)({title:n,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var n={action_id:s,notification_id:e};return x.a.bulkNotificationApproveRejectDelete(n).then((function(s){Object(v.c)(s),console.log(s),a(t.filter((function(t){return t.id!==e})))})).catch((function(e){console.log(e.response),Object(v.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!y.a.isLoading()}))).then((function(e){e.isConfirmed}))}),p=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info?e.group_info.group_name:""}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Action",minWidth:"100px",selector:function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("span",{title:"Approve",children:Object(w.jsx)(M.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(t){return b(e.id,1,"Do you want to approve?")}})}),"\xa0\xa0",Object(w.jsx)("span",{title:"Reject",children:Object(w.jsx)(S.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return b(e.id,2,"Do you want to reject?")}})}),"\xa0\xa0",Object(w.jsx)("span",{title:"Delete",children:Object(w.jsx)(L.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return b(e.id,3,"Do you want to delete?")}})})]})}}];return Object(w.jsxs)(r.a,{children:[Object(w.jsx)(j.a,{className:"border-bottom",children:Object(w.jsx)(m.a,{tag:"h4",children:"Pending Bulk Notification"})}),Object(w.jsx)(i.a,{children:Object(w.jsx)(f.a,{children:Object(w.jsx)(O.a,{md:"12",children:Object(w.jsx)(k.a,{column:p,TableData:t,TableDataLoading:l})})})})]})},W=(C()(y.a),function(e){var t=e.myPendingNotificationList,a=Object(c.useState)(!1),n=Object(s.a)(a,2),o=n[0],l=(n[1],Object(c.useState)(!0)),u=Object(s.a)(l,2);u[0],u[1];return Object(w.jsxs)(r.a,{children:[Object(w.jsx)(j.a,{className:"border-bottom",children:Object(w.jsx)(m.a,{tag:"h4",children:"My Pending Quotas"})}),Object(w.jsx)(i.a,{children:Object(w.jsx)(f.a,{children:Object(w.jsx)(O.a,{md:"12",children:Object(w.jsx)(k.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info?e.group_info.group_name:""}}],TableData:t,TableDataLoading:o})})})})]})}),E=a(1141);C()(y.a),t.default=function(){var e,t=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),a=(e=[]).concat.apply(e,Object(n.a)(t)),N=Object(c.useState)("1"),y=Object(s.a)(N,2),T=y[0],C=y[1],P=Object(c.useState)("1"),M=Object(s.a)(P,2),S=M[0],L=(M[1],function(e){return C(e)}),B=Object(c.useState)(!0),z=Object(s.a)(B,2),I=z[0],_=z[1],R=Object(c.useState)(!0),G=Object(s.a)(R,2),H=G[0],A=(G[1],Object(c.useState)([])),F=Object(s.a)(A,2),J=F[0],Y=F[1],K=Object(c.useState)([]),Q=Object(s.a)(K,2),V=Q[0],q=Q[1],U=Object(c.useState)([]),X=Object(s.a)(U,2),Z=X[0],$=X[1],ee=JSON.parse(localStorage.getItem("userData"));Object(c.useEffect)((function(){x.a.getBulkNotificationList().then((function(e){console.log(e),Y(e.data.payload.NotificationList),q(e.data.payload.myPendingNotificationList),$(e.data.payload.PendingNotificationList),_(!1)})).catch((function(e){Object(v.a)(e),console.log(e),_(!1)}))}),[H]);return Object(w.jsx)(r.a,{children:Object(w.jsx)(i.a,{className:"pt-2",children:Object(w.jsxs)(l.a,{activeTab:S,children:[Object(w.jsx)(u.a,{tabId:"1",children:Object(w.jsx)(r.a,{children:Object(w.jsxs)(i.a,{className:"pt-2",children:[Object(w.jsxs)(d.a,{pills:!0,children:[Object(w.jsx)(b.a,{children:Object(w.jsx)(p.a,{active:"1"===T,onClick:function(){return L("1")},children:Object(w.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Notifications"})})}),Object(w.jsx)(b.a,{children:Object(w.jsx)(p.a,{active:"2"===T,onClick:function(){return L("2")},children:Object(w.jsx)("span",{className:"align-middle d-none d-sm-block",children:"My Pending Notifications"})})}),a.includes(42)||"vendor"===ee.role?Object(w.jsx)(b.a,{children:Object(w.jsx)(p.a,{active:"3"===T,onClick:function(){return L("3")},children:Object(w.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Approve Notifications"})})}):""]}),Object(w.jsxs)(l.a,{activeTab:T,children:[Object(w.jsx)(u.a,{tabId:"1",children:Object(w.jsxs)(r.a,{children:[Object(w.jsxs)(j.a,{className:"border-bottom",children:[Object(w.jsx)(m.a,{tag:"h4",children:"Bulk Notifications"}),"vendor"===ee.role?Object(w.jsx)(g.a.Ripple,{className:"ml-2",color:"primary",tag:h.b,to:"/createBulkNotificationVendor",children:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(w.jsx)("span",{children:"Create Bulk Notification"})]})}):Object(w.jsx)(w.Fragment,{children:a.includes(41)&&Object(w.jsx)(g.a.Ripple,{className:"ml-2",color:"primary",tag:h.b,to:"/createBulkNotification",children:Object(w.jsxs)("div",{className:"d-flex align-items-center",children:[Object(w.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(w.jsx)("span",{children:"Create Bulk Notification"})]})})})]}),Object(w.jsx)(i.a,{children:Object(w.jsx)(f.a,{children:Object(w.jsx)(O.a,{md:"12",children:Object(w.jsx)(k.a,{column:[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Title",minWidth:"100px",sortable:!0,selector:"title"},{name:"Body",minWidth:"100px",sortable:!0,selector:"body"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:function(e){return e.group_info.group_name}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Approved by",minWidth:"170px",sortable:!0,selector:"approved_by"}],TableData:J,TableDataLoading:I})})})})]})}),Object(w.jsx)(u.a,{tabId:"2",children:Object(w.jsx)(W,{myPendingNotificationList:V})}),Object(w.jsx)(u.a,{tabId:"3",children:Object(w.jsx)(D,{pendingNotificationList:Z,setPendingNotificationList:$})})]})]})})}),Object(w.jsx)(u.a,{tabId:"2",children:Object(w.jsx)(E.a,{})})]})})})}},455:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return o}));a(0);var s=a(118),n=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},459:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,r=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),a);return o.a.createElement(r,Object(s.a)({},i,{className:l,ref:c}))};p.propTypes=b,p.defaultProps={tag:"div"},t.a=p},460:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,r=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return o.a.createElement(c,Object(s.a)({},r,{className:i}))};p.propTypes=b,p.defaultProps={tag:"div"},t.a=p},465:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),p={tag:d.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:b,sm:b,md:b,lg:b,xl:b},j={tag:"div",widths:["xs","sm","md","lg","xl"]},m=function(e){var t=e.className,a=e.cssModule,c=e.noGutters,r=e.tag,i=e.form,l=e.widths,b=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),p=[];l.forEach((function(t,a){var s=e[t];if(delete b[t],s){var n=!a;p.push(n?"row-cols-"+s:"row-cols-"+t+"-"+s)}}));var j=Object(d.mapToCssModules)(u()(t,c?"no-gutters":null,i?"form-row":"row",p),a);return o.a.createElement(r,Object(s.a)({},b,{className:j}))};m.propTypes=p,m.defaultProps=j,t.a=m},467:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b=i.a.oneOfType([i.a.number,i.a.string]),p=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:b,offset:b})]),j={tag:d.tagPropType,xs:p,sm:p,md:p,lg:p,xl:p,className:i.a.string,cssModule:i.a.object,widths:i.a.array},m={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},f=function(e){var t=e.className,a=e.cssModule,c=e.widths,r=e.tag,i=Object(n.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach((function(t,s){var n=e[t];if(delete i[t],n||""===n){var c=!s;if(Object(d.isObject)(n)){var o,r=c?"-":"-"+t+"-",b=g(c,t,n.size);l.push(Object(d.mapToCssModules)(u()(((o={})[b]=n.size||""===n.size,o["order"+r+n.order]=n.order||0===n.order,o["offset"+r+n.offset]=n.offset||0===n.offset,o)),a))}else{var p=g(c,t,n);l.push(p)}}})),l.length||l.push("col");var b=Object(d.mapToCssModules)(u()(t,l),a);return o.a.createElement(r,Object(s.a)({},i,{className:b}))};f.propTypes=j,f.defaultProps=m,t.a=f},468:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,r=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),a);return o.a.createElement(c,Object(s.a)({},r,{className:i}))};p.propTypes=b,p.defaultProps={tag:"div"},t.a=p},476:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},p=function(e){var t=e.className,a=e.cssModule,c=e.type,r=e.size,i=e.color,l=e.children,b=e.tag,p=Object(n.a)(e,["className","cssModule","type","size","color","children","tag"]),j=Object(d.mapToCssModules)(u()(t,!!r&&"spinner-"+c+"-"+r,"spinner-"+c,!!i&&"text-"+i),a);return o.a.createElement(b,Object(s.a)({role:"status"},p,{className:j}),l&&o.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};p.propTypes=b,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},505:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var s=a(0),n=a.n(s).a.createContext({})},507:function(e,t,a){"use strict";var s=a(21),n=a(15),c=a(0),o=a(1405),r=a(476),i=a(485),l=a.n(i),u=a(492),d=a.n(u),b=a(6);t.a=function(e){var t=e.column,a=e.TableData,i=e.TableDataLoading,u=Object(c.useState)(0),p=Object(n.a)(u,2),j=p[0],m=p[1];return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(d.a,{customStyles:{cells:{style:{whiteSpace:"break-spaces"}}},noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(b.jsx)(o.a,{size:10}),paginationDefaultPage:j+1,paginationComponent:function(){var e;return Object(b.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:j,onPageChange:function(e){return function(e){m(e.selected)}(e)},pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(s.a)(e,"breakClassName","page-item"),Object(s.a)(e,"breakLinkClassName","page-link"),Object(s.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:i,progressComponent:Object(b.jsx)(r.a,{color:"primary"}),responsive:!0})})}},639:function(e,t,a){"use strict";var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(78),b={tabs:i.a.bool,pills:i.a.bool,vertical:i.a.oneOfType([i.a.bool,i.a.string]),horizontal:i.a.string,justified:i.a.bool,fill:i.a.bool,navbar:i.a.bool,card:i.a.bool,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tabs,r=e.pills,i=e.vertical,l=e.horizontal,b=e.justified,p=e.fill,j=e.navbar,m=e.card,g=e.tag,f=Object(n.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),O=Object(d.mapToCssModules)(u()(t,j?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(i),{"nav-tabs":c,"card-header-tabs":m&&c,"nav-pills":r,"card-header-pills":m&&r,"nav-justified":b,"nav-fill":p}),a);return o.a.createElement(g,Object(s.a)({},f,{className:O}))};p.propTypes=b,p.defaultProps={tag:"ul",vertical:!1},t.a=p},640:function(e,t,a){"use strict";var s=a(14),n=a(116),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(505),b=a(78),p={tag:b.tagPropType,activeTab:i.a.any,className:i.a.string,cssModule:i.a.object},j=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(n.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,n=e.tag,c=Object(b.omit)(this.props,Object.keys(p)),r=Object(b.mapToCssModules)(u()("tab-content",t),a);return o.a.createElement(d.a.Provider,{value:{activeTabId:this.state.activeTab}},o.a.createElement(n,Object(s.a)({},c,{className:r})))},t}(c.Component);t.a=j,j.propTypes=p,j.defaultProps={tag:"div"}},641:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var s=a(14),n=a(20),c=a(0),o=a.n(c),r=a(5),i=a.n(r),l=a(56),u=a.n(l),d=a(505),b=a(78),p={tag:b.tagPropType,className:i.a.string,cssModule:i.a.object,tabId:i.a.any};function j(e){var t=e.className,a=e.cssModule,c=e.tabId,r=e.tag,i=Object(n.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(b.mapToCssModules)(u()("tab-pane",t,{active:c===e}),a)};return o.a.createElement(d.a.Consumer,null,(function(e){var t=e.activeTabId;return o.a.createElement(r,Object(s.a)({},i,{className:l(t)}))}))}j.propTypes=p,j.defaultProps={tag:"div"}}}]);
//# sourceMappingURL=29.1fbea8d2.chunk.js.map