(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[30],{1009:function(e,a){},1010:function(e,a){},2095:function(e,a,s){"use strict";s.r(a);var t=s(21),r=s(1),n=s(15),c=s(0),o=(s(79),s(1406)),i=s(1439),l=s(446),p=s(472),u=s(469),d=s(461),j=s(460),b=s(475),m=s(467),g=s(1341),f=s(479),h=s(1368),O=s(477),x=s(466),v=s(456),y=s(451),N=(s(471),s(1008)),C=s(6);a.default=function(){var e=Object(c.useState)(!1),a=Object(n.a)(e,2),s=a[0],T=a[1],M=Object(c.useState)(null),P=Object(n.a)(M,2),_=P[0],R=P[1],k=Object(c.useState)([]),S=Object(n.a)(k,2),w=S[0],B=S[1],z=Object(c.useState)({group_map:[],group_name:""}),G=Object(n.a)(z,2),H=G[0],E=G[1],D=JSON.parse(localStorage.getItem("userData")),F=["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];return Object(C.jsxs)(c.Fragment,{children:["vendor"===D.role?Object(C.jsx)(l.a.Ripple,{className:"mb-1",color:"primary",tag:y.b,to:"/allNotificationGroupsVendor",children:Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[Object(C.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(C.jsx)("span",{children:"Back"})]})}):Object(C.jsx)(l.a.Ripple,{className:"mb-1",color:"primary",tag:y.b,to:"/allNotificationGroups",children:Object(C.jsxs)("div",{className:"d-flex align-items-center",children:[Object(C.jsx)(o.a,{size:17,style:{marginRight:"5px"}}),Object(C.jsx)("span",{children:"Back"})]})}),Object(C.jsxs)(p.a,{children:[Object(C.jsxs)(u.a,{className:"border-bottom",children:[Object(C.jsx)(d.a,{tag:"h4",children:"Create Notificaion Group"}),Object(C.jsxs)(y.b,{to:"/Group Upload File Template1.xlsx",target:"_blank",download:!0,children:[Object(C.jsx)(i.a,{})," Download Template for Uploading Group"]})]}),Object(C.jsx)(j.a,{style:{paddingTop:"15px"},children:Object(C.jsxs)(b.a,{className:"row",style:{width:"100%"},onSubmit:function(e){e.preventDefault();var a=H.group_name,s=H.group_map;s=w.map((function(e){return{msisdn:e.msisdn,email:e.email}})),T(!0),x.a.createNotificationGroup({group_name:a,group_map:s}).then((function(e){T(!1),Object(v.c)(e)})).catch((function(e){T(!1),Object(v.a)(e),console.log(e)}))},autoComplete:"off",children:[Object(C.jsx)(m.a,{sm:"6",children:Object(C.jsxs)(g.a,{children:[Object(C.jsx)(f.a,{for:"group_name",children:"Group Name"}),Object(C.jsx)(h.a,{type:"text",name:"group_name",id:"group_name",value:H.group_name,onChange:function(e){E(Object(r.a)(Object(r.a)({},H),{},Object(t.a)({},e.target.name,e.target.value)))},required:!0,placeholder:"group name"})]})}),Object(C.jsx)(m.a,{sm:"12",children:Object(C.jsxs)(g.a,{children:[Object(C.jsx)(f.a,{for:"name",children:"Upload a file"}),Object(C.jsx)(h.a,{type:"file",id:"file",onChange:function(e){var a=e.target.files[0];if(a)if(a&&F.includes(a.type)){var s=new FileReader;s.readAsArrayBuffer(a),s.onload=function(e){R(null);var a=N.read(e.target.result,{type:"buffer"}),s=a.SheetNames[0],t=a.Sheets[s],r=N.utils.sheet_to_json(t);B(r),console.log(r)}}else R("Please select only excel file types");else console.log("plz select your file")},required:!0}),_&&Object(C.jsx)("div",{className:"text-danger",style:{marginTop:"5px"},children:_})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("hr",{}),Object(C.jsx)(m.a,{sm:"12",children:null!==w&&Object(C.jsx)("div",{className:"table-responsive",children:Object(C.jsx)("table",{className:"table",children:Object(C.jsx)("tbody",{children:w.map((function(e){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:e.msisdn}),Object(C.jsx)("th",{children:e.email})]},e.__rowNum__)}))})})})}),Object(C.jsx)(m.a,{sm:"12",className:"text-center",children:s?Object(C.jsxs)(l.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(C.jsx)(O.a,{color:"white",size:"sm"}),Object(C.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(C.jsx)(l.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(C.jsx)("span",{children:"Submit"})})})]})})]})]})}},456:function(e,a,s){"use strict";s.d(a,"a",(function(){return r})),s.d(a,"b",(function(){return n})),s.d(a,"c",(function(){return c}));s(0);var t=s(121),r=function(e){try{var a=e.response;404===a.status||401===a.status||400===a.status||500===a.status?t.f.error(a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):t.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},n=function(e){try{var a=e.response;404!==a.status&&401!==a.status&&400!==a.status||t.f.error(a.data.errors?a.data.errors[Object.keys(a.data.errors)[0]]:a.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(a){t.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},c=function(e){var a=e.data.message||"success";t.f.success(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},461:function(e,a,s){"use strict";var t=s(14),r=s(20),n=s(0),c=s.n(n),o=s(5),i=s.n(o),l=s(56),p=s.n(l),u=s(78),d={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var a=e.className,s=e.cssModule,n=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(p()(a,"card-title"),s);return c.a.createElement(n,Object(t.a)({},o,{className:i}))};j.propTypes=d,j.defaultProps={tag:"div"},a.a=j},469:function(e,a,s){"use strict";var t=s(14),r=s(20),n=s(0),c=s.n(n),o=s(5),i=s.n(o),l=s(56),p=s.n(l),u=s(78),d={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object},j=function(e){var a=e.className,s=e.cssModule,n=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(u.mapToCssModules)(p()(a,"card-header"),s);return c.a.createElement(n,Object(t.a)({},o,{className:i}))};j.propTypes=d,j.defaultProps={tag:"div"},a.a=j},475:function(e,a,s){"use strict";var t=s(14),r=s(20),n=s(117),c=s(116),o=s(0),i=s.n(o),l=s(5),p=s.n(l),u=s(56),d=s.n(u),j=s(78),b={children:p.a.node,inline:p.a.bool,tag:j.tagPropType,innerRef:p.a.oneOfType([p.a.object,p.a.func,p.a.string]),className:p.a.string,cssModule:p.a.object},m=function(e){function a(a){var s;return(s=e.call(this,a)||this).getRef=s.getRef.bind(Object(n.a)(s)),s.submit=s.submit.bind(Object(n.a)(s)),s}Object(c.a)(a,e);var s=a.prototype;return s.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},s.submit=function(){this.ref&&this.ref.submit()},s.render=function(){var e=this.props,a=e.className,s=e.cssModule,n=e.inline,c=e.tag,o=e.innerRef,l=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),p=Object(j.mapToCssModules)(d()(a,!!n&&"form-inline"),s);return i.a.createElement(c,Object(t.a)({},l,{ref:o,className:p}))},a}(o.Component);m.propTypes=b,m.defaultProps={tag:"form"},a.a=m},477:function(e,a,s){"use strict";var t=s(14),r=s(20),n=s(0),c=s.n(n),o=s(5),i=s.n(o),l=s(56),p=s.n(l),u=s(78),d={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var a=e.className,s=e.cssModule,n=e.type,o=e.size,i=e.color,l=e.children,d=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(u.mapToCssModules)(p()(a,!!o&&"spinner-"+n+"-"+o,"spinner-"+n,!!i&&"text-"+i),s);return c.a.createElement(d,Object(t.a)({role:"status"},j,{className:b}),l&&c.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",s)},l))};j.propTypes=d,j.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=j},963:function(e,a){}}]);
//# sourceMappingURL=30.4510c843.chunk.js.map