(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[38],{2254:function(e,t,a){"use strict";a.r(t);var n=a(21),r=a(15),o=a(121),s=a(0),c=a(1436),i=a(1434),l=a(1504),u=a(1371),d=a(472),j=a(459),p=a(639),b=a(1380),g=a(1381),m=a(640),O=a(641),h=a(468),x=a(460),f=a(446),v=a(465),C=a(467),y=a(653),N=a(451),k=a(466),G=a(455),S=a(481),L=a.n(S),_=a(482),w=a.n(_),D=a(1),P=a(562),B=a(565),T=a(557),I=a(475),W=a(1342),z=a(479),R=a(1369),A=a(476),E=(a(471),a(6)),F=function(e){var t=e.modal,a=e.toggleModal,o=e.groupInfo,c=e.setGroupInfo,i=e.setReset,l=e.resetData,u=Object(s.useState)(!1),d=Object(r.a)(u,2),j=d[0],p=d[1];return Object(E.jsxs)(P.a,{isOpen:t,toggle:a,className:"modal-dialog-centered",children:[Object(E.jsx)(B.a,{toggle:a,children:"Edit Notificaion Group"}),Object(E.jsx)(T.a,{children:Object(E.jsxs)(I.a,{className:"row",style:{width:"100%"},onSubmit:function(e){e.preventDefault();var t=o.id,n=o.group_name;p(!0);var r={group_id:t,action_id:2,group_name:n};k.a.notificationEditDelete(r).then((function(e){i(!l),p(!1),console.log(e),a(),Object(G.c)(e)})).catch((function(e){p(!1),Object(G.a)(e),console.log(e)}))},autoComplete:"off",children:[Object(E.jsx)(C.a,{sm:"6",children:Object(E.jsxs)(W.a,{children:[Object(E.jsx)(z.a,{for:"group_name",children:"Group Name"}),Object(E.jsx)(R.a,{type:"text",name:"group_name",id:"group_name",value:o.group_name,onChange:function(e){c(Object(D.a)(Object(D.a)({},o),{},Object(n.a)({},e.target.name,e.target.value)))},required:!0,placeholder:"0"})]})}),Object(E.jsx)(C.a,{sm:"12",className:"text-center",children:j?Object(E.jsxs)(f.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(E.jsx)(A.a,{color:"white",size:"sm"}),Object(E.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(E.jsx)(f.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(E.jsx)("span",{children:"Update"})})})]})})]})},H=a(507),J=a(1403),V=a(1522),M=w()(L.a),Y=function(e){var t,a=e.pendingGroupList,i=e.setPendingGroupList,u=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),p=(t=[]).concat.apply(t,Object(o.a)(u)),b=Object(s.useState)(!1),g=Object(r.a)(b,2),m=g[0],O=(g[1],Object(s.useState)(!0)),f=Object(r.a)(O,2),N=(f[0],f[1],Object(y.g)()),S=JSON.parse(localStorage.getItem("userData")),_=function(e,t,r){return M.fire(Object(n.a)({title:r,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var n={group_id:e,action_id:t,reject_msg:""};return k.a.NotificationApproveRejectDelete(n).then((function(t){Object(G.c)(t),console.log(t),i(a.filter((function(t){return t.id!==e})))})).catch((function(e){console.log(e.response),Object(G.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!L.a.isLoading()}))).then((function(e){e.isConfirmed}))},w=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:"group_name"},{name:"Action",minWidth:"100px",selector:function(e){return Object(E.jsx)(E.Fragment,{children:p.includes(37)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{title:"View",children:Object(E.jsx)(c.a,{size:15,color:"blue",style:{cursor:"pointer"},onClick:function(t){return"vendor"===S.role?N.push("/detailsNotificationGroupVendor/".concat(e.id,"?is_pending=false")):N.push("/detailsNotificationGroup/".concat(e.id,"?is_pending=false"))}})}),"\xa0\xa0",Object(E.jsx)("span",{title:"Approve",children:Object(E.jsx)(J.a,{size:15,color:"teal",style:{cursor:"pointer"},onClick:function(t){return _(e.id,1,"Do you want to approve?")}})}),"\xa0\xa0",Object(E.jsx)("span",{title:"Reject",children:Object(E.jsx)(V.a,{size:15,color:"orange",style:{cursor:"pointer"},onClick:function(t){return _(e.id,2,"Do you want to reject?")}})}),"\xa0\xa0",Object(E.jsx)("span",{title:"Delete",children:Object(E.jsx)(l.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return _(e.id,3,"Do you want to reject?")}})})]})})}}];return Object(E.jsxs)(d.a,{children:[Object(E.jsx)(h.a,{className:"border-bottom",children:Object(E.jsx)(x.a,{tag:"h4",children:"Pending Notification Groups"})}),Object(E.jsx)(j.a,{children:Object(E.jsx)(v.a,{children:Object(E.jsx)(C.a,{md:"12",children:Object(E.jsx)(H.a,{column:w,TableData:a,TableDataLoading:m})})})})]})},K=(w()(L.a),function(e){var t=e.myPendingGroupList,a=Object(s.useState)(!1),n=Object(r.a)(a,2),o=n[0],i=(n[1],Object(s.useState)(!0)),l=Object(r.a)(i,2),u=(l[0],l[1],Object(y.g)()),p=JSON.parse(localStorage.getItem("userData")),b=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Group ID",minWidth:"100px",sortable:!0,selector:"id"},{name:"Group Name",minWidth:"100px",sortable:!0,selector:"group_name"},{name:"Action",minWidth:"100px",selector:function(e){return Object(E.jsx)(E.Fragment,{children:Object(E.jsx)("span",{title:"View",children:Object(E.jsx)(c.a,{size:15,color:"blue",style:{cursor:"pointer"},onClick:function(t){return"vendor"===p.role?u.push("/detailsNotificationGroupVendor/".concat(e.id,"?is_pending=false")):u.push("/detailsNotificationGroup/".concat(e.id,"?is_pending=false"))}})})})}}];return Object(E.jsxs)(d.a,{children:[Object(E.jsx)(h.a,{className:"border-bottom",children:Object(E.jsx)(x.a,{tag:"h4",children:"My Pending Notification Groups"})}),Object(E.jsx)(j.a,{children:Object(E.jsx)(v.a,{children:Object(E.jsx)(C.a,{md:"12",children:Object(E.jsx)(H.a,{column:b,TableData:t,TableDataLoading:o})})})})]})}),q=w()(L.a);t.default=function(){var e,t=(JSON.parse(localStorage.getItem("AssignedMenus"))||[]).map((function(e){return e.submenu.map((function(e){return e.id}))})),a=(e=[]).concat.apply(e,Object(o.a)(t)),S=Object(y.g)(),_=Object(s.useState)(!0),w=Object(r.a)(_,2),D=w[0],P=w[1],B=Object(s.useState)(!0),T=Object(r.a)(B,2),I=T[0],W=T[1],z=Object(s.useState)([]),R=Object(r.a)(z,2),A=R[0],J=R[1],V=Object(s.useState)([]),M=Object(r.a)(V,2),U=M[0],Q=M[1],X=Object(s.useState)([]),Z=Object(r.a)(X,2),$=Z[0],ee=Z[1],te=Object(s.useState)({}),ae=Object(r.a)(te,2),ne=ae[0],re=ae[1],oe=Object(s.useState)(!1),se=Object(r.a)(oe,2),ce=se[0],ie=se[1],le=JSON.parse(localStorage.getItem("userData"));Object(s.useEffect)((function(){k.a.getNotificationGroupList().then((function(e){console.log(e),J(e.data.payload.GroupList),Q(e.data.payload.myPendingGroupList),ee(e.data.payload.approveGroupList),P(!1)})).catch((function(e){Object(G.a)(e),console.log(e),P(!1)}))}),[I]);var ue=[{name:"SL",minWidth:"20px",sortable:!0,cell:function(e,t){return t+1}},{name:"Group Name",minWidth:"100px",sortable:!0,selector:"group_name"},{name:"Created By",minWidth:"100px",sortable:!0,selector:"created_by_name"},{name:"Approved by",minWidth:"170px",sortable:!0,selector:"approved_by"},{name:"Action",minWidth:"100px",selector:function(e){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("span",{title:"View",children:a.includes(40)||"vendor"===le.role?Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(c.a,{size:15,color:"blue",style:{cursor:"pointer"},onClick:function(t){return"vendor"===le.role?S.push("/detailsNotificationGroupVendor/".concat(e.id,"?is_pending=false")):S.push("/detailsNotificationGroup/".concat(e.id,"?is_pending=false"))}})}):""}),"\xa0\xa0",Object(E.jsx)("span",{title:"Edit",children:a.includes(36)||"vendor"===le.role?Object(E.jsx)(i.a,{size:15,color:"green",style:{cursor:"pointer"},onClick:function(t){re(e),ie(!0)}}):""}),"\xa0\xa0",Object(E.jsx)("span",{title:"Delete",children:a.includes(38)||"vendor"===le.role?Object(E.jsx)(l.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return a=e.id,r=1,e.group_name,o="Do you want to delete?",q.fire(Object(n.a)({title:o,text:"You won't be able to revert this",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,confirmButtonText:"Yes",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger ml-1"},showLoaderOnConfirm:!0,preConfirm:function(){var e={group_id:a,action_id:r};return k.a.notificationEditDelete(e).then((function(e){Object(G.c)(e),console.log(e)})).catch((function(e){console.log(e.response),Object(G.a)(e)}))},buttonsStyling:!1},"allowOutsideClick",(function(){return!L.a.isLoading()}))).then((function(e){e.isConfirmed}));var a,r,o}}):""})]})}}],de=Object(s.useState)("1"),je=Object(r.a)(de,2),pe=je[0],be=je[1],ge=function(e){return be(e)};return Object(E.jsx)(d.a,{children:Object(E.jsxs)(j.a,{className:"pt-2",children:[Object(E.jsxs)(p.a,{pills:!0,children:[Object(E.jsx)(b.a,{children:Object(E.jsx)(g.a,{active:"1"===pe,onClick:function(){return ge("1")},children:Object(E.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Groups"})})}),Object(E.jsx)(b.a,{children:Object(E.jsx)(g.a,{active:"2"===pe,onClick:function(){return ge("2")},children:Object(E.jsx)("span",{className:"align-middle d-none d-sm-block",children:"My Pending Groups"})})}),a.includes(39)||"vendor"===le.role?Object(E.jsx)(b.a,{children:Object(E.jsx)(g.a,{active:"3"===pe,onClick:function(){return ge("3")},children:Object(E.jsx)("span",{className:"align-middle d-none d-sm-block",children:"Approve Groups"})})}):""]}),Object(E.jsxs)(m.a,{activeTab:pe,children:[Object(E.jsx)(O.a,{tabId:"1",children:Object(E.jsxs)(d.a,{children:[Object(E.jsxs)(h.a,{className:"border-bottom",children:[Object(E.jsx)(x.a,{tag:"h4",children:"Notification Groups"}),"vendor"===le.role?Object(E.jsx)(f.a.Ripple,{className:"ml-2",color:"primary",tag:N.b,to:"/createNotificationGroupsVendor",children:Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)(u.a,{size:17,style:{marginRight:"5px"}}),Object(E.jsx)("span",{children:"Create Group"})]})}):Object(E.jsx)(E.Fragment,{children:a.includes(35)&&Object(E.jsx)(f.a.Ripple,{className:"ml-2",color:"primary",tag:N.b,to:"/createNotificationGroups",children:Object(E.jsxs)("div",{className:"d-flex align-items-center",children:[Object(E.jsx)(u.a,{size:17,style:{marginRight:"5px"}}),Object(E.jsx)("span",{children:"Create Group"})]})})})]}),Object(E.jsxs)(j.a,{children:[Object(E.jsx)(v.a,{children:Object(E.jsx)(C.a,{md:"12",children:Object(E.jsx)(H.a,{column:ue,TableData:A,TableDataLoading:D})})}),Object(E.jsx)(F,{toggleModal:function(){return ie(!ce)},modal:ce,resetData:I,setReset:W,groupInfo:ne,setGroupInfo:re})]})]})}),Object(E.jsx)(O.a,{tabId:"2",children:Object(E.jsx)(K,{myPendingGroupList:U})}),Object(E.jsx)(O.a,{tabId:"3",children:Object(E.jsx)(Y,{pendingGroupList:$,setPendingGroupList:ee})})]})]})})}},455:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));a(0);var n=a(118),r=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?n.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):n.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||n.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){n.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},s=function(e){var t=e.data.message||"success";n.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},507:function(e,t,a){"use strict";var n=a(21),r=a(15),o=a(0),s=a(1405),c=a(476),i=a(485),l=a.n(i),u=a(492),d=a.n(u),j=a(6);t.a=function(e){var t=e.column,a=e.TableData,i=e.TableDataLoading,u=Object(o.useState)(0),p=Object(r.a)(u,2),b=p[0],g=p[1];return Object(j.jsx)(o.Fragment,{children:Object(j.jsx)(d.a,{customStyles:{cells:{style:{whiteSpace:"break-spaces"}}},noHeader:!0,pagination:!0,columns:t,paginationPerPage:10,className:"react-dataTable",sortIcon:Object(j.jsx)(s.a,{size:10}),paginationDefaultPage:b+1,paginationComponent:function(){var e;return Object(j.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:b,onPageChange:function(e){return function(e){g(e.selected)}(e)},pageCount:a.length?a.length/10:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:a,progressPending:i,progressComponent:Object(j.jsx)(c.a,{color:"primary"}),responsive:!0})})}}}]);
//# sourceMappingURL=38.1c9c32c8.chunk.js.map