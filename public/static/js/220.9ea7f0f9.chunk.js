(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[220],{2114:function(e,a,t){"use strict";t.r(a);var s=t(1),r=t(15),l=t(0),c=t(651),n=t(451),i=t(478),o=(t(487),t(493),t(1406)),d=t(471),u=t(446),m=t(472),j=t(469),b=t(460),f=t(475),p=t(467),h=t(1341),O=t(479),g=t(1368),x=t(477),v=t(967),y=(t(606),t(466)),N=t(481),T=t.n(N),M=t(482),S=t.n(M),z=t(6),C=S()(T.a);a.default=function(){var e=Object(c.g)(),a=Object(c.i)().userID,t=Object(l.useState)([{value:"",label:""}]),N=Object(r.a)(t,2),T=N[0],M=N[1],S=Object(l.useState)([{value:"",label:""}]),R=Object(r.a)(S,2),E=R[0],w=R[1],P=Object(l.useState)([]),U=Object(r.a)(P,2),L=U[0],k=U[1],q=Object(l.useState)(!0),F=Object(r.a)(q,2),D=F[0],I=F[1],V=Object(l.useState)(!1),B=Object(r.a)(V,2),J=B[0],A=(B[1],Object(l.useState)({})),G=Object(r.a)(A,2),H=G[0],K=G[1],Q=Object(l.useState)({userType:!1,userTitle:!1,storeName:!1,email:!1}),W=Object(r.a)(Q,2),X=W[0],Y=W[1];Object(l.useEffect)((function(){y.a.userRoleList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.id,label:e.statusdesc}}));M(a)})).catch((function(e){console.log(e.response)})),y.a.userTitleList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.id,label:e.statusdesc}}));w(a)})).catch((function(e){console.log(e.response)})),y.a.adminUserDetails({id:a}).then((function(e){var a,t=e.data.payload[0];console.log(e);var s=t.fullname?t.fullname.split(" "):[" "," "];a={id:t.id,firstname:s.length?s[0]:"",lastname:2===s.length?s[1]:"",emailid:t.emailid,roleid:t.roleid,rolename:t.adminstatus.statusdesc,storename:t.adminstore.storename,storeid:t.storeid,title:t.titleinfo.statusdesc,titleid:t.titleinfo.id},K(a),I(!1)})).catch((function(e){console.log(e.response)})),y.a.storeList().then((function(e){var a=e.data.payload.map((function(e){return{value:e.storeid,label:e.storename}}));k(a)})).catch((function(e){console.log(e)}))}),[]);var Z=function(e){var a=/\S+@\S+\.\S+/.test(e.target.value);"emailid"===e.target.name&&a&&Y(Object(s.a)(Object(s.a)({},X),{},{email:!1}));var t=Object(s.a)({},H);"firstname"===e.target.name&&(t.firstname=e.target.value),"lastname"===e.target.name&&(t.lastname=e.target.value),"emailid"===e.target.name&&(t.emailid=e.target.value),K(t)};return Object(z.jsx)(z.Fragment,{children:D?Object(z.jsxs)(z.Fragment,{children:[" ",Object(z.jsx)(v.a,{active:!0})," ",Object(z.jsx)(v.a,{active:!0})]}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsxs)(u.a.Ripple,{className:"ml-2 mb-2",color:"primary",tag:n.b,to:"/user",children:[Object(z.jsx)(o.a,{size:10}),Object(z.jsx)("span",{className:"align-middle ml-50",children:"Back to staff list"})]}),Object(z.jsxs)(m.a,{children:[Object(z.jsx)(j.a,{className:"border-bottom",children:Object(z.jsx)("h5",{children:"Update Staff Info"})}),Object(z.jsx)(b.a,{style:{paddingTop:"15px"},children:Object(z.jsxs)(f.a,{className:"row",style:{width:"100%"},onSubmit:function(a){a.preventDefault();var t=H.id,r=H.firstname,l=H.lastname,c=H.emailid,n=H.roleid,i=H.storeid,o=H.titleid,d=/\S+@\S+\.\S+/.test(c),u=Object(s.a)({},X);if(u.email=!d,u.userType=!n,u.userTitle=!o,u.storeName=!i,Y(u),d){var m="".concat(r," ").concat(l);n&&i&&o&&y.a.adminUserEdit({id:t,fullname:m,roleid:n,emailid:c,storeid:i,title:o}).then((function(a){console.log(a),C.fire({icon:"success",title:"Done!",text:"The Staff Info has been updated.",customClass:{confirmButton:"btn btn-success"}}),setTimeout((function(){e.replace("/user")}),1e3)})).catch((function(e){console.log(e)}))}},autoComplete:"off",children:[Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"firstName",children:["First Name ",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(z.jsx)(g.a,{type:"text",name:"firstname",id:"firstName",required:!0,placeholder:"firstName",value:H.firstname,onChange:Z})]})}),Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"lastName",children:["Last Name ",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(z.jsx)(g.a,{type:"text",name:"lastname",id:"lastName",onChange:Z,required:!0,placeholder:"lastName",value:H.lastname})]})}),Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"Email",children:["Email ",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",X.email&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:" is not valid"}),Object(z.jsx)(g.a,{type:"email",name:"emailid",id:"Email",onChange:Z,placeholder:"Email",value:H.emailid})]})}),Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"StoreName",children:["Store Name",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",X.storeName&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(z.jsx)(i.a,{theme:d.h,className:"react-select",classNamePrefix:"select",name:"StoreName",defaultValue:{label:H.storename,value:H.storeid},onChange:function(e,a){if("clear"===a.action){var t=Object(s.a)({},H);t.storeid=null,K(t)}else{Y(Object(s.a)(Object(s.a)({},X),{},{storeName:!1}));var r=Object(s.a)({},H);r.storeid=e.value,K(r)}},options:L,isClearable:!0,isLoading:!1})]})}),Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"UserType",children:["User Type",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",X.userType&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(z.jsx)(i.a,{theme:d.h,className:"react-select",classNamePrefix:"select",defaultValue:{label:H.rolename,value:H.roleid},name:"UserType",onChange:function(e,a){if("clear"===a.action){var t=Object(s.a)({},H);t.roleid=null,K(t)}else{Y(Object(s.a)(Object(s.a)({},X),{},{userType:!1}));var r=Object(s.a)({},H);r.roleid=e.value,K(r)}},options:T,isClearable:!0,isLoading:!1})]})}),Object(z.jsx)(p.a,{sm:"3",children:Object(z.jsxs)(h.a,{children:[Object(z.jsxs)(O.a,{for:"UserTitle",children:["User Title",Object(z.jsx)("span",{style:{color:"red"},children:"*"})]}),"\xa0",X.userTitle&&Object(z.jsx)("span",{style:{color:"red",fontSize:"11px"},children:"Required"}),Object(z.jsx)(i.a,{theme:d.h,className:"react-select",classNamePrefix:"select",name:"UserTitle",defaultValue:{label:H.title,value:H.titleid},onChange:function(e,a){if("clear"===a.action){var t=Object(s.a)({},H);t.titleid=null,K(t)}else{Y(Object(s.a)(Object(s.a)({},X),{},{userTitle:!1}));var r=Object(s.a)({},H);r.titleid=e.value,K(r)}},options:E,isClearable:!0,isLoading:!1})]})}),Object(z.jsx)(p.a,{sm:"3",children:J?Object(z.jsxs)(u.a.Ripple,{color:"primary",className:"mr-1",disabled:!0,style:{marginTop:"25px"},children:[Object(z.jsx)(x.a,{color:"white",size:"sm"}),Object(z.jsx)("span",{className:"ml-50",children:"Loading..."})]}):Object(z.jsx)(u.a.Ripple,{className:"ml-2",color:"primary",type:"submit",style:{marginTop:"25px"},children:Object(z.jsx)("span",{className:"align-middle ml-50",children:"Update"})})})]})})]})," "]})})}},460:function(e,a,t){"use strict";var s=t(14),r=t(20),l=t(0),c=t.n(l),n=t(5),i=t.n(n),o=t(56),d=t.n(o),u=t(78),m={tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},j=function(e){var a=e.className,t=e.cssModule,l=e.innerRef,n=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),o=Object(u.mapToCssModules)(d()(a,"card-body"),t);return c.a.createElement(n,Object(s.a)({},i,{className:o,ref:l}))};j.propTypes=m,j.defaultProps={tag:"div"},a.a=j},467:function(e,a,t){"use strict";var s=t(14),r=t(20),l=t(0),c=t.n(l),n=t(5),i=t.n(n),o=t(56),d=t.n(o),u=t(78),m=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:m,offset:m})]),b={tag:u.tagPropType,xs:j,sm:j,md:j,lg:j,xl:j,className:i.a.string,cssModule:i.a.object,widths:i.a.array},f={tag:"div",widths:["xs","sm","md","lg","xl"]},p=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},h=function(e){var a=e.className,t=e.cssModule,l=e.widths,n=e.tag,i=Object(r.a)(e,["className","cssModule","widths","tag"]),o=[];l.forEach((function(a,s){var r=e[a];if(delete i[a],r||""===r){var l=!s;if(Object(u.isObject)(r)){var c,n=l?"-":"-"+a+"-",m=p(l,a,r.size);o.push(Object(u.mapToCssModules)(d()(((c={})[m]=r.size||""===r.size,c["order"+n+r.order]=r.order||0===r.order,c["offset"+n+r.offset]=r.offset||0===r.offset,c)),t))}else{var j=p(l,a,r);o.push(j)}}})),o.length||o.push("col");var m=Object(u.mapToCssModules)(d()(a,o),t);return c.a.createElement(n,Object(s.a)({},i,{className:m}))};h.propTypes=b,h.defaultProps=f,a.a=h},475:function(e,a,t){"use strict";var s=t(14),r=t(20),l=t(117),c=t(116),n=t(0),i=t.n(n),o=t(5),d=t.n(o),u=t(56),m=t.n(u),j=t(78),b={children:d.a.node,inline:d.a.bool,tag:j.tagPropType,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),className:d.a.string,cssModule:d.a.object},f=function(e){function a(a){var t;return(t=e.call(this,a)||this).getRef=t.getRef.bind(Object(l.a)(t)),t.submit=t.submit.bind(Object(l.a)(t)),t}Object(c.a)(a,e);var t=a.prototype;return t.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},t.submit=function(){this.ref&&this.ref.submit()},t.render=function(){var e=this.props,a=e.className,t=e.cssModule,l=e.inline,c=e.tag,n=e.innerRef,o=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),d=Object(j.mapToCssModules)(m()(a,!!l&&"form-inline"),t);return i.a.createElement(c,Object(s.a)({},o,{ref:n,className:d}))},a}(n.Component);f.propTypes=b,f.defaultProps={tag:"form"},a.a=f},477:function(e,a,t){"use strict";var s=t(14),r=t(20),l=t(0),c=t.n(l),n=t(5),i=t.n(n),o=t(56),d=t.n(o),u=t(78),m={tag:u.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},j=function(e){var a=e.className,t=e.cssModule,l=e.type,n=e.size,i=e.color,o=e.children,m=e.tag,j=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(u.mapToCssModules)(d()(a,!!n&&"spinner-"+l+"-"+n,"spinner-"+l,!!i&&"text-"+i),t);return c.a.createElement(m,Object(s.a)({role:"status"},j,{className:b}),o&&c.a.createElement("span",{className:Object(u.mapToCssModules)("sr-only",t)},o))};j.propTypes=m,j.defaultProps={tag:"div",type:"border",children:"Loading..."},a.a=j},479:function(e,a,t){"use strict";var s=t(14),r=t(20),l=t(0),c=t.n(l),n=t(5),i=t.n(n),o=t(56),d=t.n(o),u=t(78),m=i.a.oneOfType([i.a.number,i.a.string]),j=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:m,order:m,offset:m})]),b={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:u.tagPropType,className:i.a.string,cssModule:i.a.object,xs:j,sm:j,md:j,lg:j,xl:j,widths:i.a.array},f={tag:"label",widths:["xs","sm","md","lg","xl"]},p=function(e,a,t){return!0===t||""===t?e?"col":"col-"+a:"auto"===t?e?"col-auto":"col-"+a+"-auto":e?"col-"+t:"col-"+a+"-"+t},h=function(e){var a=e.className,t=e.cssModule,l=e.hidden,n=e.widths,i=e.tag,o=e.check,m=e.size,j=e.for,b=Object(r.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),f=[];n.forEach((function(a,s){var r=e[a];if(delete b[a],r||""===r){var l,c=!s;if(Object(u.isObject)(r)){var n,i=c?"-":"-"+a+"-";l=p(c,a,r.size),f.push(Object(u.mapToCssModules)(d()(((n={})[l]=r.size||""===r.size,n["order"+i+r.order]=r.order||0===r.order,n["offset"+i+r.offset]=r.offset||0===r.offset,n))),t)}else l=p(c,a,r),f.push(l)}}));var h=Object(u.mapToCssModules)(d()(a,!!l&&"sr-only",!!o&&"form-check-label",!!m&&"col-form-label-"+m,f,!!f.length&&"col-form-label"),t);return c.a.createElement(i,Object(s.a)({htmlFor:j},b,{className:h}))};h.propTypes=b,h.defaultProps=f,a.a=h}}]);
//# sourceMappingURL=220.9ea7f0f9.chunk.js.map