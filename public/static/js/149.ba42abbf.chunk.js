(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[149],{1613:function(e,t,a){"use strict";a.r(t);var s=a(121),n=a(21),o=a(15),r=a(0),c=a(653),i=a(485),l=a.n(i),u=a(492),d=a.n(u),p=a(1504),m=a(1405),b=(a(471),a(472)),g=a(468),f=a(460),j=a(475),h=a(465),O=a(467),v=a(479),y=a(1369),x=a(446),C=a(476),N=a(459),T=a(466),M=a(481),w=a.n(M),k=a(482),P=a.n(k),_=a(567),R=a(455),L=a(6),S=P()(w.a);t.default=function(){Object(c.g)();var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],i=t[1],u=Object(r.useState)(0),M=Object(o.a)(u,2),k=M[0],P=M[1],B=Object(r.useState)(!0),z=Object(o.a)(B,2),E=z[0],D=z[1],Y=Object(r.useState)(!1),F=Object(o.a)(Y,2),H=F[0],W=F[1],A=Object(r.useState)([]),I=Object(o.a)(A,2),U=I[0],$=I[1],G=Object(r.useState)(0),J=Object(o.a)(G,2),K=J[0],q=J[1],Q=localStorage.getItem("ip"),V=Object(r.useState)(!1),X=Object(o.a)(V,2),Z=(X[0],X[1],function(e){return S.fire(Object(n.a)({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!0,showLoaderOnConfirm:!0,confirmButtonText:"Yes, delete it!",customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-outline-danger ml-1"},buttonsStyling:!1,preConfirm:function(){return T.a.depositDelete({deposit_id:e}).then((function(e){var t=e.data.payload.balance;return q(void 0===t?0:t),e})).catch((function(e){return console.log(e),Object(R.a)(e),!1}))}},"allowOutsideClick",(function(){return!w.a.isLoading()}))).then((function(t){t.isConfirmed&&(!function(e){var t=U.filter((function(t){return t.id!==e}));$(t)}(e),S.fire({icon:"success",title:"Deleted!",text:"The Deposit has been deleted.",customClass:{confirmButton:"btn btn-success"}}))}))});Object(r.useEffect)((function(){T.a.depositLogList({page:1,limit:30,from_id:2,to_id:3,ip:Q}).then((function(e){D(!1),$(e.data.payload.data),console.log(e.data.payload.data),q(e.data.payload.current_balance)})).catch((function(e){console.log(e)}))}),[]);var ee=[{name:"Time",selector:function(e){return Object(_.b)(e.created_at)},minWidth:"200px",sortable:!0},{name:"Till",selector:"till_id",minWidth:"100px",sortable:!0},{name:"Deposit Amount",selector:function(e,t){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(_.c)((+e.deposit_amount).toFixed(2)))},minWidth:"150px",sortable:!0},{name:"Till Balance",selector:function(e,t){return"".concat(window.CURRENCY_SYMBOL," ").concat(Object(_.c)((+e.current_balance).toFixed(2)))},minWidth:"200px",sortable:!0},{name:"User",selector:"created_by",minWidth:"200px",sortable:!0},{name:"Actions",allowOverflow:!0,cell:function(e){return Object(L.jsx)(p.a,{size:15,color:"red",style:{cursor:"pointer"},onClick:function(t){return Z(e.id)}})}}];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(b.a,{className:"py-0 px-1",children:[Object(L.jsx)(g.a,{className:"border-bottom",children:Object(L.jsx)(f.a,{tag:"h4",children:"Safe Deposit to Bank"})}),Object(L.jsx)(j.a,{className:"my-2",style:{width:"100%"},onSubmit:function(e){e.preventDefault(),""!==a&&0!==Number(a)&&(W(!0),T.a.submitDeposit({deposit_amount:a,from_id:2,to_id:3,ip:Q}).then((function(e){Object(R.c)(e);var t=e.data.payload,a=(t.current_balance,t.deposit_amount),n=t.till_balance,o=t.till_id,r=t.username,c={id:t.id,created_at:(new Date).toISOString(),till_id:o,deposit_amount:a,created_by:r,current_balance:n};q(n),$([c].concat(Object(s.a)(U))),i(""),W(!1)})).catch((function(e){Object(R.a)(e),W(!1)})))},autoComplete:"off",children:Object(L.jsxs)(h.a,{children:[Object(L.jsxs)(O.a,{md:"6",children:[Object(L.jsx)(v.a,{for:"From",children:"Amount"}),Object(L.jsx)(y.a,{style:{width:"100%"},placeholder:"1000",type:"number",min:"0",id:"search-input",value:a,onChange:function(e){i(e.target.value)}})]}),Object(L.jsx)(O.a,{md:"2",children:H?Object(L.jsxs)(x.a.Ripple,{color:"primary",style:{marginTop:"22px"},disabled:!0,children:[Object(L.jsx)(C.a,{color:"white",size:"sm"}),Object(L.jsx)("small",{className:"ml-50",children:"Loading..."})]}):Object(L.jsx)(x.a.Ripple,{color:"primary",style:{marginTop:"22px"},type:"submit",children:Object(L.jsx)("span",{className:"align-middle ml-50",children:"Deposit"})})}),Object(L.jsxs)(O.a,{md:"4",children:[Object(L.jsx)(v.a,{for:"From",children:"Current Till Cash Balance"}),Object(L.jsx)("h2",{children:"".concat(window.CURRENCY_SYMBOL," ").concat(Object(_.c)((+K).toFixed(2)))})]})]})})]}),Object(L.jsxs)(b.a,{children:[Object(L.jsx)(g.a,{className:"border-bottom",children:Object(L.jsx)(f.a,{tag:"h4",children:"Last 30 Items"})}),Object(L.jsx)(d.a,{noHeader:!0,pagination:!0,columns:ee,paginationPerPage:5,className:"react-dataTable",sortIcon:Object(L.jsx)(m.a,{size:10}),paginationDefaultPage:k+1,paginationComponent:function(){var e;return Object(L.jsx)(l.a,(e={previousLabel:"",nextLabel:"",forcePage:k,onPageChange:function(e){return function(e){P(e.selected)}(e)},pageCount:U.length?U.length/5:1,breakLabel:"...",pageRangeDisplayed:2,marginPagesDisplayed:2,activeClassName:"active",pageClassName:"page-item",breakClassName:"page-item",breakLinkClassName:"page-link",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link"},Object(n.a)(e,"breakClassName","page-item"),Object(n.a)(e,"breakLinkClassName","page-link"),Object(n.a)(e,"containerClassName","pagination react-paginate separated-pagination pagination-sm justify-content-end pr-1 mt-1"),e))},data:U,progressPending:E,progressComponent:Object(L.jsx)(C.a,{color:"primary"}),responsive:!0}),Object(L.jsx)(N.a,{style:{paddingTop:"15px"}})]})]})}},455:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));a(0);var s=a(118),n=function(e){try{var t=e.response;404===t.status||401===t.status||400===t.status||500===t.status?s.f.error(t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):s.f.error("The server is under maintenance",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},o=function(e){try{var t=e.response;404!==t.status&&401!==t.status&&400!==t.status||s.f.error(t.data.errors?t.data.errors[Object.keys(t.data.errors)[0]]:t.data.message,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}catch(t){s.f.error("Please check your connection",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},r=function(e){var t=e.data.message||"success";s.f.success(t,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},459:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},m=function(e){var t=e.className,a=e.cssModule,o=e.innerRef,c=e.tag,i=Object(n.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.mapToCssModules)(u()(t,"card-body"),a);return r.a.createElement(c,Object(s.a)({},i,{className:l,ref:o}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},460:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},m=function(e){var t=e.className,a=e.cssModule,o=e.tag,c=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-title"),a);return r.a.createElement(o,Object(s.a)({},c,{className:i}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},465:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p=i.a.oneOfType([i.a.number,i.a.string]),m={tag:d.tagPropType,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:p,sm:p,md:p,lg:p,xl:p},b={tag:"div",widths:["xs","sm","md","lg","xl"]},g=function(e){var t=e.className,a=e.cssModule,o=e.noGutters,c=e.tag,i=e.form,l=e.widths,p=Object(n.a)(e,["className","cssModule","noGutters","tag","form","widths"]),m=[];l.forEach((function(t,a){var s=e[t];if(delete p[t],s){var n=!a;m.push(n?"row-cols-"+s:"row-cols-"+t+"-"+s)}}));var b=Object(d.mapToCssModules)(u()(t,o?"no-gutters":null,i?"form-row":"row",m),a);return r.a.createElement(c,Object(s.a)({},p,{className:b}))};g.propTypes=m,g.defaultProps=b,t.a=g},467:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p=i.a.oneOfType([i.a.number,i.a.string]),m=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:p,offset:p})]),b={tag:d.tagPropType,xs:m,sm:m,md:m,lg:m,xl:m,className:i.a.string,cssModule:i.a.object,widths:i.a.array},g={tag:"div",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},j=function(e){var t=e.className,a=e.cssModule,o=e.widths,c=e.tag,i=Object(n.a)(e,["className","cssModule","widths","tag"]),l=[];o.forEach((function(t,s){var n=e[t];if(delete i[t],n||""===n){var o=!s;if(Object(d.isObject)(n)){var r,c=o?"-":"-"+t+"-",p=f(o,t,n.size);l.push(Object(d.mapToCssModules)(u()(((r={})[p]=n.size||""===n.size,r["order"+c+n.order]=n.order||0===n.order,r["offset"+c+n.offset]=n.offset||0===n.offset,r)),a))}else{var m=f(o,t,n);l.push(m)}}})),l.length||l.push("col");var p=Object(d.mapToCssModules)(u()(t,l),a);return r.a.createElement(c,Object(s.a)({},i,{className:p}))};j.propTypes=b,j.defaultProps=g,t.a=j},468:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,className:i.a.string,cssModule:i.a.object},m=function(e){var t=e.className,a=e.cssModule,o=e.tag,c=Object(n.a)(e,["className","cssModule","tag"]),i=Object(d.mapToCssModules)(u()(t,"card-header"),a);return r.a.createElement(o,Object(s.a)({},c,{className:i}))};m.propTypes=p,m.defaultProps={tag:"div"},t.a=m},475:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(117),r=a(116),c=a(0),i=a.n(c),l=a(5),u=a.n(l),d=a(56),p=a.n(d),m=a(78),b={children:u.a.node,inline:u.a.bool,tag:m.tagPropType,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},g=function(e){function t(t){var a;return(a=e.call(this,t)||this).getRef=a.getRef.bind(Object(o.a)(a)),a.submit=a.submit.bind(Object(o.a)(a)),a}Object(r.a)(t,e);var a=t.prototype;return a.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},a.submit=function(){this.ref&&this.ref.submit()},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,o=e.inline,r=e.tag,c=e.innerRef,l=Object(n.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(m.mapToCssModules)(p()(t,!!o&&"form-inline"),a);return i.a.createElement(r,Object(s.a)({},l,{ref:c,className:u}))},t}(c.Component);g.propTypes=b,g.defaultProps={tag:"form"},t.a=g},476:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p={tag:d.tagPropType,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},m=function(e){var t=e.className,a=e.cssModule,o=e.type,c=e.size,i=e.color,l=e.children,p=e.tag,m=Object(n.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(d.mapToCssModules)(u()(t,!!c&&"spinner-"+o+"-"+c,"spinner-"+o,!!i&&"text-"+i),a);return r.a.createElement(p,Object(s.a)({role:"status"},m,{className:b}),l&&r.a.createElement("span",{className:Object(d.mapToCssModules)("sr-only",a)},l))};m.propTypes=p,m.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=m},479:function(e,t,a){"use strict";var s=a(14),n=a(20),o=a(0),r=a.n(o),c=a(5),i=a.n(c),l=a(56),u=a.n(l),d=a(78),p=i.a.oneOfType([i.a.number,i.a.string]),m=i.a.oneOfType([i.a.bool,i.a.string,i.a.number,i.a.shape({size:p,order:p,offset:p})]),b={children:i.a.node,hidden:i.a.bool,check:i.a.bool,size:i.a.string,for:i.a.string,tag:d.tagPropType,className:i.a.string,cssModule:i.a.object,xs:m,sm:m,md:m,lg:m,xl:m,widths:i.a.array},g={tag:"label",widths:["xs","sm","md","lg","xl"]},f=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},j=function(e){var t=e.className,a=e.cssModule,o=e.hidden,c=e.widths,i=e.tag,l=e.check,p=e.size,m=e.for,b=Object(n.a)(e,["className","cssModule","hidden","widths","tag","check","size","for"]),g=[];c.forEach((function(t,s){var n=e[t];if(delete b[t],n||""===n){var o,r=!s;if(Object(d.isObject)(n)){var c,i=r?"-":"-"+t+"-";o=f(r,t,n.size),g.push(Object(d.mapToCssModules)(u()(((c={})[o]=n.size||""===n.size,c["order"+i+n.order]=n.order||0===n.order,c["offset"+i+n.offset]=n.offset||0===n.offset,c))),a)}else o=f(r,t,n),g.push(o)}}));var j=Object(d.mapToCssModules)(u()(t,!!o&&"sr-only",!!l&&"form-check-label",!!p&&"col-form-label-"+p,g,!!g.length&&"col-form-label"),a);return r.a.createElement(i,Object(s.a)({htmlFor:m},b,{className:j}))};j.propTypes=b,j.defaultProps=g,t.a=j},567:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));var s=function(e){return String(e).replace(/^(.{4})(.*)(.{3})$/,"$1 $2 $3")},n={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},o=function(e){return new Date(e).toLocaleDateString(void 0,n)},r=function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}}]);
//# sourceMappingURL=149.ba42abbf.chunk.js.map